(function(a, b) {
    if (typeof module === "object" && typeof module.exports === "object") {
        module.exports = a.document ? b(a, true) : function(a) {
            if (!a.document) {
                throw new Error("jQuery requires a window with a document");
            }
            return b(a);
        };
    } else {
        b(a);
    }
})(typeof window !== "undefined" ? window : this, function(a, b) {
    var c = [];
    var d = c.slice;
    var e = c.concat;
    var f = c.push;
    var g = c.indexOf;
    var h = {};
    var i = h.toString;
    var j = h.hasOwnProperty;
    var k = {};
    var l = a.document, m = "2.1.4", n = function(a, b) {
        return new n.fn.init(a, b);
    }, o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, p = /^-ms-/, q = /-([\da-z])/gi, r = function(a, b) {
        return b.toUpperCase();
    };
    n.fn = n.prototype = {
        jquery: m,
        constructor: n,
        selector: "",
        length: 0,
        toArray: function() {
            return d.call(this);
        },
        get: function(a) {
            return a != null ? a < 0 ? this[a + this.length] : this[a] : d.call(this);
        },
        pushStack: function(a) {
            var b = n.merge(this.constructor(), a);
            b.prevObject = this;
            b.context = this.context;
            return b;
        },
        each: function(a, b) {
            return n.each(this, a, b);
        },
        map: function(a) {
            return this.pushStack(n.map(this, function(b, c) {
                return a.call(b, c, b);
            }));
        },
        slice: function() {
            return this.pushStack(d.apply(this, arguments));
        },
        first: function() {
            return this.eq(0);
        },
        last: function() {
            return this.eq(-1);
        },
        eq: function(a) {
            var b = this.length, c = +a + (a < 0 ? b : 0);
            return this.pushStack(c >= 0 && c < b ? [ this[c] ] : []);
        },
        end: function() {
            return this.prevObject || this.constructor(null);
        },
        push: f,
        sort: c.sort,
        splice: c.splice
    };
    n.extend = n.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = false;
        if (typeof g === "boolean") {
            j = g;
            g = arguments[h] || {};
            h++;
        }
        if (typeof g !== "object" && !n.isFunction(g)) {
            g = {};
        }
        if (h === i) {
            g = this;
            h--;
        }
        for (;h < i; h++) {
            if ((a = arguments[h]) != null) {
                for (b in a) {
                    c = g[b];
                    d = a[b];
                    if (g === d) {
                        continue;
                    }
                    if (j && d && (n.isPlainObject(d) || (e = n.isArray(d)))) {
                        if (e) {
                            e = false;
                            f = c && n.isArray(c) ? c : [];
                        } else {
                            f = c && n.isPlainObject(c) ? c : {};
                        }
                        g[b] = n.extend(j, f, d);
                    } else if (d !== undefined) {
                        g[b] = d;
                    }
                }
            }
        }
        return g;
    };
    n.extend({
        expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
        isReady: true,
        error: function(a) {
            throw new Error(a);
        },
        noop: function() {},
        isFunction: function(a) {
            return n.type(a) === "function";
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return a != null && a === a.window;
        },
        isNumeric: function(a) {
            return !n.isArray(a) && a - parseFloat(a) + 1 >= 0;
        },
        isPlainObject: function(a) {
            if (n.type(a) !== "object" || a.nodeType || n.isWindow(a)) {
                return false;
            }
            if (a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf")) {
                return false;
            }
            return true;
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a) {
                return false;
            }
            return true;
        },
        type: function(a) {
            if (a == null) {
                return a + "";
            }
            return typeof a === "object" || typeof a === "function" ? h[i.call(a)] || "object" : typeof a;
        },
        globalEval: function(a) {
            var b, c = eval;
            a = n.trim(a);
            if (a) {
                if (a.indexOf("use strict") === 1) {
                    b = l.createElement("script");
                    b.text = a;
                    l.head.appendChild(b).parentNode.removeChild(b);
                } else {
                    c(a);
                }
            }
        },
        camelCase: function(a) {
            return a.replace(p, "ms-").replace(q, r);
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
        },
        each: function(a, b, c) {
            var d, e = 0, f = a.length, g = s(a);
            if (c) {
                if (g) {
                    for (;e < f; e++) {
                        d = b.apply(a[e], c);
                        if (d === false) {
                            break;
                        }
                    }
                } else {
                    for (e in a) {
                        d = b.apply(a[e], c);
                        if (d === false) {
                            break;
                        }
                    }
                }
            } else {
                if (g) {
                    for (;e < f; e++) {
                        d = b.call(a[e], e, a[e]);
                        if (d === false) {
                            break;
                        }
                    }
                } else {
                    for (e in a) {
                        d = b.call(a[e], e, a[e]);
                        if (d === false) {
                            break;
                        }
                    }
                }
            }
            return a;
        },
        trim: function(a) {
            return a == null ? "" : (a + "").replace(o, "");
        },
        makeArray: function(a, b) {
            var c = b || [];
            if (a != null) {
                if (s(Object(a))) {
                    n.merge(c, typeof a === "string" ? [ a ] : a);
                } else {
                    f.call(c, a);
                }
            }
            return c;
        },
        inArray: function(a, b, c) {
            return b == null ? -1 : g.call(b, a, c);
        },
        merge: function(a, b) {
            var c = +b.length, d = 0, e = a.length;
            for (;d < c; d++) {
                a[e++] = b[d];
            }
            a.length = e;
            return a;
        },
        grep: function(a, b, c) {
            var d, e = [], f = 0, g = a.length, h = !c;
            for (;f < g; f++) {
                d = !b(a[f], f);
                if (d !== h) {
                    e.push(a[f]);
                }
            }
            return e;
        },
        map: function(a, b, c) {
            var d, f = 0, g = a.length, h = s(a), i = [];
            if (h) {
                for (;f < g; f++) {
                    d = b(a[f], f, c);
                    if (d != null) {
                        i.push(d);
                    }
                }
            } else {
                for (f in a) {
                    d = b(a[f], f, c);
                    if (d != null) {
                        i.push(d);
                    }
                }
            }
            return e.apply([], i);
        },
        guid: 1,
        proxy: function(a, b) {
            var c, e, f;
            if (typeof b === "string") {
                c = a[b];
                b = a;
                a = c;
            }
            if (!n.isFunction(a)) {
                return undefined;
            }
            e = d.call(arguments, 2);
            f = function() {
                return a.apply(b || this, e.concat(d.call(arguments)));
            };
            f.guid = a.guid = a.guid || n.guid++;
            return f;
        },
        now: Date.now,
        support: k
    });
    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        h["[object " + b + "]"] = b.toLowerCase();
    });
    function s(a) {
        var b = "length" in a && a.length, c = n.type(a);
        if (c === "function" || n.isWindow(a)) {
            return false;
        }
        if (a.nodeType === 1 && b) {
            return true;
        }
        return c === "array" || b === 0 || typeof b === "number" && b > 0 && b - 1 in a;
    }
    var t = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date(), v = a.document, w = 0, x = 0, y = ha(), z = ha(), A = ha(), B = function(a, b) {
            if (a === b) {
                l = true;
            }
            return 0;
        }, C = 1 << 31, D = {}.hasOwnProperty, E = [], F = E.pop, G = E.push, H = E.push, I = E.slice, J = function(a, b) {
            var c = 0, d = a.length;
            for (;c < d; c++) {
                if (a[c] === b) {
                    return c;
                }
            }
            return -1;
        }, K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", N = M.replace("w", "w#"), O = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + N + "))|)" + L + "*\\]", P = ":(" + M + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + O + ")*)|" + ".*" + ")\\)|)", Q = new RegExp(L + "+", "g"), R = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"), S = new RegExp("^" + L + "*," + L + "*"), T = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), U = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"), V = new RegExp(P), W = new RegExp("^" + N + "$"), X = {
            ID: new RegExp("^#(" + M + ")"),
            CLASS: new RegExp("^\\.(" + M + ")"),
            TAG: new RegExp("^(" + M.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + O),
            PSEUDO: new RegExp("^" + P),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + K + ")$", "i"),
            needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i")
        }, Y = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, $ = /^[^{]+\{\s*\[native \w/, _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, aa = /[+~]/, ba = /'|\\/g, ca = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig"), da = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, d & 1023 | 56320);
        }, ea = function() {
            m();
        };
        try {
            H.apply(E = I.call(v.childNodes), v.childNodes);
            E[v.childNodes.length].nodeType;
        } catch (fa) {
            H = {
                apply: E.length ? function(a, b) {
                    G.apply(a, I.call(b));
                } : function(a, b) {
                    var c = a.length, d = 0;
                    while (a[c++] = b[d++]) {}
                    a.length = c - 1;
                }
            };
        }
        function ga(a, b, d, e) {
            var f, h, j, k, l, o, r, s, w, x;
            if ((b ? b.ownerDocument || b : v) !== n) {
                m(b);
            }
            b = b || n;
            d = d || [];
            k = b.nodeType;
            if (typeof a !== "string" || !a || k !== 1 && k !== 9 && k !== 11) {
                return d;
            }
            if (!e && p) {
                if (k !== 11 && (f = _.exec(a))) {
                    if (j = f[1]) {
                        if (k === 9) {
                            h = b.getElementById(j);
                            if (h && h.parentNode) {
                                if (h.id === j) {
                                    d.push(h);
                                    return d;
                                }
                            } else {
                                return d;
                            }
                        } else {
                            if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j) {
                                d.push(h);
                                return d;
                            }
                        }
                    } else if (f[2]) {
                        H.apply(d, b.getElementsByTagName(a));
                        return d;
                    } else if ((j = f[3]) && c.getElementsByClassName) {
                        H.apply(d, b.getElementsByClassName(j));
                        return d;
                    }
                }
                if (c.qsa && (!q || !q.test(a))) {
                    s = r = u;
                    w = b;
                    x = k !== 1 && a;
                    if (k === 1 && b.nodeName.toLowerCase() !== "object") {
                        o = g(a);
                        if (r = b.getAttribute("id")) {
                            s = r.replace(ba, "\\$&");
                        } else {
                            b.setAttribute("id", s);
                        }
                        s = "[id='" + s + "'] ";
                        l = o.length;
                        while (l--) {
                            o[l] = s + ra(o[l]);
                        }
                        w = aa.test(a) && pa(b.parentNode) || b;
                        x = o.join(",");
                    }
                    if (x) {
                        try {
                            H.apply(d, w.querySelectorAll(x));
                            return d;
                        } catch (y) {} finally {
                            if (!r) {
                                b.removeAttribute("id");
                            }
                        }
                    }
                }
            }
            return i(a.replace(R, "$1"), b, d, e);
        }
        function ha() {
            var a = [];
            function b(c, e) {
                if (a.push(c + " ") > d.cacheLength) {
                    delete b[a.shift()];
                }
                return b[c + " "] = e;
            }
            return b;
        }
        function ia(a) {
            a[u] = true;
            return a;
        }
        function ja(a) {
            var b = n.createElement("div");
            try {
                return !!a(b);
            } catch (c) {
                return false;
            } finally {
                if (b.parentNode) {
                    b.parentNode.removeChild(b);
                }
                b = null;
            }
        }
        function ka(a, b) {
            var c = a.split("|"), e = a.length;
            while (e--) {
                d.attrHandle[c[e]] = b;
            }
        }
        function la(a, b) {
            var c = b && a, d = c && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || C) - (~a.sourceIndex || C);
            if (d) {
                return d;
            }
            if (c) {
                while (c = c.nextSibling) {
                    if (c === b) {
                        return -1;
                    }
                }
            }
            return a ? 1 : -1;
        }
        function ma(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return c === "input" && b.type === a;
            };
        }
        function na(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return (c === "input" || c === "button") && b.type === a;
            };
        }
        function oa(a) {
            return ia(function(b) {
                b = +b;
                return ia(function(c, d) {
                    var e, f = a([], c.length, b), g = f.length;
                    while (g--) {
                        if (c[e = f[g]]) {
                            c[e] = !(d[e] = c[e]);
                        }
                    }
                });
            });
        }
        function pa(a) {
            return a && typeof a.getElementsByTagName !== "undefined" && a;
        }
        c = ga.support = {};
        f = ga.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? b.nodeName !== "HTML" : false;
        };
        m = ga.setDocument = function(a) {
            var b, e, g = a ? a.ownerDocument || a : v;
            if (g === n || g.nodeType !== 9 || !g.documentElement) {
                return n;
            }
            n = g;
            o = g.documentElement;
            e = g.defaultView;
            if (e && e !== e.top) {
                if (e.addEventListener) {
                    e.addEventListener("unload", ea, false);
                } else if (e.attachEvent) {
                    e.attachEvent("onunload", ea);
                }
            }
            p = !f(g);
            c.attributes = ja(function(a) {
                a.className = "i";
                return !a.getAttribute("className");
            });
            c.getElementsByTagName = ja(function(a) {
                a.appendChild(g.createComment(""));
                return !a.getElementsByTagName("*").length;
            });
            c.getElementsByClassName = $.test(g.getElementsByClassName);
            c.getById = ja(function(a) {
                o.appendChild(a).id = u;
                return !g.getElementsByName || !g.getElementsByName(u).length;
            });
            if (c.getById) {
                d.find["ID"] = function(a, b) {
                    if (typeof b.getElementById !== "undefined" && p) {
                        var c = b.getElementById(a);
                        return c && c.parentNode ? [ c ] : [];
                    }
                };
                d.filter["ID"] = function(a) {
                    var b = a.replace(ca, da);
                    return function(a) {
                        return a.getAttribute("id") === b;
                    };
                };
            } else {
                delete d.find["ID"];
                d.filter["ID"] = function(a) {
                    var b = a.replace(ca, da);
                    return function(a) {
                        var c = typeof a.getAttributeNode !== "undefined" && a.getAttributeNode("id");
                        return c && c.value === b;
                    };
                };
            }
            d.find["TAG"] = c.getElementsByTagName ? function(a, b) {
                if (typeof b.getElementsByTagName !== "undefined") {
                    return b.getElementsByTagName(a);
                } else if (c.qsa) {
                    return b.querySelectorAll(a);
                }
            } : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if (a === "*") {
                    while (c = f[e++]) {
                        if (c.nodeType === 1) {
                            d.push(c);
                        }
                    }
                    return d;
                }
                return f;
            };
            d.find["CLASS"] = c.getElementsByClassName && function(a, b) {
                if (p) {
                    return b.getElementsByClassName(a);
                }
            };
            r = [];
            q = [];
            if (c.qsa = $.test(g.querySelectorAll)) {
                ja(function(a) {
                    o.appendChild(a).innerHTML = "<a id='" + u + "'></a>" + "<select id='" + u + "-\f]' msallowcapture=''>" + "<option selected=''></option></select>";
                    if (a.querySelectorAll("[msallowcapture^='']").length) {
                        q.push("[*^$]=" + L + "*(?:''|\"\")");
                    }
                    if (!a.querySelectorAll("[selected]").length) {
                        q.push("\\[" + L + "*(?:value|" + K + ")");
                    }
                    if (!a.querySelectorAll("[id~=" + u + "-]").length) {
                        q.push("~=");
                    }
                    if (!a.querySelectorAll(":checked").length) {
                        q.push(":checked");
                    }
                    if (!a.querySelectorAll("a#" + u + "+*").length) {
                        q.push(".#.+[+~]");
                    }
                });
                ja(function(a) {
                    var b = g.createElement("input");
                    b.setAttribute("type", "hidden");
                    a.appendChild(b).setAttribute("name", "D");
                    if (a.querySelectorAll("[name=d]").length) {
                        q.push("name" + L + "*[*^$|!~]?=");
                    }
                    if (!a.querySelectorAll(":enabled").length) {
                        q.push(":enabled", ":disabled");
                    }
                    a.querySelectorAll("*,:x");
                    q.push(",.*:");
                });
            }
            if (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) {
                ja(function(a) {
                    c.disconnectedMatch = s.call(a, "div");
                    s.call(a, "[s!='']:x");
                    r.push("!=", P);
                });
            }
            q = q.length && new RegExp(q.join("|"));
            r = r.length && new RegExp(r.join("|"));
            b = $.test(o.compareDocumentPosition);
            t = b || $.test(o.contains) ? function(a, b) {
                var c = a.nodeType === 9 ? a.documentElement : a, d = b && b.parentNode;
                return a === d || !!(d && d.nodeType === 1 && (c.contains ? c.contains(d) : a.compareDocumentPosition && a.compareDocumentPosition(d) & 16));
            } : function(a, b) {
                if (b) {
                    while (b = b.parentNode) {
                        if (b === a) {
                            return true;
                        }
                    }
                }
                return false;
            };
            B = b ? function(a, b) {
                if (a === b) {
                    l = true;
                    return 0;
                }
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                if (d) {
                    return d;
                }
                d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;
                if (d & 1 || !c.sortDetached && b.compareDocumentPosition(a) === d) {
                    if (a === g || a.ownerDocument === v && t(v, a)) {
                        return -1;
                    }
                    if (b === g || b.ownerDocument === v && t(v, b)) {
                        return 1;
                    }
                    return k ? J(k, a) - J(k, b) : 0;
                }
                return d & 4 ? -1 : 1;
            } : function(a, b) {
                if (a === b) {
                    l = true;
                    return 0;
                }
                var c, d = 0, e = a.parentNode, f = b.parentNode, h = [ a ], i = [ b ];
                if (!e || !f) {
                    return a === g ? -1 : b === g ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0;
                } else if (e === f) {
                    return la(a, b);
                }
                c = a;
                while (c = c.parentNode) {
                    h.unshift(c);
                }
                c = b;
                while (c = c.parentNode) {
                    i.unshift(c);
                }
                while (h[d] === i[d]) {
                    d++;
                }
                return d ? la(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0;
            };
            return g;
        };
        ga.matches = function(a, b) {
            return ga(a, null, null, b);
        };
        ga.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n) {
                m(a);
            }
            b = b.replace(U, "='$1']");
            if (c.matchesSelector && p && (!r || !r.test(b)) && (!q || !q.test(b))) {
                try {
                    var d = s.call(a, b);
                    if (d || c.disconnectedMatch || a.document && a.document.nodeType !== 11) {
                        return d;
                    }
                } catch (e) {}
            }
            return ga(b, n, null, [ a ]).length > 0;
        };
        ga.contains = function(a, b) {
            if ((a.ownerDocument || a) !== n) {
                m(a);
            }
            return t(a, b);
        };
        ga.attr = function(a, b) {
            if ((a.ownerDocument || a) !== n) {
                m(a);
            }
            var e = d.attrHandle[b.toLowerCase()], f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : undefined;
            return f !== undefined ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null;
        };
        ga.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a);
        };
        ga.uniqueSort = function(a) {
            var b, d = [], e = 0, f = 0;
            l = !c.detectDuplicates;
            k = !c.sortStable && a.slice(0);
            a.sort(B);
            if (l) {
                while (b = a[f++]) {
                    if (b === a[f]) {
                        e = d.push(f);
                    }
                }
                while (e--) {
                    a.splice(d[e], 1);
                }
            }
            k = null;
            return a;
        };
        e = ga.getText = function(a) {
            var b, c = "", d = 0, f = a.nodeType;
            if (!f) {
                while (b = a[d++]) {
                    c += e(b);
                }
            } else if (f === 1 || f === 9 || f === 11) {
                if (typeof a.textContent === "string") {
                    return a.textContent;
                } else {
                    for (a = a.firstChild; a; a = a.nextSibling) {
                        c += e(a);
                    }
                }
            } else if (f === 3 || f === 4) {
                return a.nodeValue;
            }
            return c;
        };
        d = ga.selectors = {
            cacheLength: 50,
            createPseudo: ia,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: true
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: true
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    a[1] = a[1].replace(ca, da);
                    a[3] = (a[3] || a[4] || a[5] || "").replace(ca, da);
                    if (a[2] === "~=") {
                        a[3] = " " + a[3] + " ";
                    }
                    return a.slice(0, 4);
                },
                CHILD: function(a) {
                    a[1] = a[1].toLowerCase();
                    if (a[1].slice(0, 3) === "nth") {
                        if (!a[3]) {
                            ga.error(a[0]);
                        }
                        a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * (a[3] === "even" || a[3] === "odd"));
                        a[5] = +(a[7] + a[8] || a[3] === "odd");
                    } else if (a[3]) {
                        ga.error(a[0]);
                    }
                    return a;
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    if (X["CHILD"].test(a[0])) {
                        return null;
                    }
                    if (a[3]) {
                        a[2] = a[4] || a[5] || "";
                    } else if (c && V.test(c) && (b = g(c, true)) && (b = c.indexOf(")", c.length - b) - c.length)) {
                        a[0] = a[0].slice(0, b);
                        a[2] = c.slice(0, b);
                    }
                    return a.slice(0, 3);
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(ca, da).toLowerCase();
                    return a === "*" ? function() {
                        return true;
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b;
                    };
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function(a) {
                        return b.test(typeof a.className === "string" && a.className || typeof a.getAttribute !== "undefined" && a.getAttribute("class") || "");
                    });
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = ga.attr(d, a);
                        if (e == null) {
                            return b === "!=";
                        }
                        if (!b) {
                            return true;
                        }
                        e += "";
                        return b === "=" ? e === c : b === "!=" ? e !== c : b === "^=" ? c && e.indexOf(c) === 0 : b === "*=" ? c && e.indexOf(c) > -1 : b === "$=" ? c && e.slice(-c.length) === c : b === "~=" ? (" " + e.replace(Q, " ") + " ").indexOf(c) > -1 : b === "|=" ? e === c || e.slice(0, c.length + 1) === c + "-" : false;
                    };
                },
                CHILD: function(a, b, c, d, e) {
                    var f = a.slice(0, 3) !== "nth", g = a.slice(-4) !== "last", h = b === "of-type";
                    return d === 1 && e === 0 ? function(a) {
                        return !!a.parentNode;
                    } : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                        if (q) {
                            if (f) {
                                while (p) {
                                    l = b;
                                    while (l = l[p]) {
                                        if (h ? l.nodeName.toLowerCase() === r : l.nodeType === 1) {
                                            return false;
                                        }
                                    }
                                    o = p = a === "only" && !o && "nextSibling";
                                }
                                return true;
                            }
                            o = [ g ? q.firstChild : q.lastChild ];
                            if (g && s) {
                                k = q[u] || (q[u] = {});
                                j = k[a] || [];
                                n = j[0] === w && j[1];
                                m = j[0] === w && j[2];
                                l = n && q.childNodes[n];
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) {
                                    if (l.nodeType === 1 && ++m && l === b) {
                                        k[a] = [ w, n, m ];
                                        break;
                                    }
                                }
                            } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w) {
                                m = j[1];
                            } else {
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) {
                                    if ((h ? l.nodeName.toLowerCase() === r : l.nodeType === 1) && ++m) {
                                        if (s) {
                                            (l[u] || (l[u] = {}))[a] = [ w, m ];
                                        }
                                        if (l === b) {
                                            break;
                                        }
                                    }
                                }
                            }
                            m -= e;
                            return m === d || m % d === 0 && m / d >= 0;
                        }
                    };
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || ga.error("unsupported pseudo: " + a);
                    if (e[u]) {
                        return e(b);
                    }
                    if (e.length > 1) {
                        c = [ a, a, "", b ];
                        return d.setFilters.hasOwnProperty(a.toLowerCase()) ? ia(function(a, c) {
                            var d, f = e(a, b), g = f.length;
                            while (g--) {
                                d = J(a, f[g]);
                                a[d] = !(c[d] = f[g]);
                            }
                        }) : function(a) {
                            return e(a, 0, c);
                        };
                    }
                    return e;
                }
            },
            pseudos: {
                not: ia(function(a) {
                    var b = [], c = [], d = h(a.replace(R, "$1"));
                    return d[u] ? ia(function(a, b, c, e) {
                        var f, g = d(a, null, e, []), h = a.length;
                        while (h--) {
                            if (f = g[h]) {
                                a[h] = !(b[h] = f);
                            }
                        }
                    }) : function(a, e, f) {
                        b[0] = a;
                        d(b, null, f, c);
                        b[0] = null;
                        return !c.pop();
                    };
                }),
                has: ia(function(a) {
                    return function(b) {
                        return ga(a, b).length > 0;
                    };
                }),
                contains: ia(function(a) {
                    a = a.replace(ca, da);
                    return function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1;
                    };
                }),
                lang: ia(function(a) {
                    if (!W.test(a || "")) {
                        ga.error("unsupported lang: " + a);
                    }
                    a = a.replace(ca, da).toLowerCase();
                    return function(b) {
                        var c;
                        do {
                            if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) {
                                c = c.toLowerCase();
                                return c === a || c.indexOf(a + "-") === 0;
                            }
                        } while ((b = b.parentNode) && b.nodeType === 1);
                        return false;
                    };
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id;
                },
                root: function(a) {
                    return a === o;
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex);
                },
                enabled: function(a) {
                    return a.disabled === false;
                },
                disabled: function(a) {
                    return a.disabled === true;
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return b === "input" && !!a.checked || b === "option" && !!a.selected;
                },
                selected: function(a) {
                    if (a.parentNode) {
                        a.parentNode.selectedIndex;
                    }
                    return a.selected === true;
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling) {
                        if (a.nodeType < 6) {
                            return false;
                        }
                    }
                    return true;
                },
                parent: function(a) {
                    return !d.pseudos["empty"](a);
                },
                header: function(a) {
                    return Z.test(a.nodeName);
                },
                input: function(a) {
                    return Y.test(a.nodeName);
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return b === "input" && a.type === "button" || b === "button";
                },
                text: function(a) {
                    var b;
                    return a.nodeName.toLowerCase() === "input" && a.type === "text" && ((b = a.getAttribute("type")) == null || b.toLowerCase() === "text");
                },
                first: oa(function() {
                    return [ 0 ];
                }),
                last: oa(function(a, b) {
                    return [ b - 1 ];
                }),
                eq: oa(function(a, b, c) {
                    return [ c < 0 ? c + b : c ];
                }),
                even: oa(function(a, b) {
                    var c = 0;
                    for (;c < b; c += 2) {
                        a.push(c);
                    }
                    return a;
                }),
                odd: oa(function(a, b) {
                    var c = 1;
                    for (;c < b; c += 2) {
                        a.push(c);
                    }
                    return a;
                }),
                lt: oa(function(a, b, c) {
                    var d = c < 0 ? c + b : c;
                    for (;--d >= 0; ) {
                        a.push(d);
                    }
                    return a;
                }),
                gt: oa(function(a, b, c) {
                    var d = c < 0 ? c + b : c;
                    for (;++d < b; ) {
                        a.push(d);
                    }
                    return a;
                })
            }
        };
        d.pseudos["nth"] = d.pseudos["eq"];
        for (b in {
            radio: true,
            checkbox: true,
            file: true,
            password: true,
            image: true
        }) {
            d.pseudos[b] = ma(b);
        }
        for (b in {
            submit: true,
            reset: true
        }) {
            d.pseudos[b] = na(b);
        }
        function qa() {}
        qa.prototype = d.filters = d.pseudos;
        d.setFilters = new qa();
        g = ga.tokenize = function(a, b) {
            var c, e, f, g, h, i, j, k = z[a + " "];
            if (k) {
                return b ? 0 : k.slice(0);
            }
            h = a;
            i = [];
            j = d.preFilter;
            while (h) {
                if (!c || (e = S.exec(h))) {
                    if (e) {
                        h = h.slice(e[0].length) || h;
                    }
                    i.push(f = []);
                }
                c = false;
                if (e = T.exec(h)) {
                    c = e.shift();
                    f.push({
                        value: c,
                        type: e[0].replace(R, " ")
                    });
                    h = h.slice(c.length);
                }
                for (g in d.filter) {
                    if ((e = X[g].exec(h)) && (!j[g] || (e = j[g](e)))) {
                        c = e.shift();
                        f.push({
                            value: c,
                            type: g,
                            matches: e
                        });
                        h = h.slice(c.length);
                    }
                }
                if (!c) {
                    break;
                }
            }
            return b ? h.length : h ? ga.error(a) : z(a, i).slice(0);
        };
        function ra(a) {
            var b = 0, c = a.length, d = "";
            for (;b < c; b++) {
                d += a[b].value;
            }
            return d;
        }
        function sa(a, b, c) {
            var d = b.dir, e = c && d === "parentNode", f = x++;
            return b.first ? function(b, c, f) {
                while (b = b[d]) {
                    if (b.nodeType === 1 || e) {
                        return a(b, c, f);
                    }
                }
            } : function(b, c, g) {
                var h, i, j = [ w, f ];
                if (g) {
                    while (b = b[d]) {
                        if (b.nodeType === 1 || e) {
                            if (a(b, c, g)) {
                                return true;
                            }
                        }
                    }
                } else {
                    while (b = b[d]) {
                        if (b.nodeType === 1 || e) {
                            i = b[u] || (b[u] = {});
                            if ((h = i[d]) && h[0] === w && h[1] === f) {
                                return j[2] = h[2];
                            } else {
                                i[d] = j;
                                if (j[2] = a(b, c, g)) {
                                    return true;
                                }
                            }
                        }
                    }
                }
            };
        }
        function ta(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--) {
                    if (!a[e](b, c, d)) {
                        return false;
                    }
                }
                return true;
            } : a[0];
        }
        function ua(a, b, c) {
            var d = 0, e = b.length;
            for (;d < e; d++) {
                ga(a, b[d], c);
            }
            return c;
        }
        function va(a, b, c, d, e) {
            var f, g = [], h = 0, i = a.length, j = b != null;
            for (;h < i; h++) {
                if (f = a[h]) {
                    if (!c || c(f, d, e)) {
                        g.push(f);
                        if (j) {
                            b.push(h);
                        }
                    }
                }
            }
            return g;
        }
        function wa(a, b, c, d, e, f) {
            if (d && !d[u]) {
                d = wa(d);
            }
            if (e && !e[u]) {
                e = wa(e, f);
            }
            return ia(function(f, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = f || ua(b || "*", h.nodeType ? [ h ] : h, []), q = a && (f || !b) ? va(p, m, a, h, i) : p, r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c) {
                    c(q, r, h, i);
                }
                if (d) {
                    j = va(r, n);
                    d(j, [], h, i);
                    k = j.length;
                    while (k--) {
                        if (l = j[k]) {
                            r[n[k]] = !(q[n[k]] = l);
                        }
                    }
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [];
                            k = r.length;
                            while (k--) {
                                if (l = r[k]) {
                                    j.push(q[k] = l);
                                }
                            }
                            e(null, r = [], j, i);
                        }
                        k = r.length;
                        while (k--) {
                            if ((l = r[k]) && (j = e ? J(f, l) : m[k]) > -1) {
                                f[j] = !(g[j] = l);
                            }
                        }
                    }
                } else {
                    r = va(r === g ? r.splice(o, r.length) : r);
                    if (e) {
                        e(null, g, r, i);
                    } else {
                        H.apply(g, r);
                    }
                }
            });
        }
        function xa(a) {
            var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = sa(function(a) {
                return a === b;
            }, h, true), l = sa(function(a) {
                return J(b, a) > -1;
            }, h, true), m = [ function(a, c, d) {
                var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                b = null;
                return e;
            } ];
            for (;i < f; i++) {
                if (c = d.relative[a[i].type]) {
                    m = [ sa(ta(m), c) ];
                } else {
                    c = d.filter[a[i].type].apply(null, a[i].matches);
                    if (c[u]) {
                        e = ++i;
                        for (;e < f; e++) {
                            if (d.relative[a[e].type]) {
                                break;
                            }
                        }
                        return wa(i > 1 && ta(m), i > 1 && ra(a.slice(0, i - 1).concat({
                            value: a[i - 2].type === " " ? "*" : ""
                        })).replace(R, "$1"), c, i < e && xa(a.slice(i, e)), e < f && xa(a = a.slice(e)), e < f && ra(a));
                    }
                    m.push(c);
                }
            }
            return ta(m);
        }
        function ya(a, b) {
            var c = b.length > 0, e = a.length > 0, f = function(f, g, h, i, k) {
                var l, m, o, p = 0, q = "0", r = f && [], s = [], t = j, u = f || e && d.find["TAG"]("*", k), v = w += t == null ? 1 : Math.random() || .1, x = u.length;
                if (k) {
                    j = g !== n && g;
                }
                for (;q !== x && (l = u[q]) != null; q++) {
                    if (e && l) {
                        m = 0;
                        while (o = a[m++]) {
                            if (o(l, g, h)) {
                                i.push(l);
                                break;
                            }
                        }
                        if (k) {
                            w = v;
                        }
                    }
                    if (c) {
                        if (l = !o && l) {
                            p--;
                        }
                        if (f) {
                            r.push(l);
                        }
                    }
                }
                p += q;
                if (c && q !== p) {
                    m = 0;
                    while (o = b[m++]) {
                        o(r, s, g, h);
                    }
                    if (f) {
                        if (p > 0) {
                            while (q--) {
                                if (!(r[q] || s[q])) {
                                    s[q] = F.call(i);
                                }
                            }
                        }
                        s = va(s);
                    }
                    H.apply(i, s);
                    if (k && !f && s.length > 0 && p + b.length > 1) {
                        ga.uniqueSort(i);
                    }
                }
                if (k) {
                    w = v;
                    j = t;
                }
                return r;
            };
            return c ? ia(f) : f;
        }
        h = ga.compile = function(a, b) {
            var c, d = [], e = [], f = A[a + " "];
            if (!f) {
                if (!b) {
                    b = g(a);
                }
                c = b.length;
                while (c--) {
                    f = xa(b[c]);
                    if (f[u]) {
                        d.push(f);
                    } else {
                        e.push(f);
                    }
                }
                f = A(a, ya(e, d));
                f.selector = a;
            }
            return f;
        };
        i = ga.select = function(a, b, e, f) {
            var i, j, k, l, m, n = typeof a === "function" && a, o = !f && g(a = n.selector || a);
            e = e || [];
            if (o.length === 1) {
                j = o[0] = o[0].slice(0);
                if (j.length > 2 && (k = j[0]).type === "ID" && c.getById && b.nodeType === 9 && p && d.relative[j[1].type]) {
                    b = (d.find["ID"](k.matches[0].replace(ca, da), b) || [])[0];
                    if (!b) {
                        return e;
                    } else if (n) {
                        b = b.parentNode;
                    }
                    a = a.slice(j.shift().value.length);
                }
                i = X["needsContext"].test(a) ? 0 : j.length;
                while (i--) {
                    k = j[i];
                    if (d.relative[l = k.type]) {
                        break;
                    }
                    if (m = d.find[l]) {
                        if (f = m(k.matches[0].replace(ca, da), aa.test(j[0].type) && pa(b.parentNode) || b)) {
                            j.splice(i, 1);
                            a = f.length && ra(j);
                            if (!a) {
                                H.apply(e, f);
                                return e;
                            }
                            break;
                        }
                    }
                }
            }
            (n || h(a, o))(f, b, !p, e, aa.test(a) && pa(b.parentNode) || b);
            return e;
        };
        c.sortStable = u.split("").sort(B).join("") === u;
        c.detectDuplicates = !!l;
        m();
        c.sortDetached = ja(function(a) {
            return a.compareDocumentPosition(n.createElement("div")) & 1;
        });
        if (!ja(function(a) {
            a.innerHTML = "<a href='#'></a>";
            return a.firstChild.getAttribute("href") === "#";
        })) {
            ka("type|href|height|width", function(a, b, c) {
                if (!c) {
                    return a.getAttribute(b, b.toLowerCase() === "type" ? 1 : 2);
                }
            });
        }
        if (!c.attributes || !ja(function(a) {
            a.innerHTML = "<input/>";
            a.firstChild.setAttribute("value", "");
            return a.firstChild.getAttribute("value") === "";
        })) {
            ka("value", function(a, b, c) {
                if (!c && a.nodeName.toLowerCase() === "input") {
                    return a.defaultValue;
                }
            });
        }
        if (!ja(function(a) {
            return a.getAttribute("disabled") == null;
        })) {
            ka(K, function(a, b, c) {
                var d;
                if (!c) {
                    return a[b] === true ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
                }
            });
        }
        return ga;
    }(a);
    n.find = t;
    n.expr = t.selectors;
    n.expr[":"] = n.expr.pseudos;
    n.unique = t.uniqueSort;
    n.text = t.getText;
    n.isXMLDoc = t.isXML;
    n.contains = t.contains;
    var u = n.expr.match.needsContext;
    var v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/;
    var w = /^.[^:#\[\.,]*$/;
    function x(a, b, c) {
        if (n.isFunction(b)) {
            return n.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c;
            });
        }
        if (b.nodeType) {
            return n.grep(a, function(a) {
                return a === b !== c;
            });
        }
        if (typeof b === "string") {
            if (w.test(b)) {
                return n.filter(b, a, c);
            }
            b = n.filter(b, a);
        }
        return n.grep(a, function(a) {
            return g.call(b, a) >= 0 !== c;
        });
    }
    n.filter = function(a, b, c) {
        var d = b[0];
        if (c) {
            a = ":not(" + a + ")";
        }
        return b.length === 1 && d.nodeType === 1 ? n.find.matchesSelector(d, a) ? [ d ] : [] : n.find.matches(a, n.grep(b, function(a) {
            return a.nodeType === 1;
        }));
    };
    n.fn.extend({
        find: function(a) {
            var b, c = this.length, d = [], e = this;
            if (typeof a !== "string") {
                return this.pushStack(n(a).filter(function() {
                    for (b = 0; b < c; b++) {
                        if (n.contains(e[b], this)) {
                            return true;
                        }
                    }
                }));
            }
            for (b = 0; b < c; b++) {
                n.find(a, e[b], d);
            }
            d = this.pushStack(c > 1 ? n.unique(d) : d);
            d.selector = this.selector ? this.selector + " " + a : a;
            return d;
        },
        filter: function(a) {
            return this.pushStack(x(this, a || [], false));
        },
        not: function(a) {
            return this.pushStack(x(this, a || [], true));
        },
        is: function(a) {
            return !!x(this, typeof a === "string" && u.test(a) ? n(a) : a || [], false).length;
        }
    });
    var y, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, A = n.fn.init = function(a, b) {
        var c, d;
        if (!a) {
            return this;
        }
        if (typeof a === "string") {
            if (a[0] === "<" && a[a.length - 1] === ">" && a.length >= 3) {
                c = [ null, a, null ];
            } else {
                c = z.exec(a);
            }
            if (c && (c[1] || !b)) {
                if (c[1]) {
                    b = b instanceof n ? b[0] : b;
                    n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : l, true));
                    if (v.test(c[1]) && n.isPlainObject(b)) {
                        for (c in b) {
                            if (n.isFunction(this[c])) {
                                this[c](b[c]);
                            } else {
                                this.attr(c, b[c]);
                            }
                        }
                    }
                    return this;
                } else {
                    d = l.getElementById(c[2]);
                    if (d && d.parentNode) {
                        this.length = 1;
                        this[0] = d;
                    }
                    this.context = l;
                    this.selector = a;
                    return this;
                }
            } else if (!b || b.jquery) {
                return (b || y).find(a);
            } else {
                return this.constructor(b).find(a);
            }
        } else if (a.nodeType) {
            this.context = this[0] = a;
            this.length = 1;
            return this;
        } else if (n.isFunction(a)) {
            return typeof y.ready !== "undefined" ? y.ready(a) : a(n);
        }
        if (a.selector !== undefined) {
            this.selector = a.selector;
            this.context = a.context;
        }
        return n.makeArray(a, this);
    };
    A.prototype = n.fn;
    y = n(l);
    var B = /^(?:parents|prev(?:Until|All))/, C = {
        children: true,
        contents: true,
        next: true,
        prev: true
    };
    n.extend({
        dir: function(a, b, c) {
            var d = [], e = c !== undefined;
            while ((a = a[b]) && a.nodeType !== 9) {
                if (a.nodeType === 1) {
                    if (e && n(a).is(c)) {
                        break;
                    }
                    d.push(a);
                }
            }
            return d;
        },
        sibling: function(a, b) {
            var c = [];
            for (;a; a = a.nextSibling) {
                if (a.nodeType === 1 && a !== b) {
                    c.push(a);
                }
            }
            return c;
        }
    });
    n.fn.extend({
        has: function(a) {
            var b = n(a, this), c = b.length;
            return this.filter(function() {
                var a = 0;
                for (;a < c; a++) {
                    if (n.contains(this, b[a])) {
                        return true;
                    }
                }
            });
        },
        closest: function(a, b) {
            var c, d = 0, e = this.length, f = [], g = u.test(a) || typeof a !== "string" ? n(a, b || this.context) : 0;
            for (;d < e; d++) {
                for (c = this[d]; c && c !== b; c = c.parentNode) {
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : c.nodeType === 1 && n.find.matchesSelector(c, a))) {
                        f.push(c);
                        break;
                    }
                }
            }
            return this.pushStack(f.length > 1 ? n.unique(f) : f);
        },
        index: function(a) {
            if (!a) {
                return this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
            }
            if (typeof a === "string") {
                return g.call(n(a), this[0]);
            }
            return g.call(this, a.jquery ? a[0] : a);
        },
        add: function(a, b) {
            return this.pushStack(n.unique(n.merge(this.get(), n(a, b))));
        },
        addBack: function(a) {
            return this.add(a == null ? this.prevObject : this.prevObject.filter(a));
        }
    });
    function D(a, b) {
        while ((a = a[b]) && a.nodeType !== 1) {}
        return a;
    }
    n.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && b.nodeType !== 11 ? b : null;
        },
        parents: function(a) {
            return n.dir(a, "parentNode");
        },
        parentsUntil: function(a, b, c) {
            return n.dir(a, "parentNode", c);
        },
        next: function(a) {
            return D(a, "nextSibling");
        },
        prev: function(a) {
            return D(a, "previousSibling");
        },
        nextAll: function(a) {
            return n.dir(a, "nextSibling");
        },
        prevAll: function(a) {
            return n.dir(a, "previousSibling");
        },
        nextUntil: function(a, b, c) {
            return n.dir(a, "nextSibling", c);
        },
        prevUntil: function(a, b, c) {
            return n.dir(a, "previousSibling", c);
        },
        siblings: function(a) {
            return n.sibling((a.parentNode || {}).firstChild, a);
        },
        children: function(a) {
            return n.sibling(a.firstChild);
        },
        contents: function(a) {
            return a.contentDocument || n.merge([], a.childNodes);
        }
    }, function(a, b) {
        n.fn[a] = function(c, d) {
            var e = n.map(this, b, c);
            if (a.slice(-5) !== "Until") {
                d = c;
            }
            if (d && typeof d === "string") {
                e = n.filter(d, e);
            }
            if (this.length > 1) {
                if (!C[a]) {
                    n.unique(e);
                }
                if (B.test(a)) {
                    e.reverse();
                }
            }
            return this.pushStack(e);
        };
    });
    var E = /\S+/g;
    var F = {};
    function G(a) {
        var b = F[a] = {};
        n.each(a.match(E) || [], function(a, c) {
            b[c] = true;
        });
        return b;
    }
    n.Callbacks = function(a) {
        a = typeof a === "string" ? F[a] || G(a) : n.extend({}, a);
        var b, c, d, e, f, g, h = [], i = !a.once && [], j = function(l) {
            b = a.memory && l;
            c = true;
            g = e || 0;
            e = 0;
            f = h.length;
            d = true;
            for (;h && g < f; g++) {
                if (h[g].apply(l[0], l[1]) === false && a.stopOnFalse) {
                    b = false;
                    break;
                }
            }
            d = false;
            if (h) {
                if (i) {
                    if (i.length) {
                        j(i.shift());
                    }
                } else if (b) {
                    h = [];
                } else {
                    k.disable();
                }
            }
        }, k = {
            add: function() {
                if (h) {
                    var c = h.length;
                    (function g(b) {
                        n.each(b, function(b, c) {
                            var d = n.type(c);
                            if (d === "function") {
                                if (!a.unique || !k.has(c)) {
                                    h.push(c);
                                }
                            } else if (c && c.length && d !== "string") {
                                g(c);
                            }
                        });
                    })(arguments);
                    if (d) {
                        f = h.length;
                    } else if (b) {
                        e = c;
                        j(b);
                    }
                }
                return this;
            },
            remove: function() {
                if (h) {
                    n.each(arguments, function(a, b) {
                        var c;
                        while ((c = n.inArray(b, h, c)) > -1) {
                            h.splice(c, 1);
                            if (d) {
                                if (c <= f) {
                                    f--;
                                }
                                if (c <= g) {
                                    g--;
                                }
                            }
                        }
                    });
                }
                return this;
            },
            has: function(a) {
                return a ? n.inArray(a, h) > -1 : !!(h && h.length);
            },
            empty: function() {
                h = [];
                f = 0;
                return this;
            },
            disable: function() {
                h = i = b = undefined;
                return this;
            },
            disabled: function() {
                return !h;
            },
            lock: function() {
                i = undefined;
                if (!b) {
                    k.disable();
                }
                return this;
            },
            locked: function() {
                return !i;
            },
            fireWith: function(a, b) {
                if (h && (!c || i)) {
                    b = b || [];
                    b = [ a, b.slice ? b.slice() : b ];
                    if (d) {
                        i.push(b);
                    } else {
                        j(b);
                    }
                }
                return this;
            },
            fire: function() {
                k.fireWith(this, arguments);
                return this;
            },
            fired: function() {
                return !!c;
            }
        };
        return k;
    };
    n.extend({
        Deferred: function(a) {
            var b = [ [ "resolve", "done", n.Callbacks("once memory"), "resolved" ], [ "reject", "fail", n.Callbacks("once memory"), "rejected" ], [ "notify", "progress", n.Callbacks("memory") ] ], c = "pending", d = {
                state: function() {
                    return c;
                },
                always: function() {
                    e.done(arguments).fail(arguments);
                    return this;
                },
                then: function() {
                    var a = arguments;
                    return n.Deferred(function(c) {
                        n.each(b, function(b, f) {
                            var g = n.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                if (a && n.isFunction(a.promise)) {
                                    a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
                                } else {
                                    c[f[0] + "With"](this === d ? c.promise() : this, g ? [ a ] : arguments);
                                }
                            });
                        });
                        a = null;
                    }).promise();
                },
                promise: function(a) {
                    return a != null ? n.extend(a, d) : d;
                }
            }, e = {};
            d.pipe = d.then;
            n.each(b, function(a, f) {
                var g = f[2], h = f[3];
                d[f[1]] = g.add;
                if (h) {
                    g.add(function() {
                        c = h;
                    }, b[a ^ 1][2].disable, b[2][2].lock);
                }
                e[f[0]] = function() {
                    e[f[0] + "With"](this === e ? d : this, arguments);
                    return this;
                };
                e[f[0] + "With"] = g.fireWith;
            });
            d.promise(e);
            if (a) {
                a.call(e, e);
            }
            return e;
        },
        when: function(a) {
            var b = 0, c = d.call(arguments), e = c.length, f = e !== 1 || a && n.isFunction(a.promise) ? e : 0, g = f === 1 ? a : n.Deferred(), h = function(a, b, c) {
                return function(e) {
                    b[a] = this;
                    c[a] = arguments.length > 1 ? d.call(arguments) : e;
                    if (c === i) {
                        g.notifyWith(b, c);
                    } else if (!--f) {
                        g.resolveWith(b, c);
                    }
                };
            }, i, j, k;
            if (e > 1) {
                i = new Array(e);
                j = new Array(e);
                k = new Array(e);
                for (;b < e; b++) {
                    if (c[b] && n.isFunction(c[b].promise)) {
                        c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i));
                    } else {
                        --f;
                    }
                }
            }
            if (!f) {
                g.resolveWith(k, c);
            }
            return g.promise();
        }
    });
    var H;
    n.fn.ready = function(a) {
        n.ready.promise().done(a);
        return this;
    };
    n.extend({
        isReady: false,
        readyWait: 1,
        holdReady: function(a) {
            if (a) {
                n.readyWait++;
            } else {
                n.ready(true);
            }
        },
        ready: function(a) {
            if (a === true ? --n.readyWait : n.isReady) {
                return;
            }
            n.isReady = true;
            if (a !== true && --n.readyWait > 0) {
                return;
            }
            H.resolveWith(l, [ n ]);
            if (n.fn.triggerHandler) {
                n(l).triggerHandler("ready");
                n(l).off("ready");
            }
        }
    });
    function I() {
        l.removeEventListener("DOMContentLoaded", I, false);
        a.removeEventListener("load", I, false);
        n.ready();
    }
    n.ready.promise = function(b) {
        if (!H) {
            H = n.Deferred();
            if (l.readyState === "complete") {
                setTimeout(n.ready);
            } else {
                l.addEventListener("DOMContentLoaded", I, false);
                a.addEventListener("load", I, false);
            }
        }
        return H.promise(b);
    };
    n.ready.promise();
    var J = n.access = function(a, b, c, d, e, f, g) {
        var h = 0, i = a.length, j = c == null;
        if (n.type(c) === "object") {
            e = true;
            for (h in c) {
                n.access(a, b, h, c[h], true, f, g);
            }
        } else if (d !== undefined) {
            e = true;
            if (!n.isFunction(d)) {
                g = true;
            }
            if (j) {
                if (g) {
                    b.call(a, d);
                    b = null;
                } else {
                    j = b;
                    b = function(a, b, c) {
                        return j.call(n(a), c);
                    };
                }
            }
            if (b) {
                for (;h < i; h++) {
                    b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
                }
            }
        }
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
    };
    n.acceptData = function(a) {
        return a.nodeType === 1 || a.nodeType === 9 || !+a.nodeType;
    };
    function K() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {};
            }
        });
        this.expando = n.expando + K.uid++;
    }
    K.uid = 1;
    K.accepts = n.acceptData;
    K.prototype = {
        key: function(a) {
            if (!K.accepts(a)) {
                return 0;
            }
            var b = {}, c = a[this.expando];
            if (!c) {
                c = K.uid++;
                try {
                    b[this.expando] = {
                        value: c
                    };
                    Object.defineProperties(a, b);
                } catch (d) {
                    b[this.expando] = c;
                    n.extend(a, b);
                }
            }
            if (!this.cache[c]) {
                this.cache[c] = {};
            }
            return c;
        },
        set: function(a, b, c) {
            var d, e = this.key(a), f = this.cache[e];
            if (typeof b === "string") {
                f[b] = c;
            } else {
                if (n.isEmptyObject(f)) {
                    n.extend(this.cache[e], b);
                } else {
                    for (d in b) {
                        f[d] = b[d];
                    }
                }
            }
            return f;
        },
        get: function(a, b) {
            var c = this.cache[this.key(a)];
            return b === undefined ? c : c[b];
        },
        access: function(a, b, c) {
            var d;
            if (b === undefined || b && typeof b === "string" && c === undefined) {
                d = this.get(a, b);
                return d !== undefined ? d : this.get(a, n.camelCase(b));
            }
            this.set(a, b, c);
            return c !== undefined ? c : b;
        },
        remove: function(a, b) {
            var c, d, e, f = this.key(a), g = this.cache[f];
            if (b === undefined) {
                this.cache[f] = {};
            } else {
                if (n.isArray(b)) {
                    d = b.concat(b.map(n.camelCase));
                } else {
                    e = n.camelCase(b);
                    if (b in g) {
                        d = [ b, e ];
                    } else {
                        d = e;
                        d = d in g ? [ d ] : d.match(E) || [];
                    }
                }
                c = d.length;
                while (c--) {
                    delete g[d[c]];
                }
            }
        },
        hasData: function(a) {
            return !n.isEmptyObject(this.cache[a[this.expando]] || {});
        },
        discard: function(a) {
            if (a[this.expando]) {
                delete this.cache[a[this.expando]];
            }
        }
    };
    var L = new K();
    var M = new K();
    var N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, O = /([A-Z])/g;
    function P(a, b, c) {
        var d;
        if (c === undefined && a.nodeType === 1) {
            d = "data-" + b.replace(O, "-$1").toLowerCase();
            c = a.getAttribute(d);
            if (typeof c === "string") {
                try {
                    c = c === "true" ? true : c === "false" ? false : c === "null" ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c;
                } catch (e) {}
                M.set(a, b, c);
            } else {
                c = undefined;
            }
        }
        return c;
    }
    n.extend({
        hasData: function(a) {
            return M.hasData(a) || L.hasData(a);
        },
        data: function(a, b, c) {
            return M.access(a, b, c);
        },
        removeData: function(a, b) {
            M.remove(a, b);
        },
        _data: function(a, b, c) {
            return L.access(a, b, c);
        },
        _removeData: function(a, b) {
            L.remove(a, b);
        }
    });
    n.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (a === undefined) {
                if (this.length) {
                    e = M.get(f);
                    if (f.nodeType === 1 && !L.get(f, "hasDataAttrs")) {
                        c = g.length;
                        while (c--) {
                            if (g[c]) {
                                d = g[c].name;
                                if (d.indexOf("data-") === 0) {
                                    d = n.camelCase(d.slice(5));
                                    P(f, d, e[d]);
                                }
                            }
                        }
                        L.set(f, "hasDataAttrs", true);
                    }
                }
                return e;
            }
            if (typeof a === "object") {
                return this.each(function() {
                    M.set(this, a);
                });
            }
            return J(this, function(b) {
                var c, d = n.camelCase(a);
                if (f && b === undefined) {
                    c = M.get(f, a);
                    if (c !== undefined) {
                        return c;
                    }
                    c = M.get(f, d);
                    if (c !== undefined) {
                        return c;
                    }
                    c = P(f, d, undefined);
                    if (c !== undefined) {
                        return c;
                    }
                    return;
                }
                this.each(function() {
                    var c = M.get(this, d);
                    M.set(this, d, b);
                    if (a.indexOf("-") !== -1 && c !== undefined) {
                        M.set(this, a, b);
                    }
                });
            }, null, b, arguments.length > 1, null, true);
        },
        removeData: function(a) {
            return this.each(function() {
                M.remove(this, a);
            });
        }
    });
    n.extend({
        queue: function(a, b, c) {
            var d;
            if (a) {
                b = (b || "fx") + "queue";
                d = L.get(a, b);
                if (c) {
                    if (!d || n.isArray(c)) {
                        d = L.access(a, b, n.makeArray(c));
                    } else {
                        d.push(c);
                    }
                }
                return d || [];
            }
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = n.queue(a, b), d = c.length, e = c.shift(), f = n._queueHooks(a, b), g = function() {
                n.dequeue(a, b);
            };
            if (e === "inprogress") {
                e = c.shift();
                d--;
            }
            if (e) {
                if (b === "fx") {
                    c.unshift("inprogress");
                }
                delete f.stop;
                e.call(a, g, f);
            }
            if (!d && f) {
                f.empty.fire();
            }
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return L.get(a, c) || L.access(a, c, {
                empty: n.Callbacks("once memory").add(function() {
                    L.remove(a, [ b + "queue", c ]);
                })
            });
        }
    });
    n.fn.extend({
        queue: function(a, b) {
            var c = 2;
            if (typeof a !== "string") {
                b = a;
                a = "fx";
                c--;
            }
            if (arguments.length < c) {
                return n.queue(this[0], a);
            }
            return b === undefined ? this : this.each(function() {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a);
                if (a === "fx" && c[0] !== "inprogress") {
                    n.dequeue(this, a);
                }
            });
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a);
            });
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", []);
        },
        promise: function(a, b) {
            var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function() {
                if (!--d) {
                    e.resolveWith(f, [ f ]);
                }
            };
            if (typeof a !== "string") {
                b = a;
                a = undefined;
            }
            a = a || "fx";
            while (g--) {
                c = L.get(f[g], a + "queueHooks");
                if (c && c.empty) {
                    d++;
                    c.empty.add(h);
                }
            }
            h();
            return e.promise(b);
        }
    });
    var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
    var R = [ "Top", "Right", "Bottom", "Left" ];
    var S = function(a, b) {
        a = b || a;
        return n.css(a, "display") === "none" || !n.contains(a.ownerDocument, a);
    };
    var T = /^(?:checkbox|radio)$/i;
    (function() {
        var a = l.createDocumentFragment(), b = a.appendChild(l.createElement("div")), c = l.createElement("input");
        c.setAttribute("type", "radio");
        c.setAttribute("checked", "checked");
        c.setAttribute("name", "t");
        b.appendChild(c);
        k.checkClone = b.cloneNode(true).cloneNode(true).lastChild.checked;
        b.innerHTML = "<textarea>x</textarea>";
        k.noCloneChecked = !!b.cloneNode(true).lastChild.defaultValue;
    })();
    var U = typeof undefined;
    k.focusinBubbles = "onfocusin" in a;
    var V = /^key/, W = /^(?:mouse|pointer|contextmenu)|click/, X = /^(?:focusinfocus|focusoutblur)$/, Y = /^([^.]*)(?:\.(.+)|)$/;
    function Z() {
        return true;
    }
    function $() {
        return false;
    }
    function _() {
        try {
            return l.activeElement;
        } catch (a) {}
    }
    n.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = L.get(a);
            if (!r) {
                return;
            }
            if (c.handler) {
                f = c;
                c = f.handler;
                e = f.selector;
            }
            if (!c.guid) {
                c.guid = n.guid++;
            }
            if (!(i = r.events)) {
                i = r.events = {};
            }
            if (!(g = r.handle)) {
                g = r.handle = function(b) {
                    return typeof n !== U && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : undefined;
                };
            }
            b = (b || "").match(E) || [ "" ];
            j = b.length;
            while (j--) {
                h = Y.exec(b[j]) || [];
                o = q = h[1];
                p = (h[2] || "").split(".").sort();
                if (!o) {
                    continue;
                }
                l = n.event.special[o] || {};
                o = (e ? l.delegateType : l.bindType) || o;
                l = n.event.special[o] || {};
                k = n.extend({
                    type: o,
                    origType: q,
                    data: d,
                    handler: c,
                    guid: c.guid,
                    selector: e,
                    needsContext: e && n.expr.match.needsContext.test(e),
                    namespace: p.join(".")
                }, f);
                if (!(m = i[o])) {
                    m = i[o] = [];
                    m.delegateCount = 0;
                    if (!l.setup || l.setup.call(a, d, p, g) === false) {
                        if (a.addEventListener) {
                            a.addEventListener(o, g, false);
                        }
                    }
                }
                if (l.add) {
                    l.add.call(a, k);
                    if (!k.handler.guid) {
                        k.handler.guid = c.guid;
                    }
                }
                if (e) {
                    m.splice(m.delegateCount++, 0, k);
                } else {
                    m.push(k);
                }
                n.event.global[o] = true;
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = L.hasData(a) && L.get(a);
            if (!r || !(i = r.events)) {
                return;
            }
            b = (b || "").match(E) || [ "" ];
            j = b.length;
            while (j--) {
                h = Y.exec(b[j]) || [];
                o = q = h[1];
                p = (h[2] || "").split(".").sort();
                if (!o) {
                    for (o in i) {
                        n.event.remove(a, o + b[j], c, d, true);
                    }
                    continue;
                }
                l = n.event.special[o] || {};
                o = (d ? l.delegateType : l.bindType) || o;
                m = i[o] || [];
                h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)");
                g = f = m.length;
                while (f--) {
                    k = m[f];
                    if ((e || q === k.origType) && (!c || c.guid === k.guid) && (!h || h.test(k.namespace)) && (!d || d === k.selector || d === "**" && k.selector)) {
                        m.splice(f, 1);
                        if (k.selector) {
                            m.delegateCount--;
                        }
                        if (l.remove) {
                            l.remove.call(a, k);
                        }
                    }
                }
                if (g && !m.length) {
                    if (!l.teardown || l.teardown.call(a, p, r.handle) === false) {
                        n.removeEvent(a, o, r.handle);
                    }
                    delete i[o];
                }
            }
            if (n.isEmptyObject(i)) {
                delete r.handle;
                L.remove(a, "events");
            }
        },
        trigger: function(b, c, d, e) {
            var f, g, h, i, k, m, o, p = [ d || l ], q = j.call(b, "type") ? b.type : b, r = j.call(b, "namespace") ? b.namespace.split(".") : [];
            g = h = d = d || l;
            if (d.nodeType === 3 || d.nodeType === 8) {
                return;
            }
            if (X.test(q + n.event.triggered)) {
                return;
            }
            if (q.indexOf(".") >= 0) {
                r = q.split(".");
                q = r.shift();
                r.sort();
            }
            k = q.indexOf(":") < 0 && "on" + q;
            b = b[n.expando] ? b : new n.Event(q, typeof b === "object" && b);
            b.isTrigger = e ? 2 : 3;
            b.namespace = r.join(".");
            b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
            b.result = undefined;
            if (!b.target) {
                b.target = d;
            }
            c = c == null ? [ b ] : n.makeArray(c, [ b ]);
            o = n.event.special[q] || {};
            if (!e && o.trigger && o.trigger.apply(d, c) === false) {
                return;
            }
            if (!e && !o.noBubble && !n.isWindow(d)) {
                i = o.delegateType || q;
                if (!X.test(i + q)) {
                    g = g.parentNode;
                }
                for (;g; g = g.parentNode) {
                    p.push(g);
                    h = g;
                }
                if (h === (d.ownerDocument || l)) {
                    p.push(h.defaultView || h.parentWindow || a);
                }
            }
            f = 0;
            while ((g = p[f++]) && !b.isPropagationStopped()) {
                b.type = f > 1 ? i : o.bindType || q;
                m = (L.get(g, "events") || {})[b.type] && L.get(g, "handle");
                if (m) {
                    m.apply(g, c);
                }
                m = k && g[k];
                if (m && m.apply && n.acceptData(g)) {
                    b.result = m.apply(g, c);
                    if (b.result === false) {
                        b.preventDefault();
                    }
                }
            }
            b.type = q;
            if (!e && !b.isDefaultPrevented()) {
                if ((!o._default || o._default.apply(p.pop(), c) === false) && n.acceptData(d)) {
                    if (k && n.isFunction(d[q]) && !n.isWindow(d)) {
                        h = d[k];
                        if (h) {
                            d[k] = null;
                        }
                        n.event.triggered = q;
                        d[q]();
                        n.event.triggered = undefined;
                        if (h) {
                            d[k] = h;
                        }
                    }
                }
            }
            return b.result;
        },
        dispatch: function(a) {
            a = n.event.fix(a);
            var b, c, e, f, g, h = [], i = d.call(arguments), j = (L.get(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {};
            i[0] = a;
            a.delegateTarget = this;
            if (k.preDispatch && k.preDispatch.call(this, a) === false) {
                return;
            }
            h = n.event.handlers.call(this, a, j);
            b = 0;
            while ((f = h[b++]) && !a.isPropagationStopped()) {
                a.currentTarget = f.elem;
                c = 0;
                while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped()) {
                    if (!a.namespace_re || a.namespace_re.test(g.namespace)) {
                        a.handleObj = g;
                        a.data = g.data;
                        e = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i);
                        if (e !== undefined) {
                            if ((a.result = e) === false) {
                                a.preventDefault();
                                a.stopPropagation();
                            }
                        }
                    }
                }
            }
            if (k.postDispatch) {
                k.postDispatch.call(this, a);
            }
            return a.result;
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || a.type !== "click")) {
                for (;i !== this; i = i.parentNode || this) {
                    if (i.disabled !== true || a.type !== "click") {
                        d = [];
                        for (c = 0; c < h; c++) {
                            f = b[c];
                            e = f.selector + " ";
                            if (d[e] === undefined) {
                                d[e] = f.needsContext ? n(e, this).index(i) >= 0 : n.find(e, this, null, [ i ]).length;
                            }
                            if (d[e]) {
                                d.push(f);
                            }
                        }
                        if (d.length) {
                            g.push({
                                elem: i,
                                handlers: d
                            });
                        }
                    }
                }
            }
            if (h < b.length) {
                g.push({
                    elem: this,
                    handlers: b.slice(h)
                });
            }
            return g;
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                if (a.which == null) {
                    a.which = b.charCode != null ? b.charCode : b.keyCode;
                }
                return a;
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button;
                if (a.pageX == null && b.clientX != null) {
                    c = a.target.ownerDocument || l;
                    d = c.documentElement;
                    e = c.body;
                    a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0);
                    a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0);
                }
                if (!a.which && f !== undefined) {
                    a.which = f & 1 ? 1 : f & 2 ? 3 : f & 4 ? 2 : 0;
                }
                return a;
            }
        },
        fix: function(a) {
            if (a[n.expando]) {
                return a;
            }
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            if (!g) {
                this.fixHooks[e] = g = W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {};
            }
            d = g.props ? this.props.concat(g.props) : this.props;
            a = new n.Event(f);
            b = d.length;
            while (b--) {
                c = d[b];
                a[c] = f[c];
            }
            if (!a.target) {
                a.target = l;
            }
            if (a.target.nodeType === 3) {
                a.target = a.target.parentNode;
            }
            return g.filter ? g.filter(a, f) : a;
        },
        special: {
            load: {
                noBubble: true
            },
            focus: {
                trigger: function() {
                    if (this !== _() && this.focus) {
                        this.focus();
                        return false;
                    }
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === _() && this.blur) {
                        this.blur();
                        return false;
                    }
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (this.type === "checkbox" && this.click && n.nodeName(this, "input")) {
                        this.click();
                        return false;
                    }
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a");
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    if (a.result !== undefined && a.originalEvent) {
                        a.originalEvent.returnValue = a.result;
                    }
                }
            }
        },
        simulate: function(a, b, c, d) {
            var e = n.extend(new n.Event(), c, {
                type: a,
                isSimulated: true,
                originalEvent: {}
            });
            if (d) {
                n.event.trigger(e, null, b);
            } else {
                n.event.dispatch.call(b, e);
            }
            if (e.isDefaultPrevented()) {
                c.preventDefault();
            }
        }
    };
    n.removeEvent = function(a, b, c) {
        if (a.removeEventListener) {
            a.removeEventListener(b, c, false);
        }
    };
    n.Event = function(a, b) {
        if (!(this instanceof n.Event)) {
            return new n.Event(a, b);
        }
        if (a && a.type) {
            this.originalEvent = a;
            this.type = a.type;
            this.isDefaultPrevented = a.defaultPrevented || a.defaultPrevented === undefined && a.returnValue === false ? Z : $;
        } else {
            this.type = a;
        }
        if (b) {
            n.extend(this, b);
        }
        this.timeStamp = a && a.timeStamp || n.now();
        this[n.expando] = true;
    };
    n.Event.prototype = {
        isDefaultPrevented: $,
        isPropagationStopped: $,
        isImmediatePropagationStopped: $,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = Z;
            if (a && a.preventDefault) {
                a.preventDefault();
            }
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = Z;
            if (a && a.stopPropagation) {
                a.stopPropagation();
            }
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = Z;
            if (a && a.stopImmediatePropagation) {
                a.stopImmediatePropagation();
            }
            this.stopPropagation();
        }
    };
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                if (!e || e !== d && !n.contains(d, e)) {
                    a.type = f.origType;
                    c = f.handler.apply(this, arguments);
                    a.type = b;
                }
                return c;
            }
        };
    });
    if (!k.focusinBubbles) {
        n.each({
            focus: "focusin",
            blur: "focusout"
        }, function(a, b) {
            var c = function(a) {
                n.event.simulate(b, a.target, n.event.fix(a), true);
            };
            n.event.special[b] = {
                setup: function() {
                    var d = this.ownerDocument || this, e = L.access(d, b);
                    if (!e) {
                        d.addEventListener(a, c, true);
                    }
                    L.access(d, b, (e || 0) + 1);
                },
                teardown: function() {
                    var d = this.ownerDocument || this, e = L.access(d, b) - 1;
                    if (!e) {
                        d.removeEventListener(a, c, true);
                        L.remove(d, b);
                    } else {
                        L.access(d, b, e);
                    }
                }
            };
        });
    }
    n.fn.extend({
        on: function(a, b, c, d, e) {
            var f, g;
            if (typeof a === "object") {
                if (typeof b !== "string") {
                    c = c || b;
                    b = undefined;
                }
                for (g in a) {
                    this.on(g, b, c, a[g], e);
                }
                return this;
            }
            if (c == null && d == null) {
                d = b;
                c = b = undefined;
            } else if (d == null) {
                if (typeof b === "string") {
                    d = c;
                    c = undefined;
                } else {
                    d = c;
                    c = b;
                    b = undefined;
                }
            }
            if (d === false) {
                d = $;
            } else if (!d) {
                return this;
            }
            if (e === 1) {
                f = d;
                d = function(a) {
                    n().off(a);
                    return f.apply(this, arguments);
                };
                d.guid = f.guid || (f.guid = n.guid++);
            }
            return this.each(function() {
                n.event.add(this, a, d, c, b);
            });
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1);
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) {
                d = a.handleObj;
                n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler);
                return this;
            }
            if (typeof a === "object") {
                for (e in a) {
                    this.off(e, b, a[e]);
                }
                return this;
            }
            if (b === false || typeof b === "function") {
                c = b;
                b = undefined;
            }
            if (c === false) {
                c = $;
            }
            return this.each(function() {
                n.event.remove(this, a, c, b);
            });
        },
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this);
            });
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            if (c) {
                return n.event.trigger(a, b, c, true);
            }
        }
    });
    var aa = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, ba = /<([\w:]+)/, ca = /<|&#?\w+;/, da = /<(?:script|style|link)/i, ea = /checked\s*(?:[^=]|=\s*.checked.)/i, fa = /^$|\/(?:java|ecma)script/i, ga = /^true\/(.*)/, ha = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, ia = {
        option: [ 1, "<select multiple='multiple'>", "</select>" ],
        thead: [ 1, "<table>", "</table>" ],
        col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
        tr: [ 2, "<table><tbody>", "</tbody></table>" ],
        td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
        _default: [ 0, "", "" ]
    };
    ia.optgroup = ia.option;
    ia.tbody = ia.tfoot = ia.colgroup = ia.caption = ia.thead;
    ia.th = ia.td;
    function ja(a, b) {
        return n.nodeName(a, "table") && n.nodeName(b.nodeType !== 11 ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a;
    }
    function ka(a) {
        a.type = (a.getAttribute("type") !== null) + "/" + a.type;
        return a;
    }
    function la(a) {
        var b = ga.exec(a.type);
        if (b) {
            a.type = b[1];
        } else {
            a.removeAttribute("type");
        }
        return a;
    }
    function ma(a, b) {
        var c = 0, d = a.length;
        for (;c < d; c++) {
            L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"));
        }
    }
    function na(a, b) {
        var c, d, e, f, g, h, i, j;
        if (b.nodeType !== 1) {
            return;
        }
        if (L.hasData(a)) {
            f = L.access(a);
            g = L.set(b, f);
            j = f.events;
            if (j) {
                delete g.handle;
                g.events = {};
                for (e in j) {
                    for (c = 0, d = j[e].length; c < d; c++) {
                        n.event.add(b, e, j[e][c]);
                    }
                }
            }
        }
        if (M.hasData(a)) {
            h = M.access(a);
            i = n.extend({}, h);
            M.set(b, i);
        }
    }
    function oa(a, b) {
        var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return b === undefined || b && n.nodeName(a, b) ? n.merge([ a ], c) : c;
    }
    function pa(a, b) {
        var c = b.nodeName.toLowerCase();
        if (c === "input" && T.test(a.type)) {
            b.checked = a.checked;
        } else if (c === "input" || c === "textarea") {
            b.defaultValue = a.defaultValue;
        }
    }
    n.extend({
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(true), i = n.contains(a.ownerDocument, a);
            if (!k.noCloneChecked && (a.nodeType === 1 || a.nodeType === 11) && !n.isXMLDoc(a)) {
                g = oa(h);
                f = oa(a);
                for (d = 0, e = f.length; d < e; d++) {
                    pa(f[d], g[d]);
                }
            }
            if (b) {
                if (c) {
                    f = f || oa(a);
                    g = g || oa(h);
                    for (d = 0, e = f.length; d < e; d++) {
                        na(f[d], g[d]);
                    }
                } else {
                    na(a, h);
                }
            }
            g = oa(h, "script");
            if (g.length > 0) {
                ma(g, !i && oa(a, "script"));
            }
            return h;
        },
        buildFragment: function(a, b, c, d) {
            var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, o = a.length;
            for (;m < o; m++) {
                e = a[m];
                if (e || e === 0) {
                    if (n.type(e) === "object") {
                        n.merge(l, e.nodeType ? [ e ] : e);
                    } else if (!ca.test(e)) {
                        l.push(b.createTextNode(e));
                    } else {
                        f = f || k.appendChild(b.createElement("div"));
                        g = (ba.exec(e) || [ "", "" ])[1].toLowerCase();
                        h = ia[g] || ia._default;
                        f.innerHTML = h[1] + e.replace(aa, "<$1></$2>") + h[2];
                        j = h[0];
                        while (j--) {
                            f = f.lastChild;
                        }
                        n.merge(l, f.childNodes);
                        f = k.firstChild;
                        f.textContent = "";
                    }
                }
            }
            k.textContent = "";
            m = 0;
            while (e = l[m++]) {
                if (d && n.inArray(e, d) !== -1) {
                    continue;
                }
                i = n.contains(e.ownerDocument, e);
                f = oa(k.appendChild(e), "script");
                if (i) {
                    ma(f);
                }
                if (c) {
                    j = 0;
                    while (e = f[j++]) {
                        if (fa.test(e.type || "")) {
                            c.push(e);
                        }
                    }
                }
            }
            return k;
        },
        cleanData: function(a) {
            var b, c, d, e, f = n.event.special, g = 0;
            for (;(c = a[g]) !== undefined; g++) {
                if (n.acceptData(c)) {
                    e = c[L.expando];
                    if (e && (b = L.cache[e])) {
                        if (b.events) {
                            for (d in b.events) {
                                if (f[d]) {
                                    n.event.remove(c, d);
                                } else {
                                    n.removeEvent(c, d, b.handle);
                                }
                            }
                        }
                        if (L.cache[e]) {
                            delete L.cache[e];
                        }
                    }
                }
                delete M.cache[c[M.expando]];
            }
        }
    });
    n.fn.extend({
        text: function(a) {
            return J(this, function(a) {
                return a === undefined ? n.text(this) : this.empty().each(function() {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        this.textContent = a;
                    }
                });
            }, null, a, arguments.length);
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var b = ja(this, a);
                    b.appendChild(a);
                }
            });
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var b = ja(this, a);
                    b.insertBefore(a, b.firstChild);
                }
            });
        },
        before: function() {
            return this.domManip(arguments, function(a) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(a, this);
                }
            });
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(a, this.nextSibling);
                }
            });
        },
        remove: function(a, b) {
            var c, d = a ? n.filter(a, this) : this, e = 0;
            for (;(c = d[e]) != null; e++) {
                if (!b && c.nodeType === 1) {
                    n.cleanData(oa(c));
                }
                if (c.parentNode) {
                    if (b && n.contains(c.ownerDocument, c)) {
                        ma(oa(c, "script"));
                    }
                    c.parentNode.removeChild(c);
                }
            }
            return this;
        },
        empty: function() {
            var a, b = 0;
            for (;(a = this[b]) != null; b++) {
                if (a.nodeType === 1) {
                    n.cleanData(oa(a, false));
                    a.textContent = "";
                }
            }
            return this;
        },
        clone: function(a, b) {
            a = a == null ? false : a;
            b = b == null ? a : b;
            return this.map(function() {
                return n.clone(this, a, b);
            });
        },
        html: function(a) {
            return J(this, function(a) {
                var b = this[0] || {}, c = 0, d = this.length;
                if (a === undefined && b.nodeType === 1) {
                    return b.innerHTML;
                }
                if (typeof a === "string" && !da.test(a) && !ia[(ba.exec(a) || [ "", "" ])[1].toLowerCase()]) {
                    a = a.replace(aa, "<$1></$2>");
                    try {
                        for (;c < d; c++) {
                            b = this[c] || {};
                            if (b.nodeType === 1) {
                                n.cleanData(oa(b, false));
                                b.innerHTML = a;
                            }
                        }
                        b = 0;
                    } catch (e) {}
                }
                if (b) {
                    this.empty().append(a);
                }
            }, null, a, arguments.length);
        },
        replaceWith: function() {
            var a = arguments[0];
            this.domManip(arguments, function(b) {
                a = this.parentNode;
                n.cleanData(oa(this));
                if (a) {
                    a.replaceChild(b, this);
                }
            });
            return a && (a.length || a.nodeType) ? this : this.remove();
        },
        detach: function(a) {
            return this.remove(a, true);
        },
        domManip: function(a, b) {
            a = e.apply([], a);
            var c, d, f, g, h, i, j = 0, l = this.length, m = this, o = l - 1, p = a[0], q = n.isFunction(p);
            if (q || l > 1 && typeof p === "string" && !k.checkClone && ea.test(p)) {
                return this.each(function(c) {
                    var d = m.eq(c);
                    if (q) {
                        a[0] = p.call(this, c, d.html());
                    }
                    d.domManip(a, b);
                });
            }
            if (l) {
                c = n.buildFragment(a, this[0].ownerDocument, false, this);
                d = c.firstChild;
                if (c.childNodes.length === 1) {
                    c = d;
                }
                if (d) {
                    f = n.map(oa(c, "script"), ka);
                    g = f.length;
                    for (;j < l; j++) {
                        h = c;
                        if (j !== o) {
                            h = n.clone(h, true, true);
                            if (g) {
                                n.merge(f, oa(h, "script"));
                            }
                        }
                        b.call(this[j], h, j);
                    }
                    if (g) {
                        i = f[f.length - 1].ownerDocument;
                        n.map(f, la);
                        for (j = 0; j < g; j++) {
                            h = f[j];
                            if (fa.test(h.type || "") && !L.access(h, "globalEval") && n.contains(i, h)) {
                                if (h.src) {
                                    if (n._evalUrl) {
                                        n._evalUrl(h.src);
                                    }
                                } else {
                                    n.globalEval(h.textContent.replace(ha, ""));
                                }
                            }
                        }
                    }
                }
            }
            return this;
        }
    });
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        n.fn[a] = function(a) {
            var c, d = [], e = n(a), g = e.length - 1, h = 0;
            for (;h <= g; h++) {
                c = h === g ? this : this.clone(true);
                n(e[h])[b](c);
                f.apply(d, c.get());
            }
            return this.pushStack(d);
        };
    });
    var qa, ra = {};
    function sa(b, c) {
        var d, e = n(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : n.css(e[0], "display");
        e.detach();
        return f;
    }
    function ta(a) {
        var b = l, c = ra[a];
        if (!c) {
            c = sa(a, b);
            if (c === "none" || !c) {
                qa = (qa || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement);
                b = qa[0].contentDocument;
                b.write();
                b.close();
                c = sa(a, b);
                qa.detach();
            }
            ra[a] = c;
        }
        return c;
    }
    var ua = /^margin/;
    var va = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i");
    var wa = function(b) {
        if (b.ownerDocument.defaultView.opener) {
            return b.ownerDocument.defaultView.getComputedStyle(b, null);
        }
        return a.getComputedStyle(b, null);
    };
    function xa(a, b, c) {
        var d, e, f, g, h = a.style;
        c = c || wa(a);
        if (c) {
            g = c.getPropertyValue(b) || c[b];
        }
        if (c) {
            if (g === "" && !n.contains(a.ownerDocument, a)) {
                g = n.style(a, b);
            }
            if (va.test(g) && ua.test(b)) {
                d = h.width;
                e = h.minWidth;
                f = h.maxWidth;
                h.minWidth = h.maxWidth = h.width = g;
                g = c.width;
                h.width = d;
                h.minWidth = e;
                h.maxWidth = f;
            }
        }
        return g !== undefined ? g + "" : g;
    }
    function ya(a, b) {
        return {
            get: function() {
                if (a()) {
                    delete this.get;
                    return;
                }
                return (this.get = b).apply(this, arguments);
            }
        };
    }
    (function() {
        var b, c, d = l.documentElement, e = l.createElement("div"), f = l.createElement("div");
        if (!f.style) {
            return;
        }
        f.style.backgroundClip = "content-box";
        f.cloneNode(true).style.backgroundClip = "";
        k.clearCloneStyle = f.style.backgroundClip === "content-box";
        e.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;" + "position:absolute";
        e.appendChild(f);
        function g() {
            f.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" + "box-sizing:border-box;display:block;margin-top:1%;top:1%;" + "border:1px;padding:1px;width:4px;position:absolute";
            f.innerHTML = "";
            d.appendChild(e);
            var g = a.getComputedStyle(f, null);
            b = g.top !== "1%";
            c = g.width === "4px";
            d.removeChild(e);
        }
        if (a.getComputedStyle) {
            n.extend(k, {
                pixelPosition: function() {
                    g();
                    return b;
                },
                boxSizingReliable: function() {
                    if (c == null) {
                        g();
                    }
                    return c;
                },
                reliableMarginRight: function() {
                    var b, c = f.appendChild(l.createElement("div"));
                    c.style.cssText = f.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" + "box-sizing:content-box;display:block;margin:0;border:0;padding:0";
                    c.style.marginRight = c.style.width = "0";
                    f.style.width = "1px";
                    d.appendChild(e);
                    b = !parseFloat(a.getComputedStyle(c, null).marginRight);
                    d.removeChild(e);
                    f.removeChild(c);
                    return b;
                }
            });
        }
    })();
    n.swap = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b) {
            g[f] = a.style[f];
            a.style[f] = b[f];
        }
        e = c.apply(a, d || []);
        for (f in b) {
            a.style[f] = g[f];
        }
        return e;
    };
    var za = /^(none|table(?!-c[ea]).+)/, Aa = new RegExp("^(" + Q + ")(.*)$", "i"), Ba = new RegExp("^([+-])=(" + Q + ")", "i"), Ca = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, Da = {
        letterSpacing: "0",
        fontWeight: "400"
    }, Ea = [ "Webkit", "O", "Moz", "ms" ];
    function Fa(a, b) {
        if (b in a) {
            return b;
        }
        var c = b[0].toUpperCase() + b.slice(1), d = b, e = Ea.length;
        while (e--) {
            b = Ea[e] + c;
            if (b in a) {
                return b;
            }
        }
        return d;
    }
    function Ga(a, b, c) {
        var d = Aa.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b;
    }
    function Ha(a, b, c, d, e) {
        var f = c === (d ? "border" : "content") ? 4 : b === "width" ? 1 : 0, g = 0;
        for (;f < 4; f += 2) {
            if (c === "margin") {
                g += n.css(a, c + R[f], true, e);
            }
            if (d) {
                if (c === "content") {
                    g -= n.css(a, "padding" + R[f], true, e);
                }
                if (c !== "margin") {
                    g -= n.css(a, "border" + R[f] + "Width", true, e);
                }
            } else {
                g += n.css(a, "padding" + R[f], true, e);
                if (c !== "padding") {
                    g += n.css(a, "border" + R[f] + "Width", true, e);
                }
            }
        }
        return g;
    }
    function Ia(a, b, c) {
        var d = true, e = b === "width" ? a.offsetWidth : a.offsetHeight, f = wa(a), g = n.css(a, "boxSizing", false, f) === "border-box";
        if (e <= 0 || e == null) {
            e = xa(a, b, f);
            if (e < 0 || e == null) {
                e = a.style[b];
            }
            if (va.test(e)) {
                return e;
            }
            d = g && (k.boxSizingReliable() || e === a.style[b]);
            e = parseFloat(e) || 0;
        }
        return e + Ha(a, b, c || (g ? "border" : "content"), d, f) + "px";
    }
    function Ja(a, b) {
        var c, d, e, f = [], g = 0, h = a.length;
        for (;g < h; g++) {
            d = a[g];
            if (!d.style) {
                continue;
            }
            f[g] = L.get(d, "olddisplay");
            c = d.style.display;
            if (b) {
                if (!f[g] && c === "none") {
                    d.style.display = "";
                }
                if (d.style.display === "" && S(d)) {
                    f[g] = L.access(d, "olddisplay", ta(d.nodeName));
                }
            } else {
                e = S(d);
                if (c !== "none" || !e) {
                    L.set(d, "olddisplay", e ? c : n.css(d, "display"));
                }
            }
        }
        for (g = 0; g < h; g++) {
            d = a[g];
            if (!d.style) {
                continue;
            }
            if (!b || d.style.display === "none" || d.style.display === "") {
                d.style.display = b ? f[g] || "" : "none";
            }
        }
        return a;
    }
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = xa(a, "opacity");
                        return c === "" ? "1" : c;
                    }
                }
            }
        },
        cssNumber: {
            columnCount: true,
            fillOpacity: true,
            flexGrow: true,
            flexShrink: true,
            fontWeight: true,
            lineHeight: true,
            opacity: true,
            order: true,
            orphans: true,
            widows: true,
            zIndex: true,
            zoom: true
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (!a || a.nodeType === 3 || a.nodeType === 8 || !a.style) {
                return;
            }
            var e, f, g, h = n.camelCase(b), i = a.style;
            b = n.cssProps[h] || (n.cssProps[h] = Fa(i, h));
            g = n.cssHooks[b] || n.cssHooks[h];
            if (c !== undefined) {
                f = typeof c;
                if (f === "string" && (e = Ba.exec(c))) {
                    c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b));
                    f = "number";
                }
                if (c == null || c !== c) {
                    return;
                }
                if (f === "number" && !n.cssNumber[h]) {
                    c += "px";
                }
                if (!k.clearCloneStyle && c === "" && b.indexOf("background") === 0) {
                    i[b] = "inherit";
                }
                if (!g || !("set" in g) || (c = g.set(a, c, d)) !== undefined) {
                    i[b] = c;
                }
            } else {
                if (g && "get" in g && (e = g.get(a, false, d)) !== undefined) {
                    return e;
                }
                return i[b];
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = n.camelCase(b);
            b = n.cssProps[h] || (n.cssProps[h] = Fa(a.style, h));
            g = n.cssHooks[b] || n.cssHooks[h];
            if (g && "get" in g) {
                e = g.get(a, true, c);
            }
            if (e === undefined) {
                e = xa(a, b, d);
            }
            if (e === "normal" && b in Da) {
                e = Da[b];
            }
            if (c === "" || c) {
                f = parseFloat(e);
                return c === true || n.isNumeric(f) ? f || 0 : e;
            }
            return e;
        }
    });
    n.each([ "height", "width" ], function(a, b) {
        n.cssHooks[b] = {
            get: function(a, c, d) {
                if (c) {
                    return za.test(n.css(a, "display")) && a.offsetWidth === 0 ? n.swap(a, Ca, function() {
                        return Ia(a, b, d);
                    }) : Ia(a, b, d);
                }
            },
            set: function(a, c, d) {
                var e = d && wa(a);
                return Ga(a, c, d ? Ha(a, b, d, n.css(a, "boxSizing", false, e) === "border-box", e) : 0);
            }
        };
    });
    n.cssHooks.marginRight = ya(k.reliableMarginRight, function(a, b) {
        if (b) {
            return n.swap(a, {
                display: "inline-block"
            }, xa, [ a, "marginRight" ]);
        }
    });
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(c) {
                var d = 0, e = {}, f = typeof c === "string" ? c.split(" ") : [ c ];
                for (;d < 4; d++) {
                    e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
                }
                return e;
            }
        };
        if (!ua.test(a)) {
            n.cssHooks[a + b].set = Ga;
        }
    });
    n.fn.extend({
        css: function(a, b) {
            return J(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (n.isArray(b)) {
                    d = wa(a);
                    e = b.length;
                    for (;g < e; g++) {
                        f[b[g]] = n.css(a, b[g], false, d);
                    }
                    return f;
                }
                return c !== undefined ? n.style(a, b, c) : n.css(a, b);
            }, a, b, arguments.length > 1);
        },
        show: function() {
            return Ja(this, true);
        },
        hide: function() {
            return Ja(this);
        },
        toggle: function(a) {
            if (typeof a === "boolean") {
                return a ? this.show() : this.hide();
            }
            return this.each(function() {
                if (S(this)) {
                    n(this).show();
                } else {
                    n(this).hide();
                }
            });
        }
    });
    function Ka(a, b, c, d, e) {
        return new Ka.prototype.init(a, b, c, d, e);
    }
    n.Tween = Ka;
    Ka.prototype = {
        constructor: Ka,
        init: function(a, b, c, d, e, f) {
            this.elem = a;
            this.prop = c;
            this.easing = e || "swing";
            this.options = b;
            this.start = this.now = this.cur();
            this.end = d;
            this.unit = f || (n.cssNumber[c] ? "" : "px");
        },
        cur: function() {
            var a = Ka.propHooks[this.prop];
            return a && a.get ? a.get(this) : Ka.propHooks._default.get(this);
        },
        run: function(a) {
            var b, c = Ka.propHooks[this.prop];
            if (this.options.duration) {
                this.pos = b = n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration);
            } else {
                this.pos = b = a;
            }
            this.now = (this.end - this.start) * b + this.start;
            if (this.options.step) {
                this.options.step.call(this.elem, this.now, this);
            }
            if (c && c.set) {
                c.set(this);
            } else {
                Ka.propHooks._default.set(this);
            }
            return this;
        }
    };
    Ka.prototype.init.prototype = Ka.prototype;
    Ka.propHooks = {
        _default: {
            get: function(a) {
                var b;
                if (a.elem[a.prop] != null && (!a.elem.style || a.elem.style[a.prop] == null)) {
                    return a.elem[a.prop];
                }
                b = n.css(a.elem, a.prop, "");
                return !b || b === "auto" ? 0 : b;
            },
            set: function(a) {
                if (n.fx.step[a.prop]) {
                    n.fx.step[a.prop](a);
                } else if (a.elem.style && (a.elem.style[n.cssProps[a.prop]] != null || n.cssHooks[a.prop])) {
                    n.style(a.elem, a.prop, a.now + a.unit);
                } else {
                    a.elem[a.prop] = a.now;
                }
            }
        }
    };
    Ka.propHooks.scrollTop = Ka.propHooks.scrollLeft = {
        set: function(a) {
            if (a.elem.nodeType && a.elem.parentNode) {
                a.elem[a.prop] = a.now;
            }
        }
    };
    n.easing = {
        linear: function(a) {
            return a;
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2;
        }
    };
    n.fx = Ka.prototype.init;
    n.fx.step = {};
    var La, Ma, Na = /^(?:toggle|show|hide)$/, Oa = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"), Pa = /queueHooks$/, Qa = [ Va ], Ra = {
        "*": [ function(a, b) {
            var c = this.createTween(a, b), d = c.cur(), e = Oa.exec(b), f = e && e[3] || (n.cssNumber[a] ? "" : "px"), g = (n.cssNumber[a] || f !== "px" && +d) && Oa.exec(n.css(c.elem, a)), h = 1, i = 20;
            if (g && g[3] !== f) {
                f = f || g[3];
                e = e || [];
                g = +d || 1;
                do {
                    h = h || ".5";
                    g = g / h;
                    n.style(c.elem, a, g + f);
                } while (h !== (h = c.cur() / d) && h !== 1 && --i);
            }
            if (e) {
                g = c.start = +g || +d || 0;
                c.unit = f;
                c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2];
            }
            return c;
        } ]
    };
    function Sa() {
        setTimeout(function() {
            La = undefined;
        });
        return La = n.now();
    }
    function Ta(a, b) {
        var c, d = 0, e = {
            height: a
        };
        b = b ? 1 : 0;
        for (;d < 4; d += 2 - b) {
            c = R[d];
            e["margin" + c] = e["padding" + c] = a;
        }
        if (b) {
            e.opacity = e.width = a;
        }
        return e;
    }
    function Ua(a, b, c) {
        var d, e = (Ra[b] || []).concat(Ra["*"]), f = 0, g = e.length;
        for (;f < g; f++) {
            if (d = e[f].call(c, b, a)) {
                return d;
            }
        }
    }
    function Va(a, b, c) {
        var d, e, f, g, h, i, j, k, l = this, m = {}, o = a.style, p = a.nodeType && S(a), q = L.get(a, "fxshow");
        if (!c.queue) {
            h = n._queueHooks(a, "fx");
            if (h.unqueued == null) {
                h.unqueued = 0;
                i = h.empty.fire;
                h.empty.fire = function() {
                    if (!h.unqueued) {
                        i();
                    }
                };
            }
            h.unqueued++;
            l.always(function() {
                l.always(function() {
                    h.unqueued--;
                    if (!n.queue(a, "fx").length) {
                        h.empty.fire();
                    }
                });
            });
        }
        if (a.nodeType === 1 && ("height" in b || "width" in b)) {
            c.overflow = [ o.overflow, o.overflowX, o.overflowY ];
            j = n.css(a, "display");
            k = j === "none" ? L.get(a, "olddisplay") || ta(a.nodeName) : j;
            if (k === "inline" && n.css(a, "float") === "none") {
                o.display = "inline-block";
            }
        }
        if (c.overflow) {
            o.overflow = "hidden";
            l.always(function() {
                o.overflow = c.overflow[0];
                o.overflowX = c.overflow[1];
                o.overflowY = c.overflow[2];
            });
        }
        for (d in b) {
            e = b[d];
            if (Na.exec(e)) {
                delete b[d];
                f = f || e === "toggle";
                if (e === (p ? "hide" : "show")) {
                    if (e === "show" && q && q[d] !== undefined) {
                        p = true;
                    } else {
                        continue;
                    }
                }
                m[d] = q && q[d] || n.style(a, d);
            } else {
                j = undefined;
            }
        }
        if (!n.isEmptyObject(m)) {
            if (q) {
                if ("hidden" in q) {
                    p = q.hidden;
                }
            } else {
                q = L.access(a, "fxshow", {});
            }
            if (f) {
                q.hidden = !p;
            }
            if (p) {
                n(a).show();
            } else {
                l.done(function() {
                    n(a).hide();
                });
            }
            l.done(function() {
                var b;
                L.remove(a, "fxshow");
                for (b in m) {
                    n.style(a, b, m[b]);
                }
            });
            for (d in m) {
                g = Ua(p ? q[d] : 0, d, l);
                if (!(d in q)) {
                    q[d] = g.start;
                    if (p) {
                        g.end = g.start;
                        g.start = d === "width" || d === "height" ? 1 : 0;
                    }
                }
            }
        } else if ((j === "none" ? ta(a.nodeName) : j) === "inline") {
            o.display = j;
        }
    }
    function Wa(a, b) {
        var c, d, e, f, g;
        for (c in a) {
            d = n.camelCase(c);
            e = b[d];
            f = a[c];
            if (n.isArray(f)) {
                e = f[1];
                f = a[c] = f[0];
            }
            if (c !== d) {
                a[d] = f;
                delete a[c];
            }
            g = n.cssHooks[d];
            if (g && "expand" in g) {
                f = g.expand(f);
                delete a[d];
                for (c in f) {
                    if (!(c in a)) {
                        a[c] = f[c];
                        b[c] = e;
                    }
                }
            } else {
                b[d] = e;
            }
        }
    }
    function Xa(a, b, c) {
        var d, e, f = 0, g = Qa.length, h = n.Deferred().always(function() {
            delete i.elem;
        }), i = function() {
            if (e) {
                return false;
            }
            var b = La || Sa(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length;
            for (;g < i; g++) {
                j.tweens[g].run(f);
            }
            h.notifyWith(a, [ j, f, c ]);
            if (f < 1 && i) {
                return c;
            } else {
                h.resolveWith(a, [ j ]);
                return false;
            }
        }, j = h.promise({
            elem: a,
            props: n.extend({}, b),
            opts: n.extend(true, {
                specialEasing: {}
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: La || Sa(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                j.tweens.push(d);
                return d;
            },
            stop: function(b) {
                var c = 0, d = b ? j.tweens.length : 0;
                if (e) {
                    return this;
                }
                e = true;
                for (;c < d; c++) {
                    j.tweens[c].run(1);
                }
                if (b) {
                    h.resolveWith(a, [ j, b ]);
                } else {
                    h.rejectWith(a, [ j, b ]);
                }
                return this;
            }
        }), k = j.props;
        Wa(k, j.opts.specialEasing);
        for (;f < g; f++) {
            d = Qa[f].call(j, a, k, j.opts);
            if (d) {
                return d;
            }
        }
        n.map(k, Ua, j);
        if (n.isFunction(j.opts.start)) {
            j.opts.start.call(a, j);
        }
        n.fx.timer(n.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        }));
        return j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always);
    }
    n.Animation = n.extend(Xa, {
        tweener: function(a, b) {
            if (n.isFunction(a)) {
                b = a;
                a = [ "*" ];
            } else {
                a = a.split(" ");
            }
            var c, d = 0, e = a.length;
            for (;d < e; d++) {
                c = a[d];
                Ra[c] = Ra[c] || [];
                Ra[c].unshift(b);
            }
        },
        prefilter: function(a, b) {
            if (b) {
                Qa.unshift(a);
            } else {
                Qa.push(a);
            }
        }
    });
    n.speed = function(a, b, c) {
        var d = a && typeof a === "object" ? n.extend({}, a) : {
            complete: c || !c && b || n.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !n.isFunction(b) && b
        };
        d.duration = n.fx.off ? 0 : typeof d.duration === "number" ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default;
        if (d.queue == null || d.queue === true) {
            d.queue = "fx";
        }
        d.old = d.complete;
        d.complete = function() {
            if (n.isFunction(d.old)) {
                d.old.call(this);
            }
            if (d.queue) {
                n.dequeue(this, d.queue);
            }
        };
        return d;
    };
    n.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(S).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d);
        },
        animate: function(a, b, c, d) {
            var e = n.isEmptyObject(a), f = n.speed(b, c, d), g = function() {
                var b = Xa(this, n.extend({}, a), f);
                if (e || L.get(this, "finish")) {
                    b.stop(true);
                }
            };
            g.finish = g;
            return e || f.queue === false ? this.each(g) : this.queue(f.queue, g);
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop;
                b(c);
            };
            if (typeof a !== "string") {
                c = b;
                b = a;
                a = undefined;
            }
            if (b && a !== false) {
                this.queue(a || "fx", []);
            }
            return this.each(function() {
                var b = true, e = a != null && a + "queueHooks", f = n.timers, g = L.get(this);
                if (e) {
                    if (g[e] && g[e].stop) {
                        d(g[e]);
                    }
                } else {
                    for (e in g) {
                        if (g[e] && g[e].stop && Pa.test(e)) {
                            d(g[e]);
                        }
                    }
                }
                for (e = f.length; e--; ) {
                    if (f[e].elem === this && (a == null || f[e].queue === a)) {
                        f[e].anim.stop(c);
                        b = false;
                        f.splice(e, 1);
                    }
                }
                if (b || !c) {
                    n.dequeue(this, a);
                }
            });
        },
        finish: function(a) {
            if (a !== false) {
                a = a || "fx";
            }
            return this.each(function() {
                var b, c = L.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0;
                c.finish = true;
                n.queue(this, a, []);
                if (e && e.stop) {
                    e.stop.call(this, true);
                }
                for (b = f.length; b--; ) {
                    if (f[b].elem === this && f[b].queue === a) {
                        f[b].anim.stop(true);
                        f.splice(b, 1);
                    }
                }
                for (b = 0; b < g; b++) {
                    if (d[b] && d[b].finish) {
                        d[b].finish.call(this);
                    }
                }
                delete c.finish;
            });
        }
    });
    n.each([ "toggle", "show", "hide" ], function(a, b) {
        var c = n.fn[b];
        n.fn[b] = function(a, d, e) {
            return a == null || typeof a === "boolean" ? c.apply(this, arguments) : this.animate(Ta(b, true), a, d, e);
        };
    });
    n.each({
        slideDown: Ta("show"),
        slideUp: Ta("hide"),
        slideToggle: Ta("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        n.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d);
        };
    });
    n.timers = [];
    n.fx.tick = function() {
        var a, b = 0, c = n.timers;
        La = n.now();
        for (;b < c.length; b++) {
            a = c[b];
            if (!a() && c[b] === a) {
                c.splice(b--, 1);
            }
        }
        if (!c.length) {
            n.fx.stop();
        }
        La = undefined;
    };
    n.fx.timer = function(a) {
        n.timers.push(a);
        if (a()) {
            n.fx.start();
        } else {
            n.timers.pop();
        }
    };
    n.fx.interval = 13;
    n.fx.start = function() {
        if (!Ma) {
            Ma = setInterval(n.fx.tick, n.fx.interval);
        }
    };
    n.fx.stop = function() {
        clearInterval(Ma);
        Ma = null;
    };
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    n.fn.delay = function(a, b) {
        a = n.fx ? n.fx.speeds[a] || a : a;
        b = b || "fx";
        return this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d);
            };
        });
    };
    (function() {
        var a = l.createElement("input"), b = l.createElement("select"), c = b.appendChild(l.createElement("option"));
        a.type = "checkbox";
        k.checkOn = a.value !== "";
        k.optSelected = c.selected;
        b.disabled = true;
        k.optDisabled = !c.disabled;
        a = l.createElement("input");
        a.value = "t";
        a.type = "radio";
        k.radioValue = a.value === "t";
    })();
    var Ya, Za, $a = n.expr.attrHandle;
    n.fn.extend({
        attr: function(a, b) {
            return J(this, n.attr, a, b, arguments.length > 1);
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a);
            });
        }
    });
    n.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (!a || f === 3 || f === 8 || f === 2) {
                return;
            }
            if (typeof a.getAttribute === U) {
                return n.prop(a, b, c);
            }
            if (f !== 1 || !n.isXMLDoc(a)) {
                b = b.toLowerCase();
                d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? Za : Ya);
            }
            if (c !== undefined) {
                if (c === null) {
                    n.removeAttr(a, b);
                } else if (d && "set" in d && (e = d.set(a, c, b)) !== undefined) {
                    return e;
                } else {
                    a.setAttribute(b, c + "");
                    return c;
                }
            } else if (d && "get" in d && (e = d.get(a, b)) !== null) {
                return e;
            } else {
                e = n.find.attr(a, b);
                return e == null ? undefined : e;
            }
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(E);
            if (f && a.nodeType === 1) {
                while (c = f[e++]) {
                    d = n.propFix[c] || c;
                    if (n.expr.match.bool.test(c)) {
                        a[d] = false;
                    }
                    a.removeAttribute(c);
                }
            }
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!k.radioValue && b === "radio" && n.nodeName(a, "input")) {
                        var c = a.value;
                        a.setAttribute("type", b);
                        if (c) {
                            a.value = c;
                        }
                        return b;
                    }
                }
            }
        }
    });
    Za = {
        set: function(a, b, c) {
            if (b === false) {
                n.removeAttr(a, c);
            } else {
                a.setAttribute(c, c);
            }
            return c;
        }
    };
    n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = $a[b] || n.find.attr;
        $a[b] = function(a, b, d) {
            var e, f;
            if (!d) {
                f = $a[b];
                $a[b] = e;
                e = c(a, b, d) != null ? b.toLowerCase() : null;
                $a[b] = f;
            }
            return e;
        };
    });
    var _a = /^(?:input|select|textarea|button)$/i;
    n.fn.extend({
        prop: function(a, b) {
            return J(this, n.prop, a, b, arguments.length > 1);
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[n.propFix[a] || a];
            });
        }
    });
    n.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, f, g = a.nodeType;
            if (!a || g === 3 || g === 8 || g === 2) {
                return;
            }
            f = g !== 1 || !n.isXMLDoc(a);
            if (f) {
                b = n.propFix[b] || b;
                e = n.propHooks[b];
            }
            if (c !== undefined) {
                return e && "set" in e && (d = e.set(a, c, b)) !== undefined ? d : a[b] = c;
            } else {
                return e && "get" in e && (d = e.get(a, b)) !== null ? d : a[b];
            }
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    return a.hasAttribute("tabindex") || _a.test(a.nodeName) || a.href ? a.tabIndex : -1;
                }
            }
        }
    });
    if (!k.optSelected) {
        n.propHooks.selected = {
            get: function(a) {
                var b = a.parentNode;
                if (b && b.parentNode) {
                    b.parentNode.selectedIndex;
                }
                return null;
            }
        };
    }
    n.each([ "tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable" ], function() {
        n.propFix[this.toLowerCase()] = this;
    });
    var ab = /[\t\r\n\f]/g;
    n.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h = typeof a === "string" && a, i = 0, j = this.length;
            if (n.isFunction(a)) {
                return this.each(function(b) {
                    n(this).addClass(a.call(this, b, this.className));
                });
            }
            if (h) {
                b = (a || "").match(E) || [];
                for (;i < j; i++) {
                    c = this[i];
                    d = c.nodeType === 1 && (c.className ? (" " + c.className + " ").replace(ab, " ") : " ");
                    if (d) {
                        f = 0;
                        while (e = b[f++]) {
                            if (d.indexOf(" " + e + " ") < 0) {
                                d += e + " ";
                            }
                        }
                        g = n.trim(d);
                        if (c.className !== g) {
                            c.className = g;
                        }
                    }
                }
            }
            return this;
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h = arguments.length === 0 || typeof a === "string" && a, i = 0, j = this.length;
            if (n.isFunction(a)) {
                return this.each(function(b) {
                    n(this).removeClass(a.call(this, b, this.className));
                });
            }
            if (h) {
                b = (a || "").match(E) || [];
                for (;i < j; i++) {
                    c = this[i];
                    d = c.nodeType === 1 && (c.className ? (" " + c.className + " ").replace(ab, " ") : "");
                    if (d) {
                        f = 0;
                        while (e = b[f++]) {
                            while (d.indexOf(" " + e + " ") >= 0) {
                                d = d.replace(" " + e + " ", " ");
                            }
                        }
                        g = a ? n.trim(d) : "";
                        if (c.className !== g) {
                            c.className = g;
                        }
                    }
                }
            }
            return this;
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            if (typeof b === "boolean" && c === "string") {
                return b ? this.addClass(a) : this.removeClass(a);
            }
            if (n.isFunction(a)) {
                return this.each(function(c) {
                    n(this).toggleClass(a.call(this, c, this.className, b), b);
                });
            }
            return this.each(function() {
                if (c === "string") {
                    var b, d = 0, e = n(this), f = a.match(E) || [];
                    while (b = f[d++]) {
                        if (e.hasClass(b)) {
                            e.removeClass(b);
                        } else {
                            e.addClass(b);
                        }
                    }
                } else if (c === U || c === "boolean") {
                    if (this.className) {
                        L.set(this, "__className__", this.className);
                    }
                    this.className = this.className || a === false ? "" : L.get(this, "__className__") || "";
                }
            });
        },
        hasClass: function(a) {
            var b = " " + a + " ", c = 0, d = this.length;
            for (;c < d; c++) {
                if (this[c].nodeType === 1 && (" " + this[c].className + " ").replace(ab, " ").indexOf(b) >= 0) {
                    return true;
                }
            }
            return false;
        }
    });
    var bb = /\r/g;
    n.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            if (!arguments.length) {
                if (e) {
                    b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()];
                    if (b && "get" in b && (c = b.get(e, "value")) !== undefined) {
                        return c;
                    }
                    c = e.value;
                    return typeof c === "string" ? c.replace(bb, "") : c == null ? "" : c;
                }
                return;
            }
            d = n.isFunction(a);
            return this.each(function(c) {
                var e;
                if (this.nodeType !== 1) {
                    return;
                }
                if (d) {
                    e = a.call(this, c, n(this).val());
                } else {
                    e = a;
                }
                if (e == null) {
                    e = "";
                } else if (typeof e === "number") {
                    e += "";
                } else if (n.isArray(e)) {
                    e = n.map(e, function(a) {
                        return a == null ? "" : a + "";
                    });
                }
                b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()];
                if (!b || !("set" in b) || b.set(this, e, "value") === undefined) {
                    this.value = e;
                }
            });
        }
    });
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return b != null ? b : n.trim(n.text(a));
                }
            },
            select: {
                get: function(a) {
                    var b, c, d = a.options, e = a.selectedIndex, f = a.type === "select-one" || e < 0, g = f ? null : [], h = f ? e + 1 : d.length, i = e < 0 ? h : f ? e : 0;
                    for (;i < h; i++) {
                        c = d[i];
                        if ((c.selected || i === e) && (k.optDisabled ? !c.disabled : c.getAttribute("disabled") === null) && (!c.parentNode.disabled || !n.nodeName(c.parentNode, "optgroup"))) {
                            b = n(c).val();
                            if (f) {
                                return b;
                            }
                            g.push(b);
                        }
                    }
                    return g;
                },
                set: function(a, b) {
                    var c, d, e = a.options, f = n.makeArray(b), g = e.length;
                    while (g--) {
                        d = e[g];
                        if (d.selected = n.inArray(d.value, f) >= 0) {
                            c = true;
                        }
                    }
                    if (!c) {
                        a.selectedIndex = -1;
                    }
                    return f;
                }
            }
        }
    });
    n.each([ "radio", "checkbox" ], function() {
        n.valHooks[this] = {
            set: function(a, b) {
                if (n.isArray(b)) {
                    return a.checked = n.inArray(n(a).val(), b) >= 0;
                }
            }
        };
        if (!k.checkOn) {
            n.valHooks[this].get = function(a) {
                return a.getAttribute("value") === null ? "on" : a.value;
            };
        }
    });
    n.each(("blur focus focusin focusout load resize scroll unload click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup error contextmenu").split(" "), function(a, b) {
        n.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b);
        };
    });
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a);
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c);
        },
        unbind: function(a, b) {
            return this.off(a, null, b);
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d);
        },
        undelegate: function(a, b, c) {
            return arguments.length === 1 ? this.off(a, "**") : this.off(b, a || "**", c);
        }
    });
    var cb = n.now();
    var db = /\?/;
    n.parseJSON = function(a) {
        return JSON.parse(a + "");
    };
    n.parseXML = function(a) {
        var b, c;
        if (!a || typeof a !== "string") {
            return null;
        }
        try {
            c = new DOMParser();
            b = c.parseFromString(a, "text/xml");
        } catch (d) {
            b = undefined;
        }
        if (!b || b.getElementsByTagName("parsererror").length) {
            n.error("Invalid XML: " + a);
        }
        return b;
    };
    var eb = /#.*$/, fb = /([?&])_=[^&]*/, gb = /^(.*?):[ \t]*([^\r\n]*)$/gm, hb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, ib = /^(?:GET|HEAD)$/, jb = /^\/\//, kb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, lb = {}, mb = {}, nb = "*/".concat("*"), ob = a.location.href, pb = kb.exec(ob.toLowerCase()) || [];
    function qb(a) {
        return function(b, c) {
            if (typeof b !== "string") {
                c = b;
                b = "*";
            }
            var d, e = 0, f = b.toLowerCase().match(E) || [];
            if (n.isFunction(c)) {
                while (d = f[e++]) {
                    if (d[0] === "+") {
                        d = d.slice(1) || "*";
                        (a[d] = a[d] || []).unshift(c);
                    } else {
                        (a[d] = a[d] || []).push(c);
                    }
                }
            }
        };
    }
    function rb(a, b, c, d) {
        var e = {}, f = a === mb;
        function g(h) {
            var i;
            e[h] = true;
            n.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                if (typeof j === "string" && !f && !e[j]) {
                    b.dataTypes.unshift(j);
                    g(j);
                    return false;
                } else if (f) {
                    return !(i = j);
                }
            });
            return i;
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*");
    }
    function sb(a, b) {
        var c, d, e = n.ajaxSettings.flatOptions || {};
        for (c in b) {
            if (b[c] !== undefined) {
                (e[c] ? a : d || (d = {}))[c] = b[c];
            }
        }
        if (d) {
            n.extend(true, a, d);
        }
        return a;
    }
    function tb(a, b, c) {
        var d, e, f, g, h = a.contents, i = a.dataTypes;
        while (i[0] === "*") {
            i.shift();
            if (d === undefined) {
                d = a.mimeType || b.getResponseHeader("Content-Type");
            }
        }
        if (d) {
            for (e in h) {
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break;
                }
            }
        }
        if (i[0] in c) {
            f = i[0];
        } else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break;
                }
                if (!g) {
                    g = e;
                }
            }
            f = f || g;
        }
        if (f) {
            if (f !== i[0]) {
                i.unshift(f);
            }
            return c[f];
        }
    }
    function ub(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1]) {
            for (g in a.converters) {
                j[g.toLowerCase()] = a.converters[g];
            }
        }
        f = k.shift();
        while (f) {
            if (a.responseFields[f]) {
                c[a.responseFields[f]] = b;
            }
            if (!i && d && a.dataFilter) {
                b = a.dataFilter(b, a.dataType);
            }
            i = f;
            f = k.shift();
            if (f) {
                if (f === "*") {
                    f = i;
                } else if (i !== "*" && i !== f) {
                    g = j[i + " " + f] || j["* " + f];
                    if (!g) {
                        for (e in j) {
                            h = e.split(" ");
                            if (h[1] === f) {
                                g = j[i + " " + h[0]] || j["* " + h[0]];
                                if (g) {
                                    if (g === true) {
                                        g = j[e];
                                    } else if (j[e] !== true) {
                                        f = h[0];
                                        k.unshift(h[1]);
                                    }
                                    break;
                                }
                            }
                        }
                    }
                    if (g !== true) {
                        if (g && a["throws"]) {
                            b = g(b);
                        } else {
                            try {
                                b = g(b);
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                };
                            }
                        }
                    }
                }
            }
        }
        return {
            state: "success",
            data: b
        };
    }
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: ob,
            type: "GET",
            isLocal: hb.test(pb[1]),
            global: true,
            processData: true,
            async: true,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": nb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": true,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: true,
                context: true
            }
        },
        ajaxSetup: function(a, b) {
            return b ? sb(sb(a, n.ajaxSettings), b) : sb(n.ajaxSettings, a);
        },
        ajaxPrefilter: qb(lb),
        ajaxTransport: qb(mb),
        ajax: function(a, b) {
            if (typeof a === "object") {
                b = a;
                a = undefined;
            }
            b = b || {};
            var c, d, e, f, g, h, i, j, k = n.ajaxSetup({}, b), l = k.context || k, m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event, o = n.Deferred(), p = n.Callbacks("once memory"), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (t === 2) {
                        if (!f) {
                            f = {};
                            while (b = gb.exec(e)) {
                                f[b[1].toLowerCase()] = b[2];
                            }
                        }
                        b = f[a.toLowerCase()];
                    }
                    return b == null ? null : b;
                },
                getAllResponseHeaders: function() {
                    return t === 2 ? e : null;
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    if (!t) {
                        a = s[c] = s[c] || a;
                        r[a] = b;
                    }
                    return this;
                },
                overrideMimeType: function(a) {
                    if (!t) {
                        k.mimeType = a;
                    }
                    return this;
                },
                statusCode: function(a) {
                    var b;
                    if (a) {
                        if (t < 2) {
                            for (b in a) {
                                q[b] = [ q[b], a[b] ];
                            }
                        } else {
                            v.always(a[v.status]);
                        }
                    }
                    return this;
                },
                abort: function(a) {
                    var b = a || u;
                    if (c) {
                        c.abort(b);
                    }
                    x(0, b);
                    return this;
                }
            };
            o.promise(v).complete = p.add;
            v.success = v.done;
            v.error = v.fail;
            k.url = ((a || k.url || ob) + "").replace(eb, "").replace(jb, pb[1] + "//");
            k.type = b.method || b.type || k.method || k.type;
            k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(E) || [ "" ];
            if (k.crossDomain == null) {
                h = kb.exec(k.url.toLowerCase());
                k.crossDomain = !!(h && (h[1] !== pb[1] || h[2] !== pb[2] || (h[3] || (h[1] === "http:" ? "80" : "443")) !== (pb[3] || (pb[1] === "http:" ? "80" : "443"))));
            }
            if (k.data && k.processData && typeof k.data !== "string") {
                k.data = n.param(k.data, k.traditional);
            }
            rb(lb, k, b, v);
            if (t === 2) {
                return v;
            }
            i = n.event && k.global;
            if (i && n.active++ === 0) {
                n.event.trigger("ajaxStart");
            }
            k.type = k.type.toUpperCase();
            k.hasContent = !ib.test(k.type);
            d = k.url;
            if (!k.hasContent) {
                if (k.data) {
                    d = k.url += (db.test(d) ? "&" : "?") + k.data;
                    delete k.data;
                }
                if (k.cache === false) {
                    k.url = fb.test(d) ? d.replace(fb, "$1_=" + cb++) : d + (db.test(d) ? "&" : "?") + "_=" + cb++;
                }
            }
            if (k.ifModified) {
                if (n.lastModified[d]) {
                    v.setRequestHeader("If-Modified-Since", n.lastModified[d]);
                }
                if (n.etag[d]) {
                    v.setRequestHeader("If-None-Match", n.etag[d]);
                }
            }
            if (k.data && k.hasContent && k.contentType !== false || b.contentType) {
                v.setRequestHeader("Content-Type", k.contentType);
            }
            v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + (k.dataTypes[0] !== "*" ? ", " + nb + "; q=0.01" : "") : k.accepts["*"]);
            for (j in k.headers) {
                v.setRequestHeader(j, k.headers[j]);
            }
            if (k.beforeSend && (k.beforeSend.call(l, v, k) === false || t === 2)) {
                return v.abort();
            }
            u = "abort";
            for (j in {
                success: 1,
                error: 1,
                complete: 1
            }) {
                v[j](k[j]);
            }
            c = rb(mb, k, b, v);
            if (!c) {
                x(-1, "No Transport");
            } else {
                v.readyState = 1;
                if (i) {
                    m.trigger("ajaxSend", [ v, k ]);
                }
                if (k.async && k.timeout > 0) {
                    g = setTimeout(function() {
                        v.abort("timeout");
                    }, k.timeout);
                }
                try {
                    t = 1;
                    c.send(r, x);
                } catch (w) {
                    if (t < 2) {
                        x(-1, w);
                    } else {
                        throw w;
                    }
                }
            }
            function x(a, b, f, h) {
                var j, r, s, u, w, x = b;
                if (t === 2) {
                    return;
                }
                t = 2;
                if (g) {
                    clearTimeout(g);
                }
                c = undefined;
                e = h || "";
                v.readyState = a > 0 ? 4 : 0;
                j = a >= 200 && a < 300 || a === 304;
                if (f) {
                    u = tb(k, v, f);
                }
                u = ub(k, u, v, j);
                if (j) {
                    if (k.ifModified) {
                        w = v.getResponseHeader("Last-Modified");
                        if (w) {
                            n.lastModified[d] = w;
                        }
                        w = v.getResponseHeader("etag");
                        if (w) {
                            n.etag[d] = w;
                        }
                    }
                    if (a === 204 || k.type === "HEAD") {
                        x = "nocontent";
                    } else if (a === 304) {
                        x = "notmodified";
                    } else {
                        x = u.state;
                        r = u.data;
                        s = u.error;
                        j = !s;
                    }
                } else {
                    s = x;
                    if (a || !x) {
                        x = "error";
                        if (a < 0) {
                            a = 0;
                        }
                    }
                }
                v.status = a;
                v.statusText = (b || x) + "";
                if (j) {
                    o.resolveWith(l, [ r, x, v ]);
                } else {
                    o.rejectWith(l, [ v, x, s ]);
                }
                v.statusCode(q);
                q = undefined;
                if (i) {
                    m.trigger(j ? "ajaxSuccess" : "ajaxError", [ v, k, j ? r : s ]);
                }
                p.fireWith(l, [ v, x ]);
                if (i) {
                    m.trigger("ajaxComplete", [ v, k ]);
                    if (!--n.active) {
                        n.event.trigger("ajaxStop");
                    }
                }
            }
            return v;
        },
        getJSON: function(a, b, c) {
            return n.get(a, b, c, "json");
        },
        getScript: function(a, b) {
            return n.get(a, undefined, b, "script");
        }
    });
    n.each([ "get", "post" ], function(a, b) {
        n[b] = function(a, c, d, e) {
            if (n.isFunction(c)) {
                e = e || d;
                d = c;
                c = undefined;
            }
            return n.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            });
        };
    });
    n._evalUrl = function(a) {
        return n.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: false,
            global: false,
            "throws": true
        });
    };
    n.fn.extend({
        wrapAll: function(a) {
            var b;
            if (n.isFunction(a)) {
                return this.each(function(b) {
                    n(this).wrapAll(a.call(this, b));
                });
            }
            if (this[0]) {
                b = n(a, this[0].ownerDocument).eq(0).clone(true);
                if (this[0].parentNode) {
                    b.insertBefore(this[0]);
                }
                b.map(function() {
                    var a = this;
                    while (a.firstElementChild) {
                        a = a.firstElementChild;
                    }
                    return a;
                }).append(this);
            }
            return this;
        },
        wrapInner: function(a) {
            if (n.isFunction(a)) {
                return this.each(function(b) {
                    n(this).wrapInner(a.call(this, b));
                });
            }
            return this.each(function() {
                var b = n(this), c = b.contents();
                if (c.length) {
                    c.wrapAll(a);
                } else {
                    b.append(a);
                }
            });
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(c) {
                n(this).wrapAll(b ? a.call(this, c) : a);
            });
        },
        unwrap: function() {
            return this.parent().each(function() {
                if (!n.nodeName(this, "body")) {
                    n(this).replaceWith(this.childNodes);
                }
            }).end();
        }
    });
    n.expr.filters.hidden = function(a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0;
    };
    n.expr.filters.visible = function(a) {
        return !n.expr.filters.hidden(a);
    };
    var vb = /%20/g, wb = /\[\]$/, xb = /\r?\n/g, yb = /^(?:submit|button|image|reset|file)$/i, zb = /^(?:input|select|textarea|keygen)/i;
    function Ab(a, b, c, d) {
        var e;
        if (n.isArray(b)) {
            n.each(b, function(b, e) {
                if (c || wb.test(a)) {
                    d(a, e);
                } else {
                    Ab(a + "[" + (typeof e === "object" ? b : "") + "]", e, c, d);
                }
            });
        } else if (!c && n.type(b) === "object") {
            for (e in b) {
                Ab(a + "[" + e + "]", b[e], c, d);
            }
        } else {
            d(a, b);
        }
    }
    n.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = n.isFunction(b) ? b() : b == null ? "" : b;
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b);
        };
        if (b === undefined) {
            b = n.ajaxSettings && n.ajaxSettings.traditional;
        }
        if (n.isArray(a) || a.jquery && !n.isPlainObject(a)) {
            n.each(a, function() {
                e(this.name, this.value);
            });
        } else {
            for (c in a) {
                Ab(c, a[c], b, e);
            }
        }
        return d.join("&").replace(vb, "+");
    };
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray());
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this;
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && zb.test(this.nodeName) && !yb.test(a) && (this.checked || !T.test(a));
            }).map(function(a, b) {
                var c = n(this).val();
                return c == null ? null : n.isArray(c) ? n.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(xb, "\r\n")
                    };
                }) : {
                    name: b.name,
                    value: c.replace(xb, "\r\n")
                };
            }).get();
        }
    });
    n.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest();
        } catch (a) {}
    };
    var Bb = 0, Cb = {}, Db = {
        0: 200,
        1223: 204
    }, Eb = n.ajaxSettings.xhr();
    if (a.attachEvent) {
        a.attachEvent("onunload", function() {
            for (var a in Cb) {
                Cb[a]();
            }
        });
    }
    k.cors = !!Eb && "withCredentials" in Eb;
    k.ajax = Eb = !!Eb;
    n.ajaxTransport(function(a) {
        var b;
        if (k.cors || Eb && !a.crossDomain) {
            return {
                send: function(c, d) {
                    var e, f = a.xhr(), g = ++Bb;
                    f.open(a.type, a.url, a.async, a.username, a.password);
                    if (a.xhrFields) {
                        for (e in a.xhrFields) {
                            f[e] = a.xhrFields[e];
                        }
                    }
                    if (a.mimeType && f.overrideMimeType) {
                        f.overrideMimeType(a.mimeType);
                    }
                    if (!a.crossDomain && !c["X-Requested-With"]) {
                        c["X-Requested-With"] = "XMLHttpRequest";
                    }
                    for (e in c) {
                        f.setRequestHeader(e, c[e]);
                    }
                    b = function(a) {
                        return function() {
                            if (b) {
                                delete Cb[g];
                                b = f.onload = f.onerror = null;
                                if (a === "abort") {
                                    f.abort();
                                } else if (a === "error") {
                                    d(f.status, f.statusText);
                                } else {
                                    d(Db[f.status] || f.status, f.statusText, typeof f.responseText === "string" ? {
                                        text: f.responseText
                                    } : undefined, f.getAllResponseHeaders());
                                }
                            }
                        };
                    };
                    f.onload = b();
                    f.onerror = b("error");
                    b = Cb[g] = b("abort");
                    try {
                        f.send(a.hasContent && a.data || null);
                    } catch (h) {
                        if (b) {
                            throw h;
                        }
                    }
                },
                abort: function() {
                    if (b) {
                        b();
                    }
                }
            };
        }
    });
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                n.globalEval(a);
                return a;
            }
        }
    });
    n.ajaxPrefilter("script", function(a) {
        if (a.cache === undefined) {
            a.cache = false;
        }
        if (a.crossDomain) {
            a.type = "GET";
        }
    });
    n.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(d, e) {
                    b = n("<script>").prop({
                        async: true,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove();
                        c = null;
                        if (a) {
                            e(a.type === "error" ? 404 : 200, a.type);
                        }
                    });
                    l.head.appendChild(b[0]);
                },
                abort: function() {
                    if (c) {
                        c();
                    }
                }
            };
        }
    });
    var Fb = [], Gb = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Fb.pop() || n.expando + "_" + cb++;
            this[a] = true;
            return a;
        }
    });
    n.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== false && (Gb.test(b.url) ? "url" : typeof b.data === "string" && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Gb.test(b.data) && "data");
        if (h || b.dataTypes[0] === "jsonp") {
            e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback;
            if (h) {
                b[h] = b[h].replace(Gb, "$1" + e);
            } else if (b.jsonp !== false) {
                b.url += (db.test(b.url) ? "&" : "?") + b.jsonp + "=" + e;
            }
            b.converters["script json"] = function() {
                if (!g) {
                    n.error(e + " was not called");
                }
                return g[0];
            };
            b.dataTypes[0] = "json";
            f = a[e];
            a[e] = function() {
                g = arguments;
            };
            d.always(function() {
                a[e] = f;
                if (b[e]) {
                    b.jsonpCallback = c.jsonpCallback;
                    Fb.push(e);
                }
                if (g && n.isFunction(f)) {
                    f(g[0]);
                }
                g = f = undefined;
            });
            return "script";
        }
    });
    n.parseHTML = function(a, b, c) {
        if (!a || typeof a !== "string") {
            return null;
        }
        if (typeof b === "boolean") {
            c = b;
            b = false;
        }
        b = b || l;
        var d = v.exec(a), e = !c && [];
        if (d) {
            return [ b.createElement(d[1]) ];
        }
        d = n.buildFragment([ a ], b, e);
        if (e && e.length) {
            n(e).remove();
        }
        return n.merge([], d.childNodes);
    };
    var Hb = n.fn.load;
    n.fn.load = function(a, b, c) {
        if (typeof a !== "string" && Hb) {
            return Hb.apply(this, arguments);
        }
        var d, e, f, g = this, h = a.indexOf(" ");
        if (h >= 0) {
            d = n.trim(a.slice(h));
            a = a.slice(0, h);
        }
        if (n.isFunction(b)) {
            c = b;
            b = undefined;
        } else if (b && typeof b === "object") {
            e = "POST";
        }
        if (g.length > 0) {
            n.ajax({
                url: a,
                type: e,
                dataType: "html",
                data: b
            }).done(function(a) {
                f = arguments;
                g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a);
            }).complete(c && function(a, b) {
                g.each(c, f || [ a.responseText, b, a ]);
            });
        }
        return this;
    };
    n.each([ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a);
        };
    });
    n.expr.filters.animated = function(a) {
        return n.grep(n.timers, function(b) {
            return a === b.elem;
        }).length;
    };
    var Ib = a.document.documentElement;
    function Jb(a) {
        return n.isWindow(a) ? a : a.nodeType === 9 && a.defaultView;
    }
    n.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {};
            if (k === "static") {
                a.style.position = "relative";
            }
            h = l.offset();
            f = n.css(a, "top");
            i = n.css(a, "left");
            j = (k === "absolute" || k === "fixed") && (f + i).indexOf("auto") > -1;
            if (j) {
                d = l.position();
                g = d.top;
                e = d.left;
            } else {
                g = parseFloat(f) || 0;
                e = parseFloat(i) || 0;
            }
            if (n.isFunction(b)) {
                b = b.call(a, c, h);
            }
            if (b.top != null) {
                m.top = b.top - h.top + g;
            }
            if (b.left != null) {
                m.left = b.left - h.left + e;
            }
            if ("using" in b) {
                b.using.call(a, m);
            } else {
                l.css(m);
            }
        }
    };
    n.fn.extend({
        offset: function(a) {
            if (arguments.length) {
                return a === undefined ? this : this.each(function(b) {
                    n.offset.setOffset(this, a, b);
                });
            }
            var b, c, d = this[0], e = {
                top: 0,
                left: 0
            }, f = d && d.ownerDocument;
            if (!f) {
                return;
            }
            b = f.documentElement;
            if (!n.contains(b, d)) {
                return e;
            }
            if (typeof d.getBoundingClientRect !== U) {
                e = d.getBoundingClientRect();
            }
            c = Jb(f);
            return {
                top: e.top + c.pageYOffset - b.clientTop,
                left: e.left + c.pageXOffset - b.clientLeft
            };
        },
        position: function() {
            if (!this[0]) {
                return;
            }
            var a, b, c = this[0], d = {
                top: 0,
                left: 0
            };
            if (n.css(c, "position") === "fixed") {
                b = c.getBoundingClientRect();
            } else {
                a = this.offsetParent();
                b = this.offset();
                if (!n.nodeName(a[0], "html")) {
                    d = a.offset();
                }
                d.top += n.css(a[0], "borderTopWidth", true);
                d.left += n.css(a[0], "borderLeftWidth", true);
            }
            return {
                top: b.top - d.top - n.css(c, "marginTop", true),
                left: b.left - d.left - n.css(c, "marginLeft", true)
            };
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent || Ib;
                while (a && (!n.nodeName(a, "html") && n.css(a, "position") === "static")) {
                    a = a.offsetParent;
                }
                return a || Ib;
            });
        }
    });
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(b, c) {
        var d = "pageYOffset" === c;
        n.fn[b] = function(e) {
            return J(this, function(b, e, f) {
                var g = Jb(b);
                if (f === undefined) {
                    return g ? g[c] : b[e];
                }
                if (g) {
                    g.scrollTo(!d ? f : a.pageXOffset, d ? f : a.pageYOffset);
                } else {
                    b[e] = f;
                }
            }, b, e, arguments.length, null);
        };
    });
    n.each([ "top", "left" ], function(a, b) {
        n.cssHooks[b] = ya(k.pixelPosition, function(a, c) {
            if (c) {
                c = xa(a, b);
                return va.test(c) ? n(a).position()[b] + "px" : c;
            }
        });
    });
    n.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        n.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            n.fn[d] = function(d, e) {
                var f = arguments.length && (c || typeof d !== "boolean"), g = c || (d === true || e === true ? "margin" : "border");
                return J(this, function(b, c, d) {
                    var e;
                    if (n.isWindow(b)) {
                        return b.document.documentElement["client" + a];
                    }
                    if (b.nodeType === 9) {
                        e = b.documentElement;
                        return Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a]);
                    }
                    return d === undefined ? n.css(b, c, g) : n.style(b, c, d, g);
                }, b, f ? d : undefined, f, null);
            };
        });
    });
    n.fn.size = function() {
        return this.length;
    };
    n.fn.andSelf = n.fn.addBack;
    if (typeof define === "function" && define.amd) {
        define("jquery", [], function() {
            return n;
        });
    }
    var Kb = a.jQuery, Lb = a.$;
    n.noConflict = function(b) {
        if (a.$ === n) {
            a.$ = Lb;
        }
        if (b && a.jQuery === n) {
            a.jQuery = Kb;
        }
        return n;
    };
    if (typeof b === U) {
        a.jQuery = a.$ = n;
    }
    return n;
});

var kcalPerHour = 0;

function jUpdateSportValues() {
    var a = $("#sportid :selected"), b = a.attr("data-kcal"), c = a.attr("data-running"), d = a.attr("data-outside"), e = a.attr("data-types"), f = a.attr("data-distances"), g = a.attr("data-power");
    if (b > 0) kcalPerHour = b;
    $("form .only-running").toggle(typeof c !== "undefined" && c !== false);
    $("form .only-not-running").toggle(typeof c === "undefined" || c === false);
    $("form .only-outside").toggle(typeof d !== "undefined" && d !== false);
    $("form .only-types").toggle(typeof e !== "undefined" && e !== false);
    $("form .only-distances").toggle(typeof f !== "undefined" && f !== false);
    $("form .only-power").toggle(typeof g !== "undefined" && g !== false);
    $("#typeid option:not([data-sport='all'])").attr("disabled", true).hide();
    $("#typeid option[data-sport='" + a.val() + "']").attr("disabled", false).show();
    if ($("#typeid option:selected").attr("disabled")) {
        $("#typeid option:selected").attr("selected", false);
        $("#typeid option[data-sport='all']").attr("selected", true);
    }
}

function jUpdatePace() {
    var a = getDistance(), b = getTimeInSeconds();
    if (a == 0 || b == 0) {
        $("input[name=pace]").val("-:--");
        return;
    }
    var c = b / 60 / a, d = Math.floor(c), e = Math.round((c - d) * 60);
    if (e == 60) {
        e = 0;
        d += 1;
    }
    if (!(e > 9)) $("input[name=pace]").val(d + ":0" + e); else $("input[name=pace]").val(d + ":" + e);
}

function jUpdateKmh() {
    if (getTimeInHours() == 0) return;
    var a = getDistance() / getTimeInHours(), b = Math.floor(a), c = Math.round((a - b) * 100);
    if (!(c > 9)) $("input[name=kmh]").val(b + ",0" + c); else $("input[name=kmh]").val(b + "," + c);
}

function jUpdateKcal() {
    $("input[name=kcal]").val(Math.round(Number(kcalPerHour) * getTimeInHours()));
}

function getDistance() {
    return stringToDistance($("input[name=distance]").val());
}

function getTimeInHours() {
    return getTimeInSeconds() / 3600;
}

function getTimeInSeconds() {
    return stringToSeconds($("input[name=s]").val());
}

function stringToDistance(a) {
    return Number(a.replace(",", "."));
}

function stringToSeconds(a) {
    var b = 0, c = 0, d = 0, e = 0, f = a.split(","), g = f[0].split(":");
    d = Number(g[0]) * 3600 + Number(g[1]) * 60 + Number(g[2]);
    if (f.length > 1) {
        if (f[1].length == 1) e = Number(f[1]) / 10; else e = Number(f[1]) / 100;
    }
    if (g.length == 1) d = Number(g[0]); else if (g.length == 2) {
        c = Number(g[0]);
        d = Number(g[1]);
    } else {
        b = Number(g[0]);
        c = Number(g[1]);
        d = Number(g[2]);
    }
    return b * 3600 + c * 60 + d + e / 100;
}

function secondsToString(a) {
    var b = new Date(null);
    b.setSeconds(a - 60 * 60);
    return b.toTimeString().substr(0, 8);
}

function sumSplitsToTotal() {
    var a = 0, b = 0;
    $("input[name='splits[km][]']").each(function(b) {
        a += stringToDistance($(this).val());
    });
    $("input[name='splits[time][]']").each(function(a) {
        b += stringToSeconds($(this).val());
    });
    $("#s").val(secondsToString(b));
    $("#distance").val(a.toFixed(2));
}

function allSplitsRest() {
    $("select[name='splits[active][]']").val("0");
}

function allSplitsActive() {
    $("select[name='splits[active][]']").val("1");
}

(function($) {
    $.extend({
        metadata: {
            defaults: {
                type: "class",
                name: "metadata",
                cre: /({.*})/,
                single: "metadata"
            },
            setType: function(a, b) {
                this.defaults.type = a;
                this.defaults.name = b;
            },
            get: function(elem, opts) {
                var settings = $.extend({}, this.defaults, opts);
                if (!settings.single.length) settings.single = "metadata";
                var data = $.data(elem, settings.single);
                if (data) return data;
                data = "{}";
                var getData = function(data) {
                    if (typeof data != "string") return data;
                    if (data.indexOf("{") < 0) {
                        data = eval("(" + data + ")");
                    }
                };
                var getObject = function(data) {
                    if (typeof data != "string") return data;
                    data = eval("(" + data + ")");
                    return data;
                };
                if (settings.type == "html5") {
                    var object = {};
                    $(elem.attributes).each(function() {
                        var a = this.nodeName;
                        if (a.match(/^data-/)) a = a.replace(/^data-/, ""); else return true;
                        object[a] = getObject(this.nodeValue);
                    });
                } else {
                    if (settings.type == "class") {
                        var m = settings.cre.exec(elem.className);
                        if (m) data = m[1];
                    } else if (settings.type == "elem") {
                        if (!elem.getElementsByTagName) return;
                        var e = elem.getElementsByTagName(settings.name);
                        if (e.length) data = $.trim(e[0].innerHTML);
                    } else if (elem.getAttribute != undefined) {
                        var attr = elem.getAttribute(settings.name);
                        if (attr) data = attr;
                    }
                    object = getObject(data.indexOf("{") < 0 ? "{" + data + "}" : data);
                }
                $.data(elem, settings.single, object);
                return object;
            }
        }
    });
    $.fn.metadata = function(a) {
        return $.metadata.get(this[0], a);
    };
})(jQuery);

(function(a) {
    if (typeof define === "function" && define.amd) {
        define([ "jquery" ], a);
    } else if (typeof module === "object" && typeof module.exports === "object") {
        module.exports = a(require("jquery"));
    } else {
        a(jQuery);
    }
})(function(a) {
    "use strict";
    a.extend({
        tablesorter: new function() {
            var b = this;
            b.version = "2.18.4";
            b.parsers = [];
            b.widgets = [];
            b.defaults = {
                theme: "default",
                widthFixed: false,
                showProcessing: false,
                headerTemplate: "{content}",
                onRenderTemplate: null,
                onRenderHeader: null,
                cancelSelection: true,
                tabIndex: true,
                dateFormat: "mmddyyyy",
                sortMultiSortKey: "shiftKey",
                sortResetKey: "ctrlKey",
                usNumberFormat: true,
                delayInit: false,
                serverSideSorting: false,
                headers: {},
                ignoreCase: true,
                sortForce: null,
                sortList: [],
                sortAppend: null,
                sortStable: false,
                sortInitialOrder: "asc",
                sortLocaleCompare: false,
                sortReset: false,
                sortRestart: false,
                emptyTo: "bottom",
                stringTo: "max",
                textExtraction: "basic",
                textAttribute: "data-text",
                textSorter: null,
                numberSorter: null,
                widgets: [],
                widgetOptions: {
                    zebra: [ "even", "odd" ]
                },
                initWidgets: true,
                widgetClass: "widget-{name}",
                initialized: null,
                tableClass: "",
                cssAsc: "",
                cssDesc: "",
                cssNone: "",
                cssHeader: "",
                cssHeaderRow: "",
                cssProcessing: "",
                cssChildRow: "tablesorter-childRow",
                cssIcon: "tablesorter-icon",
                cssIconNone: "",
                cssIconAsc: "",
                cssIconDesc: "",
                cssInfoBlock: "tablesorter-infoOnly",
                cssAllowClicks: "tablesorter-allowClicks",
                cssIgnoreRow: "tablesorter-ignoreRow",
                selectorHeaders: "> thead th, > thead td",
                selectorSort: "th, td",
                selectorRemove: ".remove-me",
                debug: false,
                headerList: [],
                empties: {},
                strings: {},
                parsers: []
            };
            b.css = {
                table: "tablesorter",
                cssHasChild: "tablesorter-hasChildRow",
                childRow: "tablesorter-childRow",
                header: "tablesorter-header",
                headerRow: "tablesorter-headerRow",
                headerIn: "tablesorter-header-inner",
                icon: "tablesorter-icon",
                info: "tablesorter-infoOnly",
                processing: "tablesorter-processing",
                sortAsc: "tablesorter-headerAsc",
                sortDesc: "tablesorter-headerDesc",
                sortNone: "tablesorter-headerUnSorted"
            };
            b.language = {
                sortAsc: "Ascending sort applied, ",
                sortDesc: "Descending sort applied, ",
                sortNone: "No sort applied, ",
                nextAsc: "activate to apply an ascending sort",
                nextDesc: "activate to apply a descending sort",
                nextNone: "activate to remove the sort"
            };
            function c() {
                var a = arguments[0], b = arguments.length > 1 ? Array.prototype.slice.call(arguments) : a;
                if (typeof console !== "undefined" && typeof console.log !== "undefined") {
                    console[/error/i.test(a) ? "error" : /warn/i.test(a) ? "warn" : "log"](b);
                } else {
                    alert(b);
                }
            }
            function d(a, b) {
                c(a + " (" + (new Date().getTime() - b.getTime()) + "ms)");
            }
            b.log = c;
            b.benchmark = d;
            function e(a) {
                for (var b in a) {
                    return false;
                }
                return true;
            }
            function f(c, d, e) {
                if (!d) {
                    return "";
                }
                var f, g = c.config, h = g.textExtraction || "", i = "";
                if (h === "basic") {
                    i = a(d).attr(g.textAttribute) || d.textContent || d.innerText || a(d).text() || "";
                } else {
                    if (typeof h === "function") {
                        i = h(d, c, e);
                    } else if (typeof (f = b.getColumnData(c, h, e)) === "function") {
                        i = f(d, c, e);
                    } else {
                        i = d.textContent || d.innerText || a(d).text() || "";
                    }
                }
                return a.trim(i);
            }
            function g(d, e, g, h) {
                var i, j, k = b.parsers.length, l = false, m = "", n = true;
                while (m === "" && n) {
                    g++;
                    if (e[g]) {
                        l = e[g].cells[h];
                        m = f(d, l, h);
                        j = a(l);
                        if (d.config.debug) {
                            c("Checking if value was empty on row " + g + ", column: " + h + ': "' + m + '"');
                        }
                    } else {
                        n = false;
                    }
                }
                while (--k >= 0) {
                    i = b.parsers[k];
                    if (i && i.id !== "text" && i.is && i.is(m, d, l, j)) {
                        return i;
                    }
                }
                return b.getParserById("text");
            }
            function h(a) {
                var e = a.config, f = e.$tbodies = e.$table.children("tbody:not(." + e.cssInfoBlock + ")"), h, i, j, k, l, m, n, o, p, q, r = 0, s = "", t = f.length;
                if (t === 0) {
                    return e.debug ? c("Warning: *Empty table!* Not building a parser cache") : "";
                } else if (e.debug) {
                    q = new Date();
                    c("Detecting parsers for each column");
                }
                i = {
                    extractors: [],
                    parsers: []
                };
                while (r < t) {
                    h = f[r].rows;
                    if (h[r]) {
                        j = e.columns;
                        for (k = 0; k < j; k++) {
                            l = e.$headers.filter('[data-column="' + k + '"]:last');
                            m = b.getColumnData(a, e.headers, k);
                            p = b.getParserById(b.getData(l, m, "extractor"));
                            o = b.getParserById(b.getData(l, m, "sorter"));
                            n = b.getData(l, m, "parser") === "false";
                            e.empties[k] = (b.getData(l, m, "empty") || e.emptyTo || (e.emptyToBottom ? "bottom" : "top")).toLowerCase();
                            e.strings[k] = (b.getData(l, m, "string") || e.stringTo || "max").toLowerCase();
                            if (n) {
                                o = b.getParserById("no-parser");
                            }
                            if (!p) {
                                p = false;
                            }
                            if (!o) {
                                o = g(a, h, -1, k);
                            }
                            if (e.debug) {
                                s += "column:" + k + "; extractor:" + p.id + "; parser:" + o.id + "; string:" + e.strings[k] + "; empty: " + e.empties[k] + "\n";
                            }
                            i.parsers[k] = o;
                            i.extractors[k] = p;
                        }
                    }
                    r += i.parsers.length ? t : 1;
                }
                if (e.debug) {
                    c(s ? s : "No parsers detected");
                    d("Completed detecting parsers", q);
                }
                e.parsers = i.parsers;
                e.extractors = i.extractors;
            }
            function i(e) {
                var g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = e.config, v = u.$table.children("tbody"), w = u.extractors, x = u.parsers;
                u.cache = {};
                u.totalRows = 0;
                if (!x) {
                    return u.debug ? c("Warning: *Empty table!* Not building a cache") : "";
                }
                if (u.debug) {
                    q = new Date();
                }
                if (u.showProcessing) {
                    b.isProcessing(e, true);
                }
                for (m = 0; m < v.length; m++) {
                    t = [];
                    g = u.cache[m] = {
                        normalized: []
                    };
                    if (!v.eq(m).hasClass(u.cssInfoBlock)) {
                        r = v[m] && v[m].rows.length || 0;
                        for (k = 0; k < r; ++k) {
                            s = {
                                child: []
                            };
                            n = a(v[m].rows[k]);
                            o = [ new Array(u.columns) ];
                            p = [];
                            if (n.hasClass(u.cssChildRow) && k !== 0) {
                                h = g.normalized.length - 1;
                                g.normalized[h][u.columns].$row = g.normalized[h][u.columns].$row.add(n);
                                if (!n.prev().hasClass(u.cssChildRow)) {
                                    n.prev().addClass(b.css.cssHasChild);
                                }
                                s.child[h] = a.trim(n[0].textContent || n[0].innerText || n.text() || "");
                                continue;
                            }
                            s.$row = n;
                            s.order = k;
                            for (l = 0; l < u.columns; ++l) {
                                if (typeof x[l] === "undefined") {
                                    if (u.debug) {
                                        c("No parser found for cell:", n[0].cells[l], "does it have a header?");
                                    }
                                    continue;
                                }
                                h = f(e, n[0].cells[l], l);
                                if (typeof w[l].id === "undefined") {
                                    i = h;
                                } else {
                                    i = w[l].format(h, e, n[0].cells[l], l);
                                }
                                j = x[l].id === "no-parser" ? "" : x[l].format(i, e, n[0].cells[l], l);
                                p.push(u.ignoreCase && typeof j === "string" ? j.toLowerCase() : j);
                                if ((x[l].type || "").toLowerCase() === "numeric") {
                                    t[l] = Math.max(Math.abs(j) || 0, t[l] || 0);
                                }
                            }
                            p[u.columns] = s;
                            g.normalized.push(p);
                        }
                        g.colMax = t;
                        u.totalRows += g.normalized.length;
                    }
                }
                if (u.showProcessing) {
                    b.isProcessing(e);
                }
                if (u.debug) {
                    d("Building cache for " + r + " rows", q);
                }
            }
            function j(c, f) {
                var g = c.config, h = g.widgetOptions, i = c.tBodies, j = [], k = g.cache, l, m, n, o, p, q, r;
                if (e(k)) {
                    return g.appender ? g.appender(c, j) : c.isUpdating ? g.$table.trigger("updateComplete", c) : "";
                }
                if (g.debug) {
                    r = new Date();
                }
                for (q = 0; q < i.length; q++) {
                    n = a(i[q]);
                    if (n.length && !n.hasClass(g.cssInfoBlock)) {
                        o = b.processTbody(c, n, true);
                        l = k[q].normalized;
                        m = l.length;
                        for (p = 0; p < m; p++) {
                            j.push(l[p][g.columns].$row);
                            if (!g.appender || g.pager && (!g.pager.removeRows || !h.pager_removeRows) && !g.pager.ajax) {
                                o.append(l[p][g.columns].$row);
                            }
                        }
                        b.processTbody(c, o, false);
                    }
                }
                if (g.appender) {
                    g.appender(c, j);
                }
                if (g.debug) {
                    d("Rebuilt table", r);
                }
                if (!f && !g.appender) {
                    b.applyWidget(c);
                }
                if (c.isUpdating) {
                    g.$table.trigger("updateComplete", c);
                }
            }
            function k(a) {
                return /^d/i.test(a) || a === 1;
            }
            function l(e) {
                var f, g, h, i, j, l, m, o = e.config;
                o.headerList = [];
                o.headerContent = [];
                if (o.debug) {
                    m = new Date();
                }
                o.columns = b.computeColumnIndex(o.$table.children("thead, tfoot").children("tr"));
                i = o.cssIcon ? '<i class="' + (o.cssIcon === b.css.icon ? b.css.icon : o.cssIcon + " " + b.css.icon) + '"></i>' : "";
                o.$headers = a(a.map(a(e).find(o.selectorHeaders), function(c, d) {
                    g = a(c);
                    if (g.parent().hasClass(o.cssIgnoreRow)) {
                        return;
                    }
                    f = b.getColumnData(e, o.headers, d, true);
                    o.headerContent[d] = g.html();
                    if (o.headerTemplate !== "") {
                        j = o.headerTemplate.replace(/\{content\}/g, g.html()).replace(/\{icon\}/g, i);
                        if (o.onRenderTemplate) {
                            h = o.onRenderTemplate.apply(g, [ d, j ]);
                            if (h && typeof h === "string") {
                                j = h;
                            }
                        }
                        g.html('<div class="' + b.css.headerIn + '">' + j + "</div>");
                    }
                    if (o.onRenderHeader) {
                        o.onRenderHeader.apply(g, [ d, o, o.$table ]);
                    }
                    c.column = parseInt(g.attr("data-column"), 10);
                    c.order = k(b.getData(g, f, "sortInitialOrder") || o.sortInitialOrder) ? [ 1, 0, 2 ] : [ 0, 1, 2 ];
                    c.count = -1;
                    c.lockedOrder = false;
                    l = b.getData(g, f, "lockedOrder") || false;
                    if (typeof l !== "undefined" && l !== false) {
                        c.order = c.lockedOrder = k(l) ? [ 1, 1, 1 ] : [ 0, 0, 0 ];
                    }
                    g.addClass(b.css.header + " " + o.cssHeader);
                    o.headerList[d] = c;
                    g.parent().addClass(b.css.headerRow + " " + o.cssHeaderRow).attr("role", "row");
                    if (o.tabIndex) {
                        g.attr("tabindex", 0);
                    }
                    return c;
                }));
                a(e).find(o.selectorHeaders).attr({
                    scope: "col",
                    role: "columnheader"
                });
                n(e);
                if (o.debug) {
                    d("Built headers:", m);
                    c(o.$headers);
                }
            }
            function m(a, b, c) {
                var d = a.config;
                d.$table.find(d.selectorRemove).remove();
                h(a);
                i(a);
                v(d.$table, b, c);
            }
            function n(c) {
                var d, e, f, g = c.config;
                g.$headers.each(function(h, i) {
                    e = a(i);
                    f = b.getColumnData(c, g.headers, h, true);
                    d = b.getData(i, f, "sorter") === "false" || b.getData(i, f, "parser") === "false";
                    i.sortDisabled = d;
                    e[d ? "addClass" : "removeClass"]("sorter-false").attr("aria-disabled", "" + d);
                    if (c.id) {
                        if (d) {
                            e.removeAttr("aria-controls");
                        } else {
                            e.attr("aria-controls", c.id);
                        }
                    }
                });
            }
            function o(c) {
                var d, e, f, g = c.config, h = g.sortList, i = h.length, j = b.css.sortNone + " " + g.cssNone, k = [ b.css.sortAsc + " " + g.cssAsc, b.css.sortDesc + " " + g.cssDesc ], l = [ g.cssIconAsc, g.cssIconDesc, g.cssIconNone ], m = [ "ascending", "descending" ], n = a(c).find("tfoot tr").children().add(g.$extraHeaders).removeClass(k.join(" "));
                g.$headers.removeClass(k.join(" ")).addClass(j).attr("aria-sort", "none").find("." + g.cssIcon).removeClass(l.join(" ")).addClass(l[2]);
                for (e = 0; e < i; e++) {
                    if (h[e][1] !== 2) {
                        d = g.$headers.not(".sorter-false").filter('[data-column="' + h[e][0] + '"]' + (i === 1 ? ":last" : ""));
                        if (d.length) {
                            for (f = 0; f < d.length; f++) {
                                if (!d[f].sortDisabled) {
                                    d.eq(f).removeClass(j).addClass(k[h[e][1]]).attr("aria-sort", m[h[e][1]]).find("." + g.cssIcon).removeClass(l[2]).addClass(l[h[e][1]]);
                                }
                            }
                            if (n.length) {
                                n.filter('[data-column="' + h[e][0] + '"]').removeClass(j).addClass(k[h[e][1]]);
                            }
                        }
                    }
                }
                g.$headers.not(".sorter-false").each(function() {
                    var c = a(this), d = this.order[(this.count + 1) % (g.sortReset ? 3 : 2)], e = c.text() + ": " + b.language[c.hasClass(b.css.sortAsc) ? "sortAsc" : c.hasClass(b.css.sortDesc) ? "sortDesc" : "sortNone"] + b.language[d === 0 ? "nextAsc" : d === 1 ? "nextDesc" : "nextNone"];
                    c.attr("aria-label", e);
                });
            }
            function p(b) {
                var c, d, e = b.config;
                if (e.widthFixed && e.$table.children("colgroup").length === 0) {
                    c = a("<colgroup>");
                    d = a(b).width();
                    a(b.tBodies).not("." + e.cssInfoBlock).find("tr:first").children(":visible").each(function() {
                        c.append(a("<col>").css("width", parseInt(a(this).width() / d * 1e3, 10) / 10 + "%"));
                    });
                    e.$table.prepend(c);
                }
            }
            function q(b, c) {
                var d, e, f, g, h, i = b.config, j = c || i.sortList;
                i.sortList = [];
                a.each(j, function(b, c) {
                    g = parseInt(c[0], 10);
                    f = i.$headers.filter('[data-column="' + g + '"]:last')[0];
                    if (f) {
                        e = ("" + c[1]).match(/^(1|d|s|o|n)/);
                        e = e ? e[0] : "";
                        switch (e) {
                          case "1":
                          case "d":
                            e = 1;
                            break;

                          case "s":
                            e = h || 0;
                            break;

                          case "o":
                            d = f.order[(h || 0) % (i.sortReset ? 3 : 2)];
                            e = d === 0 ? 1 : d === 1 ? 0 : 2;
                            break;

                          case "n":
                            f.count = f.count + 1;
                            e = f.order[f.count % (i.sortReset ? 3 : 2)];
                            break;

                          default:
                            e = 0;
                            break;
                        }
                        h = b === 0 ? e : h;
                        d = [ g, parseInt(e, 10) || 0 ];
                        i.sortList.push(d);
                        e = a.inArray(d[1], f.order);
                        f.count = e >= 0 ? e : d[1] % (i.sortReset ? 3 : 2);
                    }
                });
            }
            function r(a, b) {
                return a && a[b] ? a[b].type || "" : "";
            }
            function s(c, d, e) {
                if (c.isUpdating) {
                    return setTimeout(function() {
                        s(c, d, e);
                    }, 50);
                }
                var f, g, h, i, k, l = c.config, m = !e[l.sortMultiSortKey], n = l.$table;
                n.trigger("sortStart", c);
                d.count = e[l.sortResetKey] ? 2 : (d.count + 1) % (l.sortReset ? 3 : 2);
                if (l.sortRestart) {
                    g = d;
                    l.$headers.each(function() {
                        if (this !== g && (m || !a(this).is("." + b.css.sortDesc + ",." + b.css.sortAsc))) {
                            this.count = -1;
                        }
                    });
                }
                g = parseInt(a(d).attr("data-column"), 10);
                if (m) {
                    l.sortList = [];
                    if (l.sortForce !== null) {
                        f = l.sortForce;
                        for (h = 0; h < f.length; h++) {
                            if (f[h][0] !== g) {
                                l.sortList.push(f[h]);
                            }
                        }
                    }
                    i = d.order[d.count];
                    if (i < 2) {
                        l.sortList.push([ g, i ]);
                        if (d.colSpan > 1) {
                            for (h = 1; h < d.colSpan; h++) {
                                l.sortList.push([ g + h, i ]);
                            }
                        }
                    }
                } else {
                    if (l.sortAppend && l.sortList.length > 1) {
                        for (h = 0; h < l.sortAppend.length; h++) {
                            k = b.isValueInArray(l.sortAppend[h][0], l.sortList);
                            if (k >= 0) {
                                l.sortList.splice(k, 1);
                            }
                        }
                    }
                    if (b.isValueInArray(g, l.sortList) >= 0) {
                        for (h = 0; h < l.sortList.length; h++) {
                            k = l.sortList[h];
                            i = l.$headers.filter('[data-column="' + k[0] + '"]:last')[0];
                            if (k[0] === g) {
                                k[1] = i.order[d.count];
                                if (k[1] === 2) {
                                    l.sortList.splice(h, 1);
                                    i.count = -1;
                                }
                            }
                        }
                    } else {
                        i = d.order[d.count];
                        if (i < 2) {
                            l.sortList.push([ g, i ]);
                            if (d.colSpan > 1) {
                                for (h = 1; h < d.colSpan; h++) {
                                    l.sortList.push([ g + h, i ]);
                                }
                            }
                        }
                    }
                }
                if (l.sortAppend !== null) {
                    f = l.sortAppend;
                    for (h = 0; h < f.length; h++) {
                        if (f[h][0] !== g) {
                            l.sortList.push(f[h]);
                        }
                    }
                }
                n.trigger("sortBegin", c);
                setTimeout(function() {
                    o(c);
                    t(c);
                    j(c);
                    n.trigger("sortEnd", c);
                }, 1);
            }
            function t(a) {
                var c, f, g, h, i, j, k, l, m, n, o, p = 0, q = a.config, s = q.textSorter || "", t = q.sortList, u = t.length, v = a.tBodies.length;
                if (q.serverSideSorting || e(q.cache)) {
                    return;
                }
                if (q.debug) {
                    i = new Date();
                }
                for (f = 0; f < v; f++) {
                    j = q.cache[f].colMax;
                    k = q.cache[f].normalized;
                    k.sort(function(d, e) {
                        for (c = 0; c < u; c++) {
                            h = t[c][0];
                            l = t[c][1];
                            p = l === 0;
                            if (q.sortStable && d[h] === e[h] && u === 1) {
                                return d[q.columns].order - e[q.columns].order;
                            }
                            g = /n/i.test(r(q.parsers, h));
                            if (g && q.strings[h]) {
                                if (typeof q.string[q.strings[h]] === "boolean") {
                                    g = (p ? 1 : -1) * (q.string[q.strings[h]] ? -1 : 1);
                                } else {
                                    g = q.strings[h] ? q.string[q.strings[h]] || 0 : 0;
                                }
                                m = q.numberSorter ? q.numberSorter(d[h], e[h], p, j[h], a) : b["sortNumeric" + (p ? "Asc" : "Desc")](d[h], e[h], g, j[h], h, a);
                            } else {
                                n = p ? d : e;
                                o = p ? e : d;
                                if (typeof s === "function") {
                                    m = s(n[h], o[h], p, h, a);
                                } else if (typeof s === "object" && s.hasOwnProperty(h)) {
                                    m = s[h](n[h], o[h], p, h, a);
                                } else {
                                    m = b["sortNatural" + (p ? "Asc" : "Desc")](d[h], e[h], h, a, q);
                                }
                            }
                            if (m) {
                                return m;
                            }
                        }
                        return d[q.columns].order - e[q.columns].order;
                    });
                }
                if (q.debug) {
                    d("Sorting on " + t.toString() + " and dir " + l + " time", i);
                }
            }
            function u(b, c) {
                var d = b[0];
                if (d.isUpdating) {
                    b.trigger("updateComplete", d);
                }
                if (a.isFunction(c)) {
                    c(b[0]);
                }
            }
            function v(a, c, d) {
                var e = a[0].config.sortList;
                if (c !== false && !a[0].isProcessing && e.length) {
                    a.trigger("sorton", [ e, function() {
                        u(a, d);
                    }, true ]);
                } else {
                    u(a, d);
                    b.applyWidget(a[0], false);
                }
            }
            function w(c) {
                var d = c.config, g = d.$table;
                g.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(d.namespace + " ")).bind("sortReset" + d.namespace, function(b, e) {
                    b.stopPropagation();
                    d.sortList = [];
                    o(c);
                    t(c);
                    j(c);
                    if (a.isFunction(e)) {
                        e(c);
                    }
                }).bind("updateAll" + d.namespace, function(a, e, f) {
                    a.stopPropagation();
                    c.isUpdating = true;
                    b.refreshWidgets(c, true, true);
                    b.restoreHeaders(c);
                    l(c);
                    b.bindEvents(c, d.$headers, true);
                    w(c);
                    m(c, e, f);
                }).bind("update" + d.namespace + " updateRows" + d.namespace, function(a, b, d) {
                    a.stopPropagation();
                    c.isUpdating = true;
                    n(c);
                    m(c, b, d);
                }).bind("updateCell" + d.namespace, function(b, e, h, i) {
                    b.stopPropagation();
                    c.isUpdating = true;
                    g.find(d.selectorRemove).remove();
                    var j, k, l, m, n = g.find("tbody"), o = a(e), p = n.index(a.fn.closest ? o.closest("tbody") : o.parents("tbody").filter(":first")), q = a.fn.closest ? o.closest("tr") : o.parents("tr").filter(":first");
                    e = o[0];
                    if (n.length && p >= 0) {
                        l = n.eq(p).find("tr").index(q);
                        m = o.index();
                        d.cache[p].normalized[l][d.columns].$row = q;
                        if (typeof d.extractors[m].id === "undefined") {
                            k = f(c, e, m);
                        } else {
                            k = d.extractors[m].format(f(c, e, m), c, e, m);
                        }
                        j = d.parsers[m].id === "no-parser" ? "" : d.parsers[m].format(k, c, e, m);
                        d.cache[p].normalized[l][m] = d.ignoreCase && typeof j === "string" ? j.toLowerCase() : j;
                        if ((d.parsers[m].type || "").toLowerCase() === "numeric") {
                            d.cache[p].colMax[m] = Math.max(Math.abs(j) || 0, d.cache[p].colMax[m] || 0);
                        }
                        v(g, h, i);
                    }
                }).bind("addRows" + d.namespace, function(b, i, j, k) {
                    b.stopPropagation();
                    c.isUpdating = true;
                    if (e(d.cache)) {
                        n(c);
                        m(c, j, k);
                    } else {
                        i = a(i).attr("role", "row");
                        var l, o, p, q, r, s, t, u = i.filter("tr").length, w = g.find("tbody").index(i.parents("tbody").filter(":first"));
                        if (!(d.parsers && d.parsers.length)) {
                            h(c);
                        }
                        for (l = 0; l < u; l++) {
                            p = i[l].cells.length;
                            t = [];
                            s = {
                                child: [],
                                $row: i.eq(l),
                                order: d.cache[w].normalized.length
                            };
                            for (o = 0; o < p; o++) {
                                if (typeof d.extractors[o].id === "undefined") {
                                    q = f(c, i[l].cells[o], o);
                                } else {
                                    q = d.extractors[o].format(f(c, i[l].cells[o], o), c, i[l].cells[o], o);
                                }
                                r = d.parsers[o].id === "no-parser" ? "" : d.parsers[o].format(q, c, i[l].cells[o], o);
                                t[o] = d.ignoreCase && typeof r === "string" ? r.toLowerCase() : r;
                                if ((d.parsers[o].type || "").toLowerCase() === "numeric") {
                                    d.cache[w].colMax[o] = Math.max(Math.abs(t[o]) || 0, d.cache[w].colMax[o] || 0);
                                }
                            }
                            t.push(s);
                            d.cache[w].normalized.push(t);
                        }
                        v(g, j, k);
                    }
                }).bind("updateComplete" + d.namespace, function() {
                    c.isUpdating = false;
                }).bind("sorton" + d.namespace, function(d, f, h, k) {
                    var l = c.config;
                    d.stopPropagation();
                    g.trigger("sortStart", this);
                    q(c, f);
                    o(c);
                    if (l.delayInit && e(l.cache)) {
                        i(c);
                    }
                    g.trigger("sortBegin", this);
                    t(c);
                    j(c, k);
                    g.trigger("sortEnd", this);
                    b.applyWidget(c);
                    if (a.isFunction(h)) {
                        h(c);
                    }
                }).bind("appendCache" + d.namespace, function(b, d, e) {
                    b.stopPropagation();
                    j(c, e);
                    if (a.isFunction(d)) {
                        d(c);
                    }
                }).bind("updateCache" + d.namespace, function(b, e) {
                    if (!(d.parsers && d.parsers.length)) {
                        h(c);
                    }
                    i(c);
                    if (a.isFunction(e)) {
                        e(c);
                    }
                }).bind("applyWidgetId" + d.namespace, function(a, e) {
                    a.stopPropagation();
                    b.getWidgetById(e).format(c, d, d.widgetOptions);
                }).bind("applyWidgets" + d.namespace, function(a, d) {
                    a.stopPropagation();
                    b.applyWidget(c, d);
                }).bind("refreshWidgets" + d.namespace, function(a, d, e) {
                    a.stopPropagation();
                    b.refreshWidgets(c, d, e);
                }).bind("destroy" + d.namespace, function(a, d, e) {
                    a.stopPropagation();
                    b.destroy(c, d, e);
                }).bind("resetToLoadState" + d.namespace, function() {
                    b.refreshWidgets(c, true, true);
                    d = a.extend(true, b.defaults, d.originalSettings);
                    c.hasInitialized = false;
                    b.setup(c, d);
                });
            }
            b.construct = function(c) {
                return this.each(function() {
                    var d = this, e = a.extend(true, {}, b.defaults, c);
                    e.originalSettings = c;
                    if (!d.hasInitialized && b.buildTable && this.tagName !== "TABLE") {
                        b.buildTable(d, e);
                    } else {
                        b.setup(d, e);
                    }
                });
            };
            b.setup = function(d, e) {
                if (!d || !d.tHead || d.tBodies.length === 0 || d.hasInitialized === true) {
                    return e.debug ? c("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized") : "";
                }
                var f = "", g = a(d), j = a.metadata;
                d.hasInitialized = false;
                d.isProcessing = true;
                d.config = e;
                a.data(d, "tablesorter", e);
                if (e.debug) {
                    a.data(d, "startoveralltimer", new Date());
                }
                e.supportsDataObject = function(a) {
                    a[0] = parseInt(a[0], 10);
                    return a[0] > 1 || a[0] === 1 && parseInt(a[1], 10) >= 4;
                }(a.fn.jquery.split("."));
                e.string = {
                    max: 1,
                    min: -1,
                    emptymin: 1,
                    emptymax: -1,
                    zero: 0,
                    none: 0,
                    "null": 0,
                    top: true,
                    bottom: false
                };
                e.emptyTo = e.emptyTo.toLowerCase();
                e.stringTo = e.stringTo.toLowerCase();
                if (!/tablesorter\-/.test(g.attr("class"))) {
                    f = e.theme !== "" ? " tablesorter-" + e.theme : "";
                }
                e.table = d;
                e.$table = g.addClass(b.css.table + " " + e.tableClass + f).attr("role", "grid");
                e.$headers = g.find(e.selectorHeaders);
                if (!e.namespace) {
                    e.namespace = ".tablesorter" + Math.random().toString(16).slice(2);
                } else {
                    e.namespace = "." + e.namespace.replace(/\W/g, "");
                }
                e.$table.children().children("tr").attr("role", "row");
                e.$tbodies = g.children("tbody:not(." + e.cssInfoBlock + ")").attr({
                    "aria-live": "polite",
                    "aria-relevant": "all"
                });
                if (e.$table.children("caption").length) {
                    f = e.$table.children("caption")[0];
                    if (!f.id) {
                        f.id = e.namespace.slice(1) + "caption";
                    }
                    e.$table.attr("aria-labelledby", f.id);
                }
                e.widgetInit = {};
                e.textExtraction = e.$table.attr("data-text-extraction") || e.textExtraction || "basic";
                l(d);
                p(d);
                h(d);
                e.totalRows = 0;
                if (!e.delayInit) {
                    i(d);
                }
                b.bindEvents(d, e.$headers, true);
                w(d);
                if (e.supportsDataObject && typeof g.data().sortlist !== "undefined") {
                    e.sortList = g.data().sortlist;
                } else if (j && (g.metadata() && g.metadata().sortlist)) {
                    e.sortList = g.metadata().sortlist;
                }
                b.applyWidget(d, true);
                if (e.sortList.length > 0) {
                    g.trigger("sorton", [ e.sortList, {}, !e.initWidgets, true ]);
                } else {
                    o(d);
                    if (e.initWidgets) {
                        b.applyWidget(d, false);
                    }
                }
                if (e.showProcessing) {
                    g.unbind("sortBegin" + e.namespace + " sortEnd" + e.namespace).bind("sortBegin" + e.namespace + " sortEnd" + e.namespace, function(a) {
                        clearTimeout(e.processTimer);
                        b.isProcessing(d);
                        if (a.type === "sortBegin") {
                            e.processTimer = setTimeout(function() {
                                b.isProcessing(d, true);
                            }, 500);
                        }
                    });
                }
                d.hasInitialized = true;
                d.isProcessing = false;
                if (e.debug) {
                    b.benchmark("Overall initialization time", a.data(d, "startoveralltimer"));
                }
                g.trigger("tablesorter-initialized", d);
                if (typeof e.initialized === "function") {
                    e.initialized(d);
                }
            };
            b.getColumnData = function(b, c, d, e, f) {
                if (typeof c === "undefined" || c === null) {
                    return;
                }
                b = a(b)[0];
                var g, h, i = b.config, j = f || i.$headers;
                if (c[d]) {
                    return e ? c[d] : c[j.index(j.filter('[data-column="' + d + '"]:last'))];
                }
                for (h in c) {
                    if (typeof h === "string") {
                        g = j.filter('[data-column="' + d + '"]:last').filter(h).add(j.filter('[data-column="' + d + '"]:last').find(h));
                        if (g.length) {
                            return c[h];
                        }
                    }
                }
                return;
            };
            b.computeColumnIndex = function(b) {
                var c = [], d = {}, e = 0, f, g, h, i, j, k, l, m, n, o, p, q, r;
                for (f = 0; f < b.length; f++) {
                    l = b[f].cells;
                    for (g = 0; g < l.length; g++) {
                        k = l[g];
                        j = a(k);
                        m = k.parentNode.rowIndex;
                        n = m + "-" + j.index();
                        o = k.rowSpan || 1;
                        p = k.colSpan || 1;
                        if (typeof c[m] === "undefined") {
                            c[m] = [];
                        }
                        for (h = 0; h < c[m].length + 1; h++) {
                            if (typeof c[m][h] === "undefined") {
                                q = h;
                                break;
                            }
                        }
                        d[n] = q;
                        e = Math.max(q, e);
                        j.attr({
                            "data-column": q
                        });
                        for (h = m; h < m + o; h++) {
                            if (typeof c[h] === "undefined") {
                                c[h] = [];
                            }
                            r = c[h];
                            for (i = q; i < q + p; i++) {
                                r[i] = "x";
                            }
                        }
                    }
                }
                return e + 1;
            };
            b.isProcessing = function(c, d, e) {
                c = a(c);
                var f = c[0].config, g = e || c.find("." + b.css.header);
                if (d) {
                    if (typeof e !== "undefined" && f.sortList.length > 0) {
                        g = g.filter(function() {
                            return this.sortDisabled ? false : b.isValueInArray(parseFloat(a(this).attr("data-column")), f.sortList) >= 0;
                        });
                    }
                    c.add(g).addClass(b.css.processing + " " + f.cssProcessing);
                } else {
                    c.add(g).removeClass(b.css.processing + " " + f.cssProcessing);
                }
            };
            b.processTbody = function(b, c, d) {
                b = a(b)[0];
                var e;
                if (d) {
                    b.isProcessing = true;
                    c.before('<span class="tablesorter-savemyplace"/>');
                    e = a.fn.detach ? c.detach() : c.remove();
                    return e;
                }
                e = a(b).find("span.tablesorter-savemyplace");
                c.insertAfter(e);
                e.remove();
                b.isProcessing = false;
            };
            b.clearTableBody = function(b) {
                a(b)[0].config.$tbodies.children().detach();
            };
            b.bindEvents = function(b, c, d) {
                b = a(b)[0];
                var f, g = b.config;
                if (d !== true) {
                    g.$extraHeaders = g.$extraHeaders ? g.$extraHeaders.add(c) : c;
                }
                c.find(g.selectorSort).add(c.filter(g.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(g.namespace + " ")).bind("mousedown mouseup sort keyup ".split(" ").join(g.namespace + " "), function(d, h) {
                    var j, k = d.type;
                    if ((d.which || d.button) !== 1 && !/sort|keyup/.test(k) || k === "keyup" && d.which !== 13) {
                        return;
                    }
                    if (k === "mouseup" && h !== true && new Date().getTime() - f > 250) {
                        return;
                    }
                    if (k === "mousedown") {
                        f = new Date().getTime();
                        return /(input|select|button|textarea)/i.test(d.target.tagName) || a(d.target).closest("td,th").hasClass(g.cssAllowClicks) ? "" : !g.cancelSelection;
                    }
                    if (g.delayInit && e(g.cache)) {
                        i(b);
                    }
                    j = a.fn.closest ? a(this).closest("th, td")[0] : /TH|TD/.test(this.tagName) ? this : a(this).parents("th, td")[0];
                    j = g.$headers[c.index(j)];
                    if (!j.sortDisabled) {
                        s(b, j, d);
                    }
                });
                if (g.cancelSelection) {
                    c.attr("unselectable", "on").bind("selectstart", false).css({
                        "user-select": "none",
                        MozUserSelect: "none"
                    });
                }
            };
            b.restoreHeaders = function(c) {
                var d = a(c)[0].config;
                d.$table.find(d.selectorHeaders).each(function(c) {
                    if (a(this).find("." + b.css.headerIn).length) {
                        a(this).html(d.headerContent[c]);
                    }
                });
            };
            b.destroy = function(c, d, e) {
                c = a(c)[0];
                if (!c.hasInitialized) {
                    return;
                }
                b.refreshWidgets(c, true, true);
                var f = a(c), g = c.config, h = f.find("thead:first"), i = h.find("tr." + b.css.headerRow).removeClass(b.css.headerRow + " " + g.cssHeaderRow), j = f.find("tfoot:first > tr").children("th, td");
                if (d === false && a.inArray("uitheme", g.widgets) >= 0) {
                    f.trigger("applyWidgetId", [ "uitheme" ]);
                    f.trigger("applyWidgetId", [ "zebra" ]);
                }
                h.find("tr").not(i).remove();
                f.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(g.namespace + " "));
                g.$headers.add(j).removeClass([ b.css.header, g.cssHeader, g.cssAsc, g.cssDesc, b.css.sortAsc, b.css.sortDesc, b.css.sortNone ].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled", "true");
                i.find(g.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(g.namespace + " "));
                b.restoreHeaders(c);
                f.toggleClass(b.css.table + " " + g.tableClass + " tablesorter-" + g.theme, d === false);
                c.hasInitialized = false;
                delete c.config.cache;
                if (typeof e === "function") {
                    e(c);
                }
            };
            b.regex = {
                chunk: /(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,
                chunks: /(^\\0|\\0$)/,
                hex: /^0x[0-9a-f]+$/i
            };
            b.sortNatural = function(a, c) {
                if (a === c) {
                    return 0;
                }
                var d, e, f, g, h, i, j, k, l = b.regex;
                if (l.hex.test(c)) {
                    e = parseInt(a.match(l.hex), 16);
                    g = parseInt(c.match(l.hex), 16);
                    if (e < g) {
                        return -1;
                    }
                    if (e > g) {
                        return 1;
                    }
                }
                d = a.replace(l.chunk, "\\0$1\\0").replace(l.chunks, "").split("\\0");
                f = c.replace(l.chunk, "\\0$1\\0").replace(l.chunks, "").split("\\0");
                k = Math.max(d.length, f.length);
                for (j = 0; j < k; j++) {
                    h = isNaN(d[j]) ? d[j] || 0 : parseFloat(d[j]) || 0;
                    i = isNaN(f[j]) ? f[j] || 0 : parseFloat(f[j]) || 0;
                    if (isNaN(h) !== isNaN(i)) {
                        return isNaN(h) ? 1 : -1;
                    }
                    if (typeof h !== typeof i) {
                        h += "";
                        i += "";
                    }
                    if (h < i) {
                        return -1;
                    }
                    if (h > i) {
                        return 1;
                    }
                }
                return 0;
            };
            b.sortNaturalAsc = function(a, c, d, e, f) {
                if (a === c) {
                    return 0;
                }
                var g = f.string[f.empties[d] || f.emptyTo];
                if (a === "" && g !== 0) {
                    return typeof g === "boolean" ? g ? -1 : 1 : -g || -1;
                }
                if (c === "" && g !== 0) {
                    return typeof g === "boolean" ? g ? 1 : -1 : g || 1;
                }
                return b.sortNatural(a, c);
            };
            b.sortNaturalDesc = function(a, c, d, e, f) {
                if (a === c) {
                    return 0;
                }
                var g = f.string[f.empties[d] || f.emptyTo];
                if (a === "" && g !== 0) {
                    return typeof g === "boolean" ? g ? -1 : 1 : g || 1;
                }
                if (c === "" && g !== 0) {
                    return typeof g === "boolean" ? g ? 1 : -1 : -g || -1;
                }
                return b.sortNatural(c, a);
            };
            b.sortText = function(a, b) {
                return a > b ? 1 : a < b ? -1 : 0;
            };
            b.getTextValue = function(a, b, c) {
                if (c) {
                    var d, e = a ? a.length : 0, f = c + b;
                    for (d = 0; d < e; d++) {
                        f += a.charCodeAt(d);
                    }
                    return b * f;
                }
                return 0;
            };
            b.sortNumericAsc = function(a, c, d, e, f, g) {
                if (a === c) {
                    return 0;
                }
                var h = g.config, i = h.string[h.empties[f] || h.emptyTo];
                if (a === "" && i !== 0) {
                    return typeof i === "boolean" ? i ? -1 : 1 : -i || -1;
                }
                if (c === "" && i !== 0) {
                    return typeof i === "boolean" ? i ? 1 : -1 : i || 1;
                }
                if (isNaN(a)) {
                    a = b.getTextValue(a, d, e);
                }
                if (isNaN(c)) {
                    c = b.getTextValue(c, d, e);
                }
                return a - c;
            };
            b.sortNumericDesc = function(a, c, d, e, f, g) {
                if (a === c) {
                    return 0;
                }
                var h = g.config, i = h.string[h.empties[f] || h.emptyTo];
                if (a === "" && i !== 0) {
                    return typeof i === "boolean" ? i ? -1 : 1 : i || 1;
                }
                if (c === "" && i !== 0) {
                    return typeof i === "boolean" ? i ? 1 : -1 : -i || -1;
                }
                if (isNaN(a)) {
                    a = b.getTextValue(a, d, e);
                }
                if (isNaN(c)) {
                    c = b.getTextValue(c, d, e);
                }
                return c - a;
            };
            b.sortNumeric = function(a, b) {
                return a - b;
            };
            b.characterEquivalents = {
                a: "",
                A: "",
                c: "",
                C: "",
                e: "",
                E: "",
                i: "",
                I: "",
                o: "",
                O: "",
                ss: "",
                SS: "",
                u: "",
                U: ""
            };
            b.replaceAccents = function(a) {
                var c, d = "[", e = b.characterEquivalents;
                if (!b.characterRegex) {
                    b.characterRegexArray = {};
                    for (c in e) {
                        if (typeof c === "string") {
                            d += e[c];
                            b.characterRegexArray[c] = new RegExp("[" + e[c] + "]", "g");
                        }
                    }
                    b.characterRegex = new RegExp(d + "]");
                }
                if (b.characterRegex.test(a)) {
                    for (c in e) {
                        if (typeof c === "string") {
                            a = a.replace(b.characterRegexArray[c], c);
                        }
                    }
                }
                return a;
            };
            b.isValueInArray = function(a, b) {
                var c, d = b.length;
                for (c = 0; c < d; c++) {
                    if (b[c][0] === a) {
                        return c;
                    }
                }
                return -1;
            };
            b.addParser = function(a) {
                var c, d = b.parsers.length, e = true;
                for (c = 0; c < d; c++) {
                    if (b.parsers[c].id.toLowerCase() === a.id.toLowerCase()) {
                        e = false;
                    }
                }
                if (e) {
                    b.parsers.push(a);
                }
            };
            b.getParserById = function(a) {
                if (a == "false") {
                    return false;
                }
                var c, d = b.parsers.length;
                for (c = 0; c < d; c++) {
                    if (b.parsers[c].id.toLowerCase() === a.toString().toLowerCase()) {
                        return b.parsers[c];
                    }
                }
                return false;
            };
            b.addWidget = function(a) {
                b.widgets.push(a);
            };
            b.hasWidget = function(b, c) {
                b = a(b);
                return b.length && b[0].config && b[0].config.widgetInit[c] || false;
            };
            b.getWidgetById = function(a) {
                var c, d, e = b.widgets.length;
                for (c = 0; c < e; c++) {
                    d = b.widgets[c];
                    if (d && d.hasOwnProperty("id") && d.id.toLowerCase() === a.toLowerCase()) {
                        return d;
                    }
                }
            };
            b.applyWidget = function(c, e) {
                c = a(c)[0];
                var f = c.config, g = f.widgetOptions, h = " " + f.table.className + " ", i = [], j, k, l, m;
                if (e !== false && c.hasInitialized && (c.isApplyingWidgets || c.isUpdating)) {
                    return;
                }
                if (f.debug) {
                    j = new Date();
                }
                m = new RegExp("\\s" + f.widgetClass.replace(/\{name\}/i, "([\\w-]+)") + "\\s", "g");
                if (h.match(m)) {
                    l = h.match(m);
                    if (l) {
                        a.each(l, function(a, b) {
                            f.widgets.push(b.replace(m, "$1"));
                        });
                    }
                }
                if (f.widgets.length) {
                    c.isApplyingWidgets = true;
                    f.widgets = a.grep(f.widgets, function(b, c) {
                        return a.inArray(b, f.widgets) === c;
                    });
                    a.each(f.widgets || [], function(a, c) {
                        m = b.getWidgetById(c);
                        if (m && m.id) {
                            if (!m.priority) {
                                m.priority = 10;
                            }
                            i[a] = m;
                        }
                    });
                    i.sort(function(a, b) {
                        return a.priority < b.priority ? -1 : a.priority === b.priority ? 0 : 1;
                    });
                    a.each(i, function(d, h) {
                        if (h) {
                            if (e || !f.widgetInit[h.id]) {
                                f.widgetInit[h.id] = true;
                                if (h.hasOwnProperty("options")) {
                                    g = c.config.widgetOptions = a.extend(true, {}, h.options, g);
                                }
                                if (h.hasOwnProperty("init")) {
                                    if (f.debug) {
                                        k = new Date();
                                    }
                                    h.init(c, h, f, g);
                                    if (f.debug) {
                                        b.benchmark("Initializing " + h.id + " widget", k);
                                    }
                                }
                            }
                            if (!e && h.hasOwnProperty("format")) {
                                if (f.debug) {
                                    k = new Date();
                                }
                                h.format(c, f, g, false);
                                if (f.debug) {
                                    b.benchmark((e ? "Initializing " : "Applying ") + h.id + " widget", k);
                                }
                            }
                        }
                    });
                }
                setTimeout(function() {
                    c.isApplyingWidgets = false;
                    a.data(c, "lastWidgetApplication", new Date());
                }, 0);
                if (f.debug) {
                    l = f.widgets.length;
                    d("Completed " + (e === true ? "initializing " : "applying ") + l + " widget" + (l !== 1 ? "s" : ""), j);
                }
            };
            b.refreshWidgets = function(d, e, f) {
                d = a(d)[0];
                var g, h = d.config, i = h.widgets, j = b.widgets, k = j.length;
                for (g = 0; g < k; g++) {
                    if (j[g] && j[g].id && (e || a.inArray(j[g].id, i) < 0)) {
                        if (h.debug) {
                            c('Refeshing widgets: Removing "' + j[g].id + '"');
                        }
                        if (j[g].hasOwnProperty("remove") && h.widgetInit[j[g].id]) {
                            j[g].remove(d, h, h.widgetOptions);
                            h.widgetInit[j[g].id] = false;
                        }
                    }
                }
                if (f !== true) {
                    b.applyWidget(d, e);
                }
            };
            b.getData = function(b, c, d) {
                var e = "", f = a(b), g, h;
                if (!f.length) {
                    return "";
                }
                g = a.metadata ? f.metadata() : false;
                h = " " + (f.attr("class") || "");
                if (typeof f.data(d) !== "undefined" || typeof f.data(d.toLowerCase()) !== "undefined") {
                    e += f.data(d) || f.data(d.toLowerCase());
                } else if (g && typeof g[d] !== "undefined") {
                    e += g[d];
                } else if (c && typeof c[d] !== "undefined") {
                    e += c[d];
                } else if (h !== " " && h.match(" " + d + "-")) {
                    e = h.match(new RegExp("\\s" + d + "-([\\w-]+)"))[1] || "";
                }
                return a.trim(e);
            };
            b.formatFloat = function(b, c) {
                if (typeof b !== "string" || b === "") {
                    return b;
                }
                var d, e = c && c.config ? c.config.usNumberFormat !== false : typeof c !== "undefined" ? c : true;
                if (e) {
                    b = b.replace(/,/g, "");
                } else {
                    b = b.replace(/[\s|\.]/g, "").replace(/,/g, ".");
                }
                if (/^\s*\([.\d]+\)/.test(b)) {
                    b = b.replace(/^\s*\(([.\d]+)\)/, "-$1");
                }
                d = parseFloat(b);
                return isNaN(d) ? a.trim(b) : d;
            };
            b.isDigit = function(a) {
                return isNaN(a) ? /^[\-+(]?\d+[)]?$/.test(a.toString().replace(/[,.'"\s]/g, "")) : true;
            };
        }()
    });
    var b = a.tablesorter;
    a.fn.extend({
        tablesorter: b.construct
    });
    b.addParser({
        id: "no-parser",
        is: function() {
            return false;
        },
        format: function() {
            return "";
        },
        type: "text"
    });
    b.addParser({
        id: "text",
        is: function() {
            return true;
        },
        format: function(c, d) {
            var e = d.config;
            if (c) {
                c = a.trim(e.ignoreCase ? c.toLocaleLowerCase() : c);
                c = e.sortLocaleCompare ? b.replaceAccents(c) : c;
            }
            return c;
        },
        type: "text"
    });
    b.addParser({
        id: "digit",
        is: function(a) {
            return b.isDigit(a);
        },
        format: function(c, d) {
            var e = b.formatFloat((c || "").replace(/[^\w,. \-()]/g, ""), d);
            return c && typeof e === "number" ? e : c ? a.trim(c && d.config.ignoreCase ? c.toLocaleLowerCase() : c) : c;
        },
        type: "numeric"
    });
    b.addParser({
        id: "currency",
        is: function(a) {
            return /^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((a || "").replace(/[+\-,. ]/g, ""));
        },
        format: function(c, d) {
            var e = b.formatFloat((c || "").replace(/[^\w,. \-()]/g, ""), d);
            return c && typeof e === "number" ? e : c ? a.trim(c && d.config.ignoreCase ? c.toLocaleLowerCase() : c) : c;
        },
        type: "numeric"
    });
    b.addParser({
        id: "url",
        is: function(a) {
            return /^(https?|ftp|file):\/\//.test(a);
        },
        format: function(b) {
            return b ? a.trim(b.replace(/(https?|ftp|file):\/\//, "")) : b;
        },
        parsed: true,
        type: "text"
    });
    b.addParser({
        id: "isoDate",
        is: function(a) {
            return /^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(a);
        },
        format: function(a, b) {
            var c = a ? new Date(a.replace(/-/g, "/")) : a;
            return c instanceof Date && isFinite(c) ? c.getTime() : a;
        },
        type: "numeric"
    });
    b.addParser({
        id: "percent",
        is: function(a) {
            return /(\d\s*?%|%\s*?\d)/.test(a) && a.length < 15;
        },
        format: function(a, c) {
            return a ? b.formatFloat(a.replace(/%/g, ""), c) : a;
        },
        type: "numeric"
    });
    b.addParser({
        id: "image",
        is: function(a, b, c, d) {
            return d.find("img").length > 0;
        },
        format: function(b, c, d) {
            return a(d).find("img").attr(c.config.imgAttr || "alt") || b;
        },
        parsed: true,
        type: "text"
    });
    b.addParser({
        id: "usLongDate",
        is: function(a) {
            return /^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(a) || /^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(a);
        },
        format: function(a, b) {
            var c = a ? new Date(a.replace(/(\S)([AP]M)$/i, "$1 $2")) : a;
            return c instanceof Date && isFinite(c) ? c.getTime() : a;
        },
        type: "numeric"
    });
    b.addParser({
        id: "shortDate",
        is: function(a) {
            return /(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((a || "").replace(/\s+/g, " ").replace(/[\-.,]/g, "/"));
        },
        format: function(a, c, d, e) {
            if (a) {
                var f, g, h = c.config, i = h.$headers.filter("[data-column=" + e + "]:last"), j = i.length && i[0].dateFormat || b.getData(i, b.getColumnData(c, h.headers, e), "dateFormat") || h.dateFormat;
                g = a.replace(/\s+/g, " ").replace(/[\-.,]/g, "/");
                if (j === "mmddyyyy") {
                    g = g.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/, "$3/$1/$2");
                } else if (j === "ddmmyyyy") {
                    g = g.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/, "$3/$2/$1");
                } else if (j === "yyyymmdd") {
                    g = g.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/, "$1/$2/$3");
                }
                f = new Date(g);
                return f instanceof Date && isFinite(f) ? f.getTime() : a;
            }
            return a;
        },
        type: "numeric"
    });
    b.addParser({
        id: "time",
        is: function(a) {
            return /^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(a);
        },
        format: function(a, b) {
            var c = a ? new Date("2000/01/01 " + a.replace(/(\S)([AP]M)$/i, "$1 $2")) : a;
            return c instanceof Date && isFinite(c) ? c.getTime() : a;
        },
        type: "numeric"
    });
    b.addParser({
        id: "metadata",
        is: function() {
            return false;
        },
        format: function(b, c, d) {
            var e = c.config, f = !e.parserMetadataName ? "sortValue" : e.parserMetadataName;
            return a(d).metadata()[f];
        },
        type: "numeric"
    });
    b.addWidget({
        id: "zebra",
        priority: 90,
        format: function(b, c, d) {
            var e, f, g, h, i, j, k, l = new RegExp(c.cssChildRow, "i"), m = c.$tbodies;
            if (c.debug) {
                j = new Date();
            }
            for (k = 0; k < m.length; k++) {
                h = 0;
                e = m.eq(k);
                f = e.children("tr:visible").not(c.selectorRemove);
                f.each(function() {
                    g = a(this);
                    if (!l.test(this.className)) {
                        h++;
                    }
                    i = h % 2 === 0;
                    g.removeClass(d.zebra[i ? 1 : 0]).addClass(d.zebra[i ? 0 : 1]);
                });
            }
        },
        remove: function(a, c, d) {
            var e, f, g = c.$tbodies, h = (d.zebra || [ "even", "odd" ]).join(" ");
            for (e = 0; e < g.length; e++) {
                f = b.processTbody(a, g.eq(e), true);
                f.children().removeClass(h);
                b.processTbody(a, f, false);
            }
        }
    });
    return b;
});

(function(a) {
    "use strict";
    var b = a.tablesorter;
    a.extend({
        tablesorterPager: new function() {
            this.defaults = {
                container: null,
                ajaxUrl: null,
                customAjaxUrl: function(a, b) {
                    return b;
                },
                ajaxObject: {
                    dataType: "json"
                },
                processAjaxOnInit: true,
                ajaxProcessing: function(a) {
                    return [ 0, [], null ];
                },
                output: "{startRow} to {endRow} of {totalRows} rows",
                updateArrows: true,
                page: 0,
                pageReset: 0,
                size: 10,
                maxOptionSize: 20,
                savePages: true,
                storageKey: "tablesorter-pager",
                fixedHeight: false,
                countChildRows: false,
                removeRows: false,
                cssFirst: ".first",
                cssPrev: ".prev",
                cssNext: ".next",
                cssLast: ".last",
                cssGoto: ".gotoPage",
                cssPageDisplay: ".pagedisplay",
                cssPageSize: ".pagesize",
                cssErrorRow: "tablesorter-errorRow",
                cssDisabled: "disabled",
                totalRows: 0,
                totalPages: 0,
                filteredRows: 0,
                filteredPages: 0,
                ajaxCounter: 0,
                currentFilters: [],
                startRow: 0,
                endRow: 0,
                $size: null,
                last: {}
            };
            var c = this, d = function(a, b) {
                var c = "addClass", d = "removeClass", e = a.cssDisabled, f = !!b, g = f || a.page === 0, h = Math.min(a.totalPages, a.filteredPages), i = f || a.page === h - 1 || h === 0;
                if (a.updateArrows) {
                    a.$container.find(a.cssFirst + "," + a.cssPrev)[g ? c : d](e).attr("aria-disabled", g);
                    a.$container.find(a.cssNext + "," + a.cssLast)[i ? c : d](e).attr("aria-disabled", i);
                }
            }, e = function(b, c) {
                var d = b.config, e = d.$table.hasClass("hasFilters");
                if (e && !c.ajaxUrl) {
                    if (a.isEmptyObject(d.cache)) {
                        c.filteredRows = c.totalRows = d.$tbodies.eq(0).children("tr").not(c.countChildRows ? "" : "." + d.cssChildRow).length;
                    } else {
                        c.filteredRows = 0;
                        a.each(d.cache[0].normalized, function(a, b) {
                            c.filteredRows += c.regexRows.test(b[d.columns].$row[0].className) ? 0 : 1;
                        });
                    }
                } else if (!e) {
                    c.filteredRows = c.totalRows;
                }
            }, f = function(c, f, i) {
                if (f.initializing) {
                    return;
                }
                var j, k, l, m = c.config, n = f.size || 10;
                if (f.countChildRows) {
                    k.push(m.cssChildRow);
                }
                f.totalPages = Math.ceil(f.totalRows / n);
                m.totalRows = f.totalRows;
                e(c, f);
                m.filteredRows = f.filteredRows;
                f.filteredPages = Math.ceil(f.filteredRows / n) || 0;
                if (Math.min(f.totalPages, f.filteredPages) >= 0) {
                    k = f.size * f.page > f.filteredRows && i;
                    f.startRow = k ? 1 : f.filteredRows === 0 ? 0 : f.size * f.page + 1;
                    f.page = k ? 0 : f.page;
                    f.endRow = Math.min(f.filteredRows, f.totalRows, f.size * (f.page + 1));
                    l = f.$container.find(f.cssPageDisplay);
                    j = (f.ajaxData && f.ajaxData.output ? f.ajaxData.output || f.output : f.output).replace(/\{page([\-+]\d+)?\}/gi, function(a, b) {
                        return f.totalPages ? f.page + (b ? parseInt(b, 10) : 1) : 0;
                    }).replace(/\{\w+(\s*:\s*\w+)?\}/gi, function(a) {
                        var b, c, d = a.replace(/[{}\s]/g, ""), e = d.split(":"), g = f.ajaxData, h = /(rows?|pages?)$/i.test(d) ? 0 : "";
                        if (/(startRow|page)/.test(e[0]) && e[1] === "input") {
                            b = ("" + (e[0] === "page" ? f.totalPages : f.totalRows)).length;
                            c = e[0] === "page" ? f.page + 1 : f.startRow;
                            return '<input type="text" class="ts-' + e[0] + '" style="max-width:' + b + 'em" value="' + c + '"/>';
                        }
                        return e.length > 1 && g && g[e[0]] ? g[e[0]][e[1]] : f[d] || (g ? g[d] : h) || h;
                    });
                    if (l.length) {
                        l[l[0].tagName === "INPUT" ? "val" : "html"](j);
                        if (f.$goto.length) {
                            k = "";
                            a.each(g(f), function(a, b) {
                                k += '<option value="' + b + '">' + b + "</option>";
                            });
                            f.$goto.html(k).val(f.page + 1);
                        }
                        l.find(".ts-startRow, .ts-page").unbind("change").bind("change", function() {
                            var b = a(this).val(), c = a(this).hasClass("ts-startRow") ? Math.floor(b / f.size) + 1 : b;
                            m.$table.trigger("pageSet.pager", [ c ]);
                        });
                    }
                }
                d(f);
                h(c, f);
                if (f.initialized && i !== false) {
                    m.$table.trigger("pagerComplete", f);
                    if (f.savePages && b.storage) {
                        b.storage(c, f.storageKey, {
                            page: f.page,
                            size: f.size
                        });
                    }
                }
            }, g = function(b) {
                var c, d, e, f, g, h, i = Math.min(b.totalPages, b.filteredPages) || 1, j = Math.ceil(i / b.maxOptionSize / 5) * 5, k = i > b.maxOptionSize, l = b.page + 1, m = j, n = i - j, o = [ 1 ], p = k ? j : 1;
                for (c = p; c <= i; ) {
                    o.push(c);
                    c = c + (k ? j : 1);
                }
                o.push(i);
                if (k) {
                    e = [];
                    d = Math.max(Math.floor(b.maxOptionSize / j) - 1, 5);
                    m = l - d;
                    if (m < 1) {
                        m = 1;
                    }
                    n = l + d;
                    if (n > i) {
                        n = i;
                    }
                    for (c = m; c <= n; c++) {
                        e.push(c);
                    }
                    o = a.grep(o, function(b, c) {
                        return a.inArray(b, o) === c;
                    });
                    g = o.length;
                    h = e.length;
                    if (g - h > j / 2 && g + h > b.maxOptionSize) {
                        f = Math.floor(g / 2) - Math.floor(h / 2);
                        Array.prototype.splice.apply(o, [ f, h ]);
                    }
                    o = o.concat(e);
                }
                o = a.grep(o, function(b, c) {
                    return a.inArray(b, o) === c;
                }).sort(function(a, b) {
                    return a - b;
                });
                return o;
            }, h = function(b, c) {
                var d, e, f = b.config, g = f.$tbodies.eq(0);
                g.find("tr.pagerSavedHeightSpacer").remove();
                if (c.fixedHeight && !c.isDisabled) {
                    e = a.data(b, "pagerSavedHeight");
                    if (e) {
                        d = e - g.height();
                        if (d > 5 && a.data(b, "pagerLastSize") === c.size && g.children("tr:visible").length < c.size) {
                            g.append('<tr class="pagerSavedHeightSpacer ' + f.selectorRemove.slice(1) + '" style="height:' + d + 'px;"></tr>');
                        }
                    }
                }
            }, i = function(b, c) {
                var d, e = b.config, f = e.$tbodies.eq(0);
                f.find("tr.pagerSavedHeightSpacer").remove();
                if (!f.children("tr:visible").length) {
                    f.append('<tr class="pagerSavedHeightSpacer ' + e.selectorRemove.slice(1) + '"><td>&nbsp</td></tr>');
                }
                d = f.children("tr").eq(0).height() * c.size;
                a.data(b, "pagerSavedHeight", d);
                h(b, c);
                a.data(b, "pagerLastSize", c.size);
            }, j = function(a, c) {
                if (!c.ajaxUrl) {
                    var d, e = 0, f = a.config, g = f.$tbodies.eq(0).children("tr"), h = g.length, i = c.page * c.size, j = i + c.size, k = f.widgetOptions && f.widgetOptions.filter_filteredRow || "filtered", l = 0;
                    for (d = 0; d < h; d++) {
                        if (!g[d].className.match(k)) {
                            if (l === i && g[d].className.match(f.cssChildRow)) {
                                g[d].style.display = "none";
                            } else {
                                g[d].style.display = l >= i && l < j ? "" : "none";
                                l += g[d].className.match(f.cssChildRow + "|" + f.selectorRemove.slice(1)) && !c.countChildRows ? 0 : 1;
                                if (l === j && g[d].style.display !== "none" && g[d].className.match(b.css.cssHasChild)) {
                                    e = d;
                                }
                            }
                        }
                    }
                    if (e > 0 && g[e].className.match(b.css.cssHasChild)) {
                        while (++e < h && g[e].className.match(f.cssChildRow)) {
                            g[e].style.display = "";
                        }
                    }
                }
            }, k = function(b, c) {
                c.size = parseInt(c.$size.val(), 10) || c.size;
                a.data(b, "pagerLastSize", c.size);
                d(c);
                if (!c.removeRows) {
                    j(b, c);
                    a(b).bind("sortEnd.pager filterEnd.pager", function() {
                        j(b, c);
                    });
                }
            }, l = function(c, d, e, g, h) {
                if (typeof e.ajaxProcessing === "function") {
                    var i, j, k, l, m, n, o, p, q, r, s = d.config, t = s.$table, u = "", v = e.ajaxProcessing(c, d, g) || [ 0, [] ], w = t.find("thead th").length;
                    b.showError(d);
                    if (h) {
                        if (s.debug) {
                            b.log("Ajax Error", g, h);
                        }
                        b.showError(d, g.status === 0 ? "Not connected, verify Network" : g.status === 404 ? "Requested page not found [404]" : g.status === 500 ? "Internal Server Error [500]" : h === "parsererror" ? "Requested JSON parse failed" : h === "timeout" ? "Time out error" : h === "abort" ? "Ajax Request aborted" : "Uncaught error: " + g.statusText + " [" + g.status + "]");
                        s.$tbodies.eq(0).children("tr").detach();
                        e.totalRows = 0;
                    } else {
                        if (!a.isArray(v)) {
                            e.ajaxData = v;
                            s.totalRows = e.totalRows = v.total;
                            s.filteredRows = e.filteredRows = typeof v.filteredRows !== "undefined" ? v.filteredRows : v.total;
                            o = v.headers;
                            p = v.rows;
                        } else {
                            n = isNaN(v[0]) && !isNaN(v[1]);
                            r = v[n ? 1 : 0];
                            e.totalRows = isNaN(r) ? e.totalRows || 0 : r;
                            s.totalRows = s.filteredRows = e.filteredRows = e.totalRows;
                            p = e.totalRows === 0 ? [ "" ] : v[n ? 0 : 1] || [];
                            o = v[2];
                        }
                        q = p && p.length;
                        if (p instanceof jQuery) {
                            if (e.processAjaxOnInit) {
                                s.$tbodies.eq(0).children("tr").detach();
                                s.$tbodies.eq(0).append(p);
                            }
                        } else if (q) {
                            for (i = 0; i < q; i++) {
                                u += "<tr>";
                                for (j = 0; j < p[i].length; j++) {
                                    u += /^\s*<td/.test(p[i][j]) ? a.trim(p[i][j]) : "<td>" + p[i][j] + "</td>";
                                }
                                u += "</tr>";
                            }
                            if (e.processAjaxOnInit) {
                                s.$tbodies.eq(0).html(u);
                            }
                        }
                        e.processAjaxOnInit = true;
                        if (o && o.length === w) {
                            k = t.hasClass("hasStickyHeaders");
                            m = k ? s.widgetOptions.$sticky.children("thead:first").children("tr").children() : "";
                            l = t.find("tfoot tr:first").children();
                            s.$headers.filter("th").each(function(c) {
                                var d = a(this), e;
                                if (d.find("." + b.css.icon).length) {
                                    e = d.find("." + b.css.icon).clone(true);
                                    d.find(".tablesorter-header-inner").html(o[c]).append(e);
                                    if (k && m.length) {
                                        e = m.eq(c).find("." + b.css.icon).clone(true);
                                        m.eq(c).find(".tablesorter-header-inner").html(o[c]).append(e);
                                    }
                                } else {
                                    d.find(".tablesorter-header-inner").html(o[c]);
                                    if (k && m.length) {
                                        m.eq(c).find(".tablesorter-header-inner").html(o[c]);
                                    }
                                }
                                l.eq(c).html(o[c]);
                            });
                        }
                    }
                    if (s.showProcessing) {
                        b.isProcessing(d);
                    }
                    e.totalPages = Math.ceil(e.totalRows / (e.size || 10));
                    e.last.totalRows = e.totalRows;
                    e.last.currentFilters = e.currentFilters;
                    e.last.sortList = (s.sortList || []).join(",");
                    f(d, e, true);
                    t.trigger("updateCache", [ function() {
                        if (e.initialized) {
                            setTimeout(function() {
                                t.trigger("applyWidgets").trigger("pagerChange", e);
                            }, 0);
                        }
                    } ]);
                }
                if (!e.initialized) {
                    e.initialized = true;
                    e.initializing = false;
                    a(d).trigger("applyWidgets").trigger("pagerInitialized", e);
                    f(d, e);
                }
            }, m = function(c, d) {
                var e = n(c, d), f = a(document), g, h = c.config;
                if (e !== "") {
                    if (h.showProcessing) {
                        b.isProcessing(c, true);
                    }
                    f.bind("ajaxError.pager", function(a, b, e, g) {
                        l(null, c, d, b, g);
                        f.unbind("ajaxError.pager");
                    });
                    g = ++d.ajaxCounter;
                    d.last.ajaxUrl = e;
                    d.ajaxObject.url = e;
                    d.ajaxObject.success = function(a, b, e) {
                        if (g < d.ajaxCounter) {
                            return;
                        }
                        l(a, c, d, e);
                        f.unbind("ajaxError.pager");
                        if (typeof d.oldAjaxSuccess === "function") {
                            d.oldAjaxSuccess(a);
                        }
                    };
                    if (h.debug) {
                        b.log("ajax initialized", d.ajaxObject);
                    }
                    a.ajax(d.ajaxObject);
                }
            }, n = function(c, d) {
                var e = c.config, f = d.ajaxUrl ? d.ajaxUrl.replace(/\{page([\-+]\d+)?\}/, function(a, b) {
                    return d.page + (b ? parseInt(b, 10) : 0);
                }).replace(/\{size\}/g, d.size) : "", g = e.sortList, h = d.currentFilters || a(c).data("lastSearch") || [], i = f.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/), j = f.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/), k = [];
                if (i) {
                    i = i[1];
                    a.each(g, function(a, b) {
                        k.push(i + "[" + b[0] + "]=" + b[1]);
                    });
                    f = f.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g, k.length ? k.join("&") : i);
                    k = [];
                }
                if (j) {
                    j = j[1];
                    a.each(h, function(a, b) {
                        if (b) {
                            k.push(j + "[" + a + "]=" + encodeURIComponent(b));
                        }
                    });
                    f = f.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g, k.length ? k.join("&") : j);
                    d.currentFilters = h;
                }
                if (typeof d.customAjaxUrl === "function") {
                    f = d.customAjaxUrl(c, f);
                }
                if (e.debug) {
                    b.log("Pager ajax url: " + f);
                }
                return f;
            }, o = function(c, d, e) {
                var g, h, i, k, l = a(c), m = c.config, n = m.$table.hasClass("hasFilters"), o = d && d.length || 0, p = e.page * e.size, q = e.size;
                if (o < 1) {
                    if (m.debug) {
                        b.log("Pager: no rows for pager to render");
                    }
                    return;
                }
                if (e.page >= e.totalPages) {
                    u(c, e);
                }
                e.isDisabled = false;
                if (e.initialized) {
                    l.trigger("pagerChange", e);
                }
                if (!e.removeRows) {
                    j(c, e);
                } else {
                    b.clearTableBody(c);
                    g = b.processTbody(c, m.$tbodies.eq(0), true);
                    h = n ? 0 : p;
                    i = n ? 0 : p;
                    k = 0;
                    while (k < q && h < d.length) {
                        if (!n || !/filtered/.test(d[h][0].className)) {
                            i++;
                            if (i > p && k <= q) {
                                k++;
                                g.append(d[h]);
                            }
                        }
                        h++;
                    }
                    b.processTbody(c, g, false);
                }
                f(c, e);
                if (c.isUpdating) {
                    l.trigger("updateComplete", [ c, true ]);
                }
            }, p = function(c, e) {
                if (e.ajax) {
                    d(e, true);
                } else {
                    e.isDisabled = true;
                    a.data(c, "pagerLastPage", e.page);
                    a.data(c, "pagerLastSize", e.size);
                    e.page = 0;
                    e.size = e.totalRows;
                    e.totalPages = 1;
                    a(c).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove();
                    o(c, c.config.rowsCopy, e);
                    a(c).trigger("applyWidgets");
                    if (c.config.debug) {
                        b.log("pager disabled");
                    }
                }
                e.$size.add(e.$goto).add(e.$container.find(".ts-startRow, .ts-page")).each(function() {
                    a(this).attr("aria-disabled", "true").addClass(e.cssDisabled)[0].disabled = true;
                });
            }, q = function(a) {
                var b = a.config, c = b.pager;
                b.$table.trigger("updateCache", [ function() {
                    var d, e = [], f = a.config.cache[0].normalized;
                    c.totalRows = f.length;
                    for (d = 0; d < c.totalRows; d++) {
                        e.push(f[d][b.columns].$row);
                    }
                    b.rowsCopy = e;
                    r(a, c, true);
                } ]);
            }, r = function(c, d, f) {
                if (d.isDisabled) {
                    return;
                }
                var g, h = c.config, i = a(c), j = d.last;
                if (f !== false && d.initialized && a.isEmptyObject(h.cache)) {
                    return q(c);
                }
                if (d.ajax && b.hasWidget(c, "filter") && !h.widgetOptions.filter_initialized) {
                    return;
                }
                e(c, d);
                g = Math.min(d.totalPages, d.filteredPages);
                if (d.page < 0) {
                    d.page = 0;
                }
                if (d.page > g - 1 && g !== 0) {
                    d.page = g - 1;
                }
                j.currentFilters = (j.currentFilters || []).join("") === "" ? [] : j.currentFilters;
                d.currentFilters = (d.currentFilters || []).join("") === "" ? [] : d.currentFilters;
                if (j.page === d.page && j.size === d.size && j.totalRows === d.totalRows && (j.currentFilters || []).join(",") === (d.currentFilters || []).join(",") && (j.ajaxUrl || "") === (d.ajaxObject.url || "") && (j.optAjaxUrl || "") === (d.ajaxUrl || "") && j.sortList === (h.sortList || []).join(",")) {
                    return;
                }
                if (h.debug) {
                    b.log("Pager changing to page " + d.page);
                }
                d.last = {
                    page: d.page,
                    size: d.size,
                    sortList: (h.sortList || []).join(","),
                    totalRows: d.totalRows,
                    currentFilters: d.currentFilters || [],
                    ajaxUrl: d.ajaxObject.url || "",
                    optAjaxUrl: d.ajaxUrl || ""
                };
                if (d.ajax) {
                    m(c, d);
                } else if (!d.ajax) {
                    o(c, h.rowsCopy, d);
                }
                a.data(c, "pagerLastPage", d.page);
                if (d.initialized && f !== false) {
                    i.trigger("pageMoved", d).trigger("applyWidgets");
                    if (c.isUpdating) {
                        i.trigger("updateComplete", [ c, true ]);
                    }
                }
            }, s = function(b, c, d) {
                d.size = c || d.size || 10;
                d.$size.val(d.size);
                a.data(b, "pagerLastPage", d.page);
                a.data(b, "pagerLastSize", d.size);
                d.totalPages = Math.ceil(d.totalRows / d.size);
                d.filteredPages = Math.ceil(d.filteredRows / d.size);
                r(b, d);
            }, t = function(a, b) {
                b.page = 0;
                r(a, b);
            }, u = function(a, b) {
                b.page = Math.min(b.totalPages, b.filteredPages) - 1;
                r(a, b);
            }, v = function(a, b) {
                b.page++;
                if (b.page >= Math.min(b.totalPages, b.filteredPages) - 1) {
                    b.page = Math.min(b.totalPages, b.filteredPages) - 1;
                }
                r(a, b);
            }, w = function(a, b) {
                b.page--;
                if (b.page <= 0) {
                    b.page = 0;
                }
                r(a, b);
            }, x = function(c, d) {
                p(c, d);
                d.$container.hide();
                c.config.appender = null;
                d.initialized = false;
                delete c.config.rowsCopy;
                a(c).unbind("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet ".split(" ").join(".pager "));
                if (b.storage) {
                    b.storage(c, d.storageKey, "");
                }
            }, y = function(c, d, e) {
                var f, g = c.config;
                d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).removeClass(d.cssDisabled).removeAttr("disabled").attr("aria-disabled", "false");
                d.isDisabled = false;
                d.page = a.data(c, "pagerLastPage") || d.page || 0;
                d.size = a.data(c, "pagerLastSize") || parseInt(d.$size.find("option[selected]").val(), 10) || d.size || 10;
                d.$size.val(d.size);
                d.totalPages = Math.ceil(Math.min(d.totalRows, d.filteredRows) / d.size);
                if (c.id) {
                    f = c.id + "_pager_info";
                    d.$container.find(d.cssPageDisplay).attr("id", f);
                    g.$table.attr("aria-describedby", f);
                }
                i(c, d);
                if (e) {
                    g.$table.trigger("updateRows");
                    s(c, d.size, d);
                    k(c, d);
                    if (g.debug) {
                        b.log("pager enabled");
                    }
                }
            };
            c.appender = function(b, c) {
                var d = b.config, e = d.pager;
                if (!e.ajax) {
                    d.rowsCopy = c;
                    e.totalRows = e.countChildRows ? d.$tbodies.eq(0).children("tr").length : c.length;
                    e.size = a.data(b, "pagerLastSize") || e.size || 10;
                    e.totalPages = Math.ceil(e.totalRows / e.size);
                    o(b, c, e);
                    f(b, e, false);
                }
            };
            c.construct = function(d) {
                return this.each(function() {
                    if (!(this.config && this.hasInitialized)) {
                        return;
                    }
                    var e, g, h, l = this, m = l.config, n = m.widgetOptions, o = m.pager = a.extend(true, {}, a.tablesorterPager.defaults, d), z = m.$table, A = o.$container = a(o.container).addClass("tablesorter-pager").show();
                    if (m.debug) {
                        b.log("Pager initializing");
                    }
                    o.oldAjaxSuccess = o.oldAjaxSuccess || o.ajaxObject.success;
                    m.appender = c.appender;
                    o.initializing = true;
                    if (o.savePages && b.storage) {
                        e = b.storage(l, o.storageKey) || {};
                        o.page = isNaN(e.page) ? o.page : e.page;
                        o.size = (isNaN(e.size) ? o.size : e.size) || 10;
                        a.data(l, "pagerLastSize", o.size);
                    }
                    o.regexRows = new RegExp("(" + (n.filter_filteredRow || "filtered") + "|" + m.selectorRemove.slice(1) + "|" + m.cssChildRow + ")");
                    z.unbind("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet ".split(" ").join(".pager ")).bind("filterInit.pager filterStart.pager", function(a) {
                        o.currentFilters = m.$table.data("lastSearch");
                        if (a.type === "filterStart" && o.pageReset !== false && (m.lastCombinedFilter || "") !== (o.currentFilters || []).join("")) {
                            o.page = o.pageReset;
                        }
                    }).bind("filterEnd.pager sortEnd.pager", function() {
                        o.currentFilters = m.$table.data("lastSearch");
                        if (o.initialized || o.initializing) {
                            if (m.delayInit && m.rowsCopy && m.rowsCopy.length === 0) {
                                q(l);
                            }
                            f(l, o, false);
                            r(l, o, false);
                            m.$table.trigger("applyWidgets");
                        }
                    }).bind("disable.pager", function(a) {
                        a.stopPropagation();
                        p(l, o);
                    }).bind("enable.pager", function(a) {
                        a.stopPropagation();
                        y(l, o, true);
                    }).bind("destroy.pager", function(a) {
                        a.stopPropagation();
                        x(l, o);
                    }).bind("updateComplete.pager", function(a, b, c) {
                        a.stopPropagation();
                        if (!b || c) {
                            return;
                        }
                        var d = m.$tbodies.eq(0).children("tr").not(m.selectorRemove);
                        o.totalRows = d.length - (o.countChildRows ? 0 : d.filter("." + m.cssChildRow).length);
                        o.totalPages = Math.ceil(o.totalRows / o.size);
                        if (d.length && m.rowsCopy && m.rowsCopy.length === 0) {
                            q(b);
                        }
                        if (o.page >= o.totalPages) {
                            u(b, o);
                        }
                        j(b, o);
                        i(b, o);
                        f(b, o, true);
                    }).bind("pageSize.pager", function(a, b) {
                        a.stopPropagation();
                        s(l, parseInt(b, 10) || 10, o);
                        j(l, o);
                        f(l, o, false);
                        if (o.$size.length) {
                            o.$size.val(o.size);
                        }
                    }).bind("pageSet.pager", function(a, b) {
                        a.stopPropagation();
                        o.page = (parseInt(b, 10) || 1) - 1;
                        if (o.$goto.length) {
                            o.$goto.val(o.size);
                        }
                        r(l, o, true);
                        f(l, o, false);
                    });
                    g = [ o.cssFirst, o.cssPrev, o.cssNext, o.cssLast ];
                    h = [ t, w, v, u ];
                    A.find(g.join(",")).attr("tabindex", 0).unbind("click.pager").bind("click.pager", function(b) {
                        b.stopPropagation();
                        var c, d = a(this), e = g.length;
                        if (!d.hasClass(o.cssDisabled)) {
                            for (c = 0; c < e; c++) {
                                if (d.is(g[c])) {
                                    h[c](l, o);
                                    break;
                                }
                            }
                        }
                    });
                    o.$goto = A.find(o.cssGoto);
                    if (o.$goto.length) {
                        o.$goto.unbind("change").bind("change", function() {
                            o.page = a(this).val() - 1;
                            r(l, o, true);
                            f(l, o, false);
                        });
                    }
                    o.$size = A.find(o.cssPageSize);
                    if (o.$size.length) {
                        o.$size.find("option").removeAttr("selected");
                        o.$size.unbind("change.pager").bind("change.pager", function() {
                            o.$size.val(a(this).val());
                            if (!a(this).hasClass(o.cssDisabled)) {
                                s(l, parseInt(a(this).val(), 10), o);
                                i(l, o);
                            }
                            return false;
                        });
                    }
                    o.initialized = false;
                    z.trigger("pagerBeforeInitialized", o);
                    y(l, o, false);
                    if (typeof o.ajaxUrl === "string") {
                        o.ajax = true;
                        m.widgetOptions.filter_serversideFiltering = true;
                        m.serverSideSorting = true;
                        r(l, o);
                    } else {
                        o.ajax = false;
                        a(this).trigger("appendCache", true);
                        k(l, o);
                    }
                    if (!o.ajax && !o.initialized) {
                        o.initializing = false;
                        o.initialized = true;
                        r(l, o);
                        a(l).trigger("pagerInitialized", o);
                        if (!(m.widgetOptions.filter_initialized && b.hasWidget(l, "filter"))) {
                            f(l, o, false);
                        }
                    }
                });
            };
        }()
    });
    b.showError = function(b, c) {
        a(b).each(function() {
            var b, d = this.config, e = d.pager && d.pager.cssErrorRow || d.widgetOptions.pager_css && d.widgetOptions.pager_css.errorRow || "tablesorter-errorRow";
            if (d) {
                if (typeof c === "undefined") {
                    d.$table.find("thead").find(d.selectorRemove).remove();
                } else {
                    b = (/tr\>/.test(c) ? a(c) : a('<tr><td colspan="' + d.columns + '">' + c + "</td></tr>")).click(function() {
                        a(this).remove();
                    }).appendTo(d.$table.find("thead:first")).addClass(e + " " + d.selectorRemove.slice(1)).attr({
                        role: "alert",
                        "aria-live": "assertive"
                    });
                }
            }
        });
    };
    a.fn.extend({
        tablesorterPager: a.tablesorterPager.construct
    });
})(jQuery);

!function(a) {
    "use strict";
    var b = function(a, b) {
        this.init("tooltip", a, b);
    };
    b.prototype = {
        constructor: b,
        init: function(b, c, d) {
            var e, f;
            this.type = b;
            this.$element = a(c);
            this.options = this.getOptions(d);
            this.enabled = true;
            if (this.options.trigger != "manual") {
                e = this.options.trigger == "hover" ? "mouseenter" : "focus";
                f = this.options.trigger == "hover" ? "mouseleave" : "blur";
                this.$element.on(e, this.options.selector, a.proxy(this.enter, this));
                this.$element.on(f, this.options.selector, a.proxy(this.leave, this));
            }
            this.options.selector ? this._options = a.extend({}, this.options, {
                trigger: "manual",
                selector: ""
            }) : this.fixTitle();
        },
        getOptions: function(b) {
            b = a.extend({}, a.fn[this.type].defaults, b, this.$element.data());
            if (b.delay && typeof b.delay == "number") {
                b.delay = {
                    show: b.delay,
                    hide: b.delay
                };
            }
            return b;
        },
        enter: function(b) {
            var c = a(b.currentTarget)[this.type](this._options).data(this.type);
            if (!c.options.delay || !c.options.delay.show) return c.show();
            clearTimeout(this.timeout);
            c.hoverState = "in";
            this.timeout = setTimeout(function() {
                if (c.hoverState == "in") c.show();
            }, c.options.delay.show);
        },
        leave: function(b) {
            var c = a(b.currentTarget)[this.type](this._options).data(this.type);
            if (this.timeout) clearTimeout(this.timeout);
            if (!c.options.delay || !c.options.delay.hide) return c.hide();
            c.hoverState = "out";
            this.timeout = setTimeout(function() {
                if (c.hoverState == "out") c.hide();
            }, c.options.delay.hide);
        },
        show: function() {
            var a, b, c, d, e, f, g;
            if (this.hasContent() && this.enabled) {
                a = this.tip();
                this.setContent();
                if (this.options.animation) {
                    a.addClass("fade");
                }
                f = typeof this.options.placement == "function" ? this.options.placement.call(this, a[0], this.$element[0]) : this.options.placement;
                b = /in/.test(f);
                a.remove().css({
                    top: 0,
                    left: 0,
                    display: "block"
                }).appendTo(b ? this.$element : document.body);
                c = this.getPosition(b);
                d = a[0].offsetWidth;
                e = a[0].offsetHeight;
                switch (b ? f.split(" ")[1] : f) {
                  case "bottom":
                    g = {
                        top: c.top + c.height,
                        left: c.left + c.width / 2 - d / 2
                    };
                    break;

                  case "top":
                    g = {
                        top: c.top - e,
                        left: c.left + c.width / 2 - d / 2
                    };
                    break;

                  case "left":
                    g = {
                        top: c.top + c.height / 2 - e / 2,
                        left: c.left - d
                    };
                    break;

                  case "right":
                    g = {
                        top: c.top + c.height / 2 - e / 2,
                        left: c.left + c.width
                    };
                    break;
                }
                a.css(g).addClass(f).addClass("in");
            }
        },
        isHTML: function(a) {
            return typeof a != "string" || a.charAt(0) === "<" && a.charAt(a.length - 1) === ">" && a.length >= 3 || /^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(a);
        },
        setContent: function() {
            var a = this.tip(), b = this.getTitle();
            a.find(".tooltip-inner")[this.isHTML(b) ? "html" : "text"](b);
            a.removeClass("fade in top bottom left right");
        },
        hide: function() {
            var b = this, c = this.tip();
            c.removeClass("in");
            function d() {
                var b = setTimeout(function() {
                    c.off(a.support.transition.end).remove();
                }, 500);
                c.one(a.support.transition.end, function() {
                    clearTimeout(b);
                    c.remove();
                });
            }
            a.support.transition && this.$tip.hasClass("fade") ? d() : c.remove();
        },
        fixTitle: function() {
            var a = this.$element;
            if (a.attr("title") || typeof a.attr("data-original-title") != "string") {
                a.attr("data-original-title", a.attr("title") || "").removeAttr("title");
            }
        },
        hasContent: function() {
            return this.getTitle();
        },
        getPosition: function(b) {
            return a.extend({}, b ? {
                top: 0,
                left: 0
            } : this.$element.offset(), {
                width: this.$element[0].offsetWidth,
                height: this.$element[0].offsetHeight
            });
        },
        getTitle: function() {
            var a, b = this.$element, c = this.options;
            a = b.attr("data-original-title") || (typeof c.title == "function" ? c.title.call(b[0]) : c.title);
            return a;
        },
        tip: function() {
            return this.$tip = this.$tip || a(this.options.template);
        },
        validate: function() {
            if (!this.$element[0].parentNode) {
                this.hide();
                this.$element = null;
                this.options = null;
            }
        },
        enable: function() {
            this.enabled = true;
        },
        disable: function() {
            this.enabled = false;
        },
        toggleEnabled: function() {
            this.enabled = !this.enabled;
        },
        toggle: function() {
            this[this.tip().hasClass("in") ? "hide" : "show"]();
        }
    };
    a.fn.tooltip = function(c) {
        return this.each(function() {
            var d = a(this), e = d.data("tooltip"), f = typeof c == "object" && c;
            if (!e) d.data("tooltip", e = new b(this, f));
            if (typeof c == "string") e[c]();
        });
    };
    a.fn.tooltip.Constructor = b;
    a.fn.tooltip.defaults = {
        animation: true,
        placement: "top",
        selector: false,
        template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover",
        title: "",
        delay: 0
    };
}(window.jQuery);

var qq = function(a) {
    return {
        hide: function() {
            a.style.display = "none";
            return this;
        },
        attach: function(b, c) {
            a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent && a.attachEvent("on" + b, c);
            return function() {
                qq(a).detach(b, c);
            };
        },
        detach: function(b, c) {
            a.removeEventListener ? a.removeEventListener(b, c, !1) : a.attachEvent && a.detachEvent("on" + b, c);
            return this;
        },
        contains: function(b) {
            return a === b ? !0 : a.contains ? a.contains(b) : !!(b.compareDocumentPosition(a) & 8);
        },
        insertBefore: function(b) {
            b.parentNode.insertBefore(a, b);
            return this;
        },
        remove: function() {
            a.parentNode.removeChild(a);
            return this;
        },
        css: function(b) {
            null !== b.opacity && ("string" !== typeof a.style.opacity && "undefined" !== typeof a.filters) && (b.filter = "alpha(opacity=" + Math.round(100 * b.opacity) + ")");
            qq.extend(a.style, b);
            return this;
        },
        hasClass: function(b) {
            return RegExp("(^| )" + b + "( |$)").test(a.className);
        },
        addClass: function(b) {
            qq(a).hasClass(b) || (a.className += " " + b);
            return this;
        },
        removeClass: function(b) {
            a.className = a.className.replace(RegExp("(^| )" + b + "( |$)"), " ").replace(/^\s+|\s+$/g, "");
            return this;
        },
        getByClass: function(b) {
            var c, d = [];
            if (a.querySelectorAll) return a.querySelectorAll("." + b);
            c = a.getElementsByTagName("*");
            qq.each(c, function(a, c) {
                qq(c).hasClass(b) && d.push(c);
            });
            return d;
        },
        children: function() {
            for (var b = [], c = a.firstChild; c; ) 1 === c.nodeType && b.push(c), c = c.nextSibling;
            return b;
        },
        setText: function(b) {
            a.innerText = b;
            a.textContent = b;
            return this;
        },
        clearText: function() {
            return qq(a).setText("");
        }
    };
};

qq.log = function(a, b) {
    if (window.console) if (!b || "info" === b) window.console.log(a); else if (window.console[b]) window.console[b](a); else window.console.log("<" + b + "> " + a);
};

qq.isObject = function(a) {
    return null !== a && a && "object" === typeof a && a.constructor === Object;
};

qq.isFunction = function(a) {
    return "function" === typeof a;
};

qq.isString = function(a) {
    return "[object String]" === Object.prototype.toString.call(a);
};

qq.trimStr = function(a) {
    return String.prototype.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "");
};

qq.isFileOrInput = function(a) {
    if (window.File && a instanceof File) return !0;
    if (window.HTMLInputElement) {
        if (a instanceof HTMLInputElement && a.type && "file" === a.type.toLowerCase()) return !0;
    } else if (a.tagName && "input" === a.tagName.toLowerCase() && a.type && "file" === a.type.toLowerCase()) return !0;
    return !1;
};

qq.isBlob = function(a) {
    return window.Blob && "[object Blob]" === Object.prototype.toString.call(a);
};

qq.isXhrUploadSupported = function() {
    var a = document.createElement("input");
    a.type = "file";
    return void 0 !== a.multiple && "undefined" !== typeof File && "undefined" !== typeof FormData && "undefined" !== typeof new XMLHttpRequest().upload;
};

qq.isFolderDropSupported = function(a) {
    return a.items && a.items[0].webkitGetAsEntry;
};

qq.isFileChunkingSupported = function() {
    return !qq.android() && qq.isXhrUploadSupported() && (void 0 !== File.prototype.slice || void 0 !== File.prototype.webkitSlice || void 0 !== File.prototype.mozSlice);
};

qq.extend = function(a, b, c) {
    qq.each(b, function(b, d) {
        c && qq.isObject(d) ? (void 0 === a[b] && (a[b] = {}), qq.extend(a[b], d, !0)) : a[b] = d;
    });
};

qq.indexOf = function(a, b, c) {
    if (a.indexOf) return a.indexOf(b, c);
    var c = c || 0, d = a.length;
    for (0 > c && (c += d); c < d; c += 1) if (a.hasOwnProperty(c) && a[c] === b) return c;
    return -1;
};

qq.getUniqueId = function() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
        var b = 16 * Math.random() | 0;
        return ("x" == a ? b : b & 3 | 8).toString(16);
    });
};

qq.ie = function() {
    return -1 !== navigator.userAgent.indexOf("MSIE");
};

qq.ie10 = function() {
    return -1 !== navigator.userAgent.indexOf("MSIE 10");
};

qq.safari = function() {
    return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Apple");
};

qq.chrome = function() {
    return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Google");
};

qq.firefox = function() {
    return -1 !== navigator.userAgent.indexOf("Mozilla") && void 0 !== navigator.vendor && "" === navigator.vendor;
};

qq.windows = function() {
    return "Win32" === navigator.platform;
};

qq.android = function() {
    return -1 !== navigator.userAgent.toLowerCase().indexOf("android");
};

qq.preventDefault = function(a) {
    a.preventDefault ? a.preventDefault() : a.returnValue = !1;
};

qq.toElement = function() {
    var a = document.createElement("div");
    return function(b) {
        a.innerHTML = b;
        b = a.firstChild;
        a.removeChild(b);
        return b;
    };
}();

qq.each = function(a, b) {
    var c, d;
    if (a) for (c in a) if (Object.prototype.hasOwnProperty.call(a, c) && (d = b(c, a[c]), 
    !1 === d)) break;
};

qq.obj2url = function(a, b, c) {
    var d, e = [], f = "&", g = function(a, c) {
        var d = b ? /\[\]$/.test(b) ? b : b + "[" + c + "]" : c;
        "undefined" !== d && "undefined" !== c && e.push("object" === typeof a ? qq.obj2url(a, d, !0) : "[object Function]" === Object.prototype.toString.call(a) ? encodeURIComponent(d) + "=" + encodeURIComponent(a()) : encodeURIComponent(d) + "=" + encodeURIComponent(a));
    };
    if (!c && b) f = /\?/.test(b) ? /\?$/.test(b) ? "" : "&" : "?", e.push(b), e.push(qq.obj2url(a)); else if ("[object Array]" === Object.prototype.toString.call(a) && "undefined" !== typeof a) {
        d = -1;
        for (c = a.length; d < c; d += 1) g(a[d], d);
    } else if ("undefined" !== typeof a && null !== a && "object" === typeof a) for (d in a) a.hasOwnProperty(d) && g(a[d], d); else e.push(encodeURIComponent(b) + "=" + encodeURIComponent(a));
    return b ? e.join(f) : e.join(f).replace(/^&/, "").replace(/%20/g, "+");
};

qq.obj2FormData = function(a, b, c) {
    b || (b = new FormData());
    qq.each(a, function(a, d) {
        a = c ? c + "[" + a + "]" : a;
        qq.isObject(d) ? qq.obj2FormData(d, b, a) : qq.isFunction(d) ? b.append(a, d()) : b.append(a, d);
    });
    return b;
};

qq.obj2Inputs = function(a, b) {
    var c;
    b || (b = document.createElement("form"));
    qq.obj2FormData(a, {
        append: function(a, d) {
            c = document.createElement("input");
            c.setAttribute("name", a);
            c.setAttribute("value", d);
            b.appendChild(c);
        }
    });
    return b;
};

qq.setCookie = function(a, b, c) {
    var d = new Date(), e = "";
    c && (d.setTime(d.getTime() + 864e5 * c), e = "; expires=" + d.toGMTString());
    document.cookie = a + "=" + b + e + "; path=/";
};

qq.getCookie = function(a) {
    for (var a = a + "=", b = document.cookie.split(";"), c, d = 0; d < b.length; d++) {
        for (c = b[d]; " " == c.charAt(0); ) c = c.substring(1, c.length);
        if (0 === c.indexOf(a)) return c.substring(a.length, c.length);
    }
};

qq.getCookieNames = function(a) {
    var b = document.cookie.split(";"), c = [];
    qq.each(b, function(b, d) {
        var d = qq.trimStr(d), e = d.indexOf("=");
        d.match(a) && c.push(d.substr(0, e));
    });
    return c;
};

qq.deleteCookie = function(a) {
    qq.setCookie(a, "", -1);
};

qq.areCookiesEnabled = function() {
    var a = "qqCookieTest:" + 1e5 * Math.random();
    qq.setCookie(a, 1);
    return qq.getCookie(a) ? (qq.deleteCookie(a), !0) : !1;
};

qq.parseJson = function(a) {
    return window.JSON && qq.isFunction(JSON.parse) ? JSON.parse(a) : eval("(" + a + ")");
};

qq.DisposeSupport = function() {
    var a = [];
    return {
        dispose: function() {
            var b;
            do (b = a.shift()) && b(); while (b);
        },
        attach: function() {
            this.addDisposer(qq(arguments[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));
        },
        addDisposer: function(b) {
            a.push(b);
        }
    };
};

qq.supportedFeatures = function() {
    var a, b, c, d, e, f;
    a = !0;
    try {
        b = document.createElement("input"), b.type = "file", qq(b).hide(), b.disabled && (a = !1);
    } catch (g) {
        a = !1;
    }
    c = (b = a && qq.isXhrUploadSupported()) && qq.chrome() && void 0 !== navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);
    d = b && qq.isFileChunkingSupported();
    e = b && d && qq.areCookiesEnabled();
    f = b && qq.chrome() && void 0 !== navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);
    return {
        uploading: a,
        ajaxUploading: b,
        fileDrop: b,
        folderDrop: c,
        chunking: d,
        resume: e,
        uploadCustomHeaders: b,
        uploadNonMultipart: b,
        itemSizeValidation: b,
        uploadViaPaste: f,
        progressBar: b,
        uploadCors: a && (void 0 !== window.postMessage || b),
        deleteFileCors: b
    };
}();

qq.Promise = function() {
    var a, b, c, d, e, f = 0;
    return {
        then: function(e, g) {
            0 === f ? (c = e, d = g) : -1 === f && g ? g(b) : e && e(a);
            return this;
        },
        done: function(a) {
            0 === f ? e = a : a();
            return this;
        },
        success: function(b) {
            f = 1;
            a = b;
            c && c(b);
            e && e();
            return this;
        },
        failure: function(a) {
            f = -1;
            b = a;
            d && d(a);
            e && e();
            return this;
        }
    };
};

qq.UploadButton = function(a) {
    function b() {
        var a = document.createElement("input");
        e.multiple && a.setAttribute("multiple", "multiple");
        e.acceptFiles && a.setAttribute("accept", e.acceptFiles);
        a.setAttribute("type", "file");
        a.setAttribute("name", e.name);
        qq(a).css({
            position: "absolute",
            right: 0,
            top: 0,
            fontFamily: "Arial",
            fontSize: "118px",
            margin: 0,
            padding: 0,
            cursor: "pointer",
            opacity: 0
        });
        e.element.appendChild(a);
        d.attach(a, "change", function() {
            e.onChange(a);
        });
        d.attach(a, "mouseover", function() {
            qq(e.element).addClass(e.hoverClass);
        });
        d.attach(a, "mouseout", function() {
            qq(e.element).removeClass(e.hoverClass);
        });
        d.attach(a, "focus", function() {
            qq(e.element).addClass(e.focusClass);
        });
        d.attach(a, "blur", function() {
            qq(e.element).removeClass(e.focusClass);
        });
        window.attachEvent && a.setAttribute("tabIndex", "-1");
        return a;
    }
    var c, d = new qq.DisposeSupport(), e = {
        element: null,
        multiple: !1,
        acceptFiles: null,
        name: "file",
        onChange: function() {},
        hoverClass: "qq-upload-button-hover",
        focusClass: "qq-upload-button-focus"
    };
    qq.extend(e, a);
    qq(e.element).css({
        position: "relative",
        overflow: "hidden",
        direction: "ltr"
    });
    c = b();
    return {
        getInput: function() {
            return c;
        },
        reset: function() {
            c.parentNode && qq(c).remove();
            qq(e.element).removeClass(e.focusClass);
            c = b();
        }
    };
};

qq.PasteSupport = function(a) {
    var b;
    b = {
        targetElement: null,
        callbacks: {
            log: function() {},
            pasteReceived: function() {}
        }
    };
    qq.extend(b, a);
    (function() {
        qq(b.targetElement).attach("paste", function(a) {
            (a = a.clipboardData) && qq.each(a.items, function(a, c) {
                if (c.type && 0 === c.type.indexOf("image/")) {
                    var d = c.getAsFile();
                    b.callbacks.pasteReceived(d);
                }
            });
        });
    })();
    return {
        reset: function() {}
    };
};

qq.FineUploaderBasic = function(a) {
    this._options = {
        debug: !1,
        button: null,
        multiple: !0,
        maxConnections: 3,
        disableCancelForFormUploads: !1,
        autoUpload: !0,
        request: {
            endpoint: "/server/upload",
            params: {},
            paramsInBody: !0,
            customHeaders: {},
            forceMultipart: !0,
            inputName: "qqfile",
            uuidName: "qquuid",
            totalFileSizeName: "qqtotalfilesize"
        },
        validation: {
            allowedExtensions: [],
            sizeLimit: 0,
            minSizeLimit: 0,
            itemLimit: 0,
            stopOnFirstInvalidFile: !0
        },
        callbacks: {
            onSubmit: function() {},
            onSubmitted: function() {},
            onComplete: function() {},
            onCancel: function() {},
            onUpload: function() {},
            onUploadChunk: function() {},
            onResume: function() {},
            onProgress: function() {},
            onError: function() {},
            onAutoRetry: function() {},
            onManualRetry: function() {},
            onValidateBatch: function() {},
            onValidate: function() {},
            onSubmitDelete: function() {},
            onDelete: function() {},
            onDeleteComplete: function() {},
            onPasteReceived: function() {}
        },
        messages: {
            typeError: "{file} has an invalid extension. Valid extension(s): {extensions}.",
            sizeError: "{file} is too large, maximum file size is {sizeLimit}.",
            minSizeError: "{file} is too small, minimum file size is {minSizeLimit}.",
            emptyError: "{file} is empty, please select files again without it.",
            noFilesError: "No files to upload.",
            tooManyItemsError: "Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
            retryFailTooManyItems: "Retry failed - you have reached your file limit.",
            onLeave: "The files are being uploaded, if you leave now the upload will be cancelled."
        },
        retry: {
            enableAuto: !1,
            maxAutoAttempts: 3,
            autoAttemptDelay: 5,
            preventRetryResponseProperty: "preventRetry"
        },
        classes: {
            buttonHover: "qq-upload-button-hover",
            buttonFocus: "qq-upload-button-focus"
        },
        chunking: {
            enabled: !1,
            partSize: 2e6,
            paramNames: {
                partIndex: "qqpartindex",
                partByteOffset: "qqpartbyteoffset",
                chunkSize: "qqchunksize",
                totalFileSize: "qqtotalfilesize",
                totalParts: "qqtotalparts",
                filename: "qqfilename"
            }
        },
        resume: {
            enabled: !1,
            id: null,
            cookiesExpireIn: 7,
            paramNames: {
                resuming: "qqresume"
            }
        },
        formatFileName: function(a) {
            33 < a.length && (a = a.slice(0, 19) + "..." + a.slice(-14));
            return a;
        },
        text: {
            defaultResponseError: "Upload failure reason unknown",
            sizeSymbols: "kB MB GB TB PB EB".split(" ")
        },
        deleteFile: {
            enabled: !1,
            endpoint: "/server/upload",
            customHeaders: {},
            params: {}
        },
        cors: {
            expected: !1,
            sendCredentials: !1
        },
        blobs: {
            defaultName: "misc_data",
            paramNames: {
                name: "qqblobname"
            }
        },
        paste: {
            targetElement: null,
            defaultName: "pasted_image"
        }
    };
    qq.extend(this._options, a, !0);
    this._wrapCallbacks();
    this._disposeSupport = new qq.DisposeSupport();
    this._filesInProgress = [];
    this._storedIds = [];
    this._autoRetries = [];
    this._retryTimeouts = [];
    this._preventRetries = [];
    this._netUploaded = this._netUploadedOrQueued = 0;
    this._paramsStore = this._createParamsStore("request");
    this._deleteFileParamsStore = this._createParamsStore("deleteFile");
    this._endpointStore = this._createEndpointStore("request");
    this._deleteFileEndpointStore = this._createEndpointStore("deleteFile");
    this._handler = this._createUploadHandler();
    this._deleteHandler = this._createDeleteHandler();
    this._options.button && (this._button = this._createUploadButton(this._options.button));
    this._options.paste.targetElement && (this._pasteHandler = this._createPasteHandler());
    this._preventLeaveInProgress();
};

qq.FineUploaderBasic.prototype = {
    log: function(a, b) {
        this._options.debug && (!b || "info" === b) ? qq.log("[FineUploader] " + a) : b && "info" !== b && qq.log("[FineUploader] " + a, b);
    },
    setParams: function(a, b) {
        null == b ? this._options.request.params = a : this._paramsStore.setParams(a, b);
    },
    setDeleteFileParams: function(a, b) {
        null == b ? this._options.deleteFile.params = a : this._deleteFileParamsStore.setParams(a, b);
    },
    setEndpoint: function(a, b) {
        null == b ? this._options.request.endpoint = a : this._endpointStore.setEndpoint(a, b);
    },
    getInProgress: function() {
        return this._filesInProgress.length;
    },
    getNetUploads: function() {
        return this._netUploaded;
    },
    uploadStoredFiles: function() {
        for (var a; this._storedIds.length; ) a = this._storedIds.shift(), this._filesInProgress.push(a), 
        this._handler.upload(a);
    },
    clearStoredFiles: function() {
        this._storedIds = [];
    },
    retry: function(a) {
        return this._onBeforeManualRetry(a) ? (this._netUploadedOrQueued++, this._handler.retry(a), 
        !0) : !1;
    },
    cancel: function(a) {
        this._handler.cancel(a);
    },
    cancelAll: function() {
        var a = [], b = this;
        qq.extend(a, this._storedIds);
        qq.each(a, function(a, c) {
            b.cancel(c);
        });
        this._handler.cancelAll();
    },
    reset: function() {
        this.log("Resetting uploader...");
        this._handler.reset();
        this._filesInProgress = [];
        this._storedIds = [];
        this._autoRetries = [];
        this._retryTimeouts = [];
        this._preventRetries = [];
        this._button.reset();
        this._paramsStore.reset();
        this._endpointStore.reset();
        this._netUploaded = this._netUploadedOrQueued = 0;
        this._pasteHandler && this._pasteHandler.reset();
    },
    addFiles: function(a, b, c) {
        var d = [], e, f;
        if (a) {
            if (!window.FileList || !(a instanceof FileList)) a = [].concat(a);
            for (e = 0; e < a.length; e += 1) f = a[e], qq.isFileOrInput(f) ? d.push(f) : this.log(f + " is not a File or INPUT element!  Ignoring!", "warn");
            this.log("Processing " + d.length + " files or inputs...");
            this._uploadFileOrBlobDataList(d, b, c);
        }
    },
    addBlobs: function(a, b, c) {
        if (a) {
            var a = [].concat(a), d = [], e = this;
            qq.each(a, function(a, b) {
                qq.isBlob(b) && !qq.isFileOrInput(b) ? d.push({
                    blob: b,
                    name: e._options.blobs.defaultName
                }) : qq.isObject(b) && b.blob && b.name ? d.push(b) : e.log("addBlobs: entry at index " + a + " is not a Blob or a BlobData object", "error");
            });
            this._uploadFileOrBlobDataList(d, b, c);
        } else this.log("undefined or non-array parameter passed into addBlobs", "error");
    },
    getUuid: function(a) {
        return this._handler.getUuid(a);
    },
    getResumableFilesData: function() {
        return this._handler.getResumableFilesData();
    },
    getSize: function(a) {
        return this._handler.getSize(a);
    },
    getName: function(a) {
        return this._handler.getName(a);
    },
    getFile: function(a) {
        return this._handler.getFile(a);
    },
    deleteFile: function(a) {
        this._onSubmitDelete(a);
    },
    setDeleteFileEndpoint: function(a, b) {
        null == b ? this._options.deleteFile.endpoint = a : this._deleteFileEndpointStore.setEndpoint(a, b);
    },
    _createUploadButton: function(a) {
        var b = this, c = new qq.UploadButton({
            element: a,
            multiple: this._options.multiple && qq.supportedFeatures.ajaxUploading,
            acceptFiles: this._options.validation.acceptFiles,
            onChange: function(a) {
                b._onInputChange(a);
            },
            hoverClass: this._options.classes.buttonHover,
            focusClass: this._options.classes.buttonFocus
        });
        this._disposeSupport.addDisposer(function() {
            c.dispose();
        });
        return c;
    },
    _createUploadHandler: function() {
        var a = this;
        return new qq.UploadHandler({
            debug: this._options.debug,
            forceMultipart: this._options.request.forceMultipart,
            maxConnections: this._options.maxConnections,
            customHeaders: this._options.request.customHeaders,
            inputName: this._options.request.inputName,
            uuidParamName: this._options.request.uuidName,
            totalFileSizeParamName: this._options.request.totalFileSizeName,
            cors: this._options.cors,
            demoMode: this._options.demoMode,
            paramsInBody: this._options.request.paramsInBody,
            paramsStore: this._paramsStore,
            endpointStore: this._endpointStore,
            chunking: this._options.chunking,
            resume: this._options.resume,
            blobs: this._options.blobs,
            log: function(b, c) {
                a.log(b, c);
            },
            onProgress: function(b, c, d, e) {
                a._onProgress(b, c, d, e);
                a._options.callbacks.onProgress(b, c, d, e);
            },
            onComplete: function(b, c, d, e) {
                a._onComplete(b, c, d, e);
                a._options.callbacks.onComplete(b, c, d, e);
            },
            onCancel: function(b, c) {
                a._onCancel(b, c);
                a._options.callbacks.onCancel(b, c);
            },
            onUpload: function(b, c) {
                a._onUpload(b, c);
                a._options.callbacks.onUpload(b, c);
            },
            onUploadChunk: function(b, c, d) {
                a._options.callbacks.onUploadChunk(b, c, d);
            },
            onResume: function(b, c, d) {
                return a._options.callbacks.onResume(b, c, d);
            },
            onAutoRetry: function(b, c, d, e) {
                a._preventRetries[b] = d[a._options.retry.preventRetryResponseProperty];
                return a._shouldAutoRetry(b, c, d) ? (a._maybeParseAndSendUploadError(b, c, d, e), 
                a._options.callbacks.onAutoRetry(b, c, a._autoRetries[b] + 1), a._onBeforeAutoRetry(b, c), 
                a._retryTimeouts[b] = setTimeout(function() {
                    a._onAutoRetry(b, c, d);
                }, 1e3 * a._options.retry.autoAttemptDelay), !0) : !1;
            }
        });
    },
    _createDeleteHandler: function() {
        var a = this;
        return new qq.DeleteFileAjaxRequestor({
            maxConnections: this._options.maxConnections,
            customHeaders: this._options.deleteFile.customHeaders,
            paramsStore: this._deleteFileParamsStore,
            endpointStore: this._deleteFileEndpointStore,
            demoMode: this._options.demoMode,
            cors: this._options.cors,
            log: function(b, c) {
                a.log(b, c);
            },
            onDelete: function(b) {
                a._onDelete(b);
                a._options.callbacks.onDelete(b);
            },
            onDeleteComplete: function(b, c, d) {
                a._onDeleteComplete(b, c, d);
                a._options.callbacks.onDeleteComplete(b, c, d);
            }
        });
    },
    _createPasteHandler: function() {
        var a = this;
        return new qq.PasteSupport({
            targetElement: this._options.paste.targetElement,
            callbacks: {
                log: function(b, c) {
                    a.log(b, c);
                },
                pasteReceived: function(b) {
                    var c = a._options.callbacks.onPasteReceived;
                    (c = c(b)) && c.then ? c.then(function(c) {
                        a._handlePasteSuccess(b, c);
                    }, function(b) {
                        a.log("Ignoring pasted image per paste received callback.  Reason = '" + b + "'");
                    }) : a._handlePasteSuccess(b);
                }
            }
        });
    },
    _handlePasteSuccess: function(a, b) {
        var c = a.type.split("/")[1], d = b;
        null == d && (d = this._options.paste.defaultName);
        this.addBlobs({
            name: d + ("." + c),
            blob: a
        });
    },
    _preventLeaveInProgress: function() {
        var a = this;
        this._disposeSupport.attach(window, "beforeunload", function(b) {
            if (a._filesInProgress.length) return b = b || window.event, b.returnValue = a._options.messages.onLeave;
        });
    },
    _onSubmit: function(a) {
        this._netUploadedOrQueued++;
        this._options.autoUpload && this._filesInProgress.push(a);
    },
    _onProgress: function() {},
    _onComplete: function(a, b, c, d) {
        c.success ? this._netUploaded++ : this._netUploadedOrQueued--;
        this._removeFromFilesInProgress(a);
        this._maybeParseAndSendUploadError(a, b, c, d);
    },
    _onCancel: function(a) {
        this._netUploadedOrQueued--;
        this._removeFromFilesInProgress(a);
        clearTimeout(this._retryTimeouts[a]);
        a = qq.indexOf(this._storedIds, a);
        !this._options.autoUpload && 0 <= a && this._storedIds.splice(a, 1);
    },
    _isDeletePossible: function() {
        return this._options.deleteFile.enabled && (!this._options.cors.expected || qq.supportedFeatures.deleteFileCors);
    },
    _onSubmitDelete: function(a) {
        if (this._isDeletePossible()) !1 !== this._options.callbacks.onSubmitDelete(a) && this._deleteHandler.sendDelete(a, this.getUuid(a)); else return this.log("Delete request ignored for ID " + a + ", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.", "warn"), 
        !1;
    },
    _onDelete: function() {},
    _onDeleteComplete: function(a, b, c) {
        var d = this._handler.getName(a);
        c ? (this.log("Delete request for '" + d + "' has failed.", "error"), this._options.callbacks.onError(a, d, "Delete request failed with response code " + b.status, b)) : (this._netUploadedOrQueued--, 
        this._netUploaded--, this.log("Delete request for '" + d + "' has succeeded."));
    },
    _removeFromFilesInProgress: function(a) {
        a = qq.indexOf(this._filesInProgress, a);
        0 <= a && this._filesInProgress.splice(a, 1);
    },
    _onUpload: function() {},
    _onInputChange: function(a) {
        qq.supportedFeatures.ajaxUploading ? this.addFiles(a.files) : this.addFiles(a);
        this._button.reset();
    },
    _onBeforeAutoRetry: function(a, b) {
        this.log("Waiting " + this._options.retry.autoAttemptDelay + " seconds before retrying " + b + "...");
    },
    _onAutoRetry: function(a, b) {
        this.log("Retrying " + b + "...");
        this._autoRetries[a]++;
        this._handler.retry(a);
    },
    _shouldAutoRetry: function(a) {
        return !this._preventRetries[a] && this._options.retry.enableAuto ? (void 0 === this._autoRetries[a] && (this._autoRetries[a] = 0), 
        this._autoRetries[a] < this._options.retry.maxAutoAttempts) : !1;
    },
    _onBeforeManualRetry: function(a) {
        var b = this._options.validation.itemLimit;
        if (this._preventRetries[a]) return this.log("Retries are forbidden for id " + a, "warn"), 
        !1;
        if (this._handler.isValid(a)) {
            var c = this._handler.getName(a);
            if (!1 === this._options.callbacks.onManualRetry(a, c)) return !1;
            if (0 < b && this._netUploadedOrQueued + 1 > b) return this._itemError("retryFailTooManyItems", ""), 
            !1;
            this.log("Retrying upload for '" + c + "' (id: " + a + ")...");
            this._filesInProgress.push(a);
            return !0;
        }
        this.log("'" + a + "' is not a valid file ID", "error");
        return !1;
    },
    _maybeParseAndSendUploadError: function(a, b, c, d) {
        if (!c.success) if (d && 200 !== d.status && !c.error) this._options.callbacks.onError(a, b, "XHR returned response code " + d.status, d); else this._options.callbacks.onError(a, b, c.error ? c.error : this._options.text.defaultResponseError, d);
    },
    _uploadFileOrBlobDataList: function(a, b, c) {
        var d;
        if (this._isBatchValid(this._getValidationDescriptors(a))) if (0 < a.length) for (d = 0; d < a.length; d++) if (this._validateFileOrBlobData(a[d])) this._upload(a[d], b, c); else {
            if (this._options.validation.stopOnFirstInvalidFile) break;
        } else this._itemError("noFilesError", "");
    },
    _upload: function(a, b, c) {
        var a = this._handler.add(a), d = this._handler.getName(a);
        b && this.setParams(b, a);
        c && this.setEndpoint(c, a);
        !1 !== this._options.callbacks.onSubmit(a, d) && (this._onSubmit(a, d), this._options.callbacks.onSubmitted(a, d), 
        this._options.autoUpload ? this._handler.upload(a) : this._storeForLater(a));
    },
    _storeForLater: function(a) {
        this._storedIds.push(a);
    },
    _isBatchValid: function(a) {
        var b;
        b = this._options.validation.itemLimit;
        var c = this._netUploadedOrQueued + a.length;
        if (a = !1 !== this._options.callbacks.onValidateBatch(a)) 0 === b || c <= b ? a = !0 : (a = !1, 
        b = this._options.messages.tooManyItemsError.replace(/\{netItems\}/g, c).replace(/\{itemLimit\}/g, b), 
        this._batchError(b));
        return a;
    },
    _validateFileOrBlobData: function(a) {
        var b, c, d;
        b = this._getValidationDescriptor(a);
        c = b.name;
        d = b.size;
        return !1 === this._options.callbacks.onValidate(b) ? !1 : qq.isFileOrInput(a) && !this._isAllowedExtension(c) ? (this._itemError("typeError", c), 
        !1) : 0 === d ? (this._itemError("emptyError", c), !1) : d && this._options.validation.sizeLimit && d > this._options.validation.sizeLimit ? (this._itemError("sizeError", c), 
        !1) : d && d < this._options.validation.minSizeLimit ? (this._itemError("minSizeError", c), 
        !1) : !0;
    },
    _itemError: function(a, b) {
        function c(a, b) {
            d = d.replace(a, b);
        }
        var d = this._options.messages[a], e = [], f = [].concat(b), g = f[0], h;
        qq.each(this._options.validation.allowedExtensions, function(a, b) {
            qq.isString(b) && e.push(b);
        });
        h = e.join(", ").toLowerCase();
        c("{file}", this._options.formatFileName(g));
        c("{extensions}", h);
        c("{sizeLimit}", this._formatSize(this._options.validation.sizeLimit));
        c("{minSizeLimit}", this._formatSize(this._options.validation.minSizeLimit));
        h = d.match(/(\{\w+\})/g);
        null !== h && qq.each(h, function(a, b) {
            c(b, f[a]);
        });
        this._options.callbacks.onError(null, g, d);
        return d;
    },
    _batchError: function(a) {
        this._options.callbacks.onError(null, null, a);
    },
    _isAllowedExtension: function(a) {
        var b = this._options.validation.allowedExtensions, c = !1;
        if (!b.length) return !0;
        qq.each(b, function(b, d) {
            if (qq.isString(d) && null != a.match(RegExp("\\." + d + "$", "i"))) return c = !0, 
            !1;
        });
        return c;
    },
    _formatSize: function(a) {
        var b = -1;
        do a /= 1024, b++; while (99 < a);
        return Math.max(a, .1).toFixed(1) + this._options.text.sizeSymbols[b];
    },
    _wrapCallbacks: function() {
        var a, b;
        a = this;
        b = function(b, c, d) {
            try {
                return c.apply(a, d);
            } catch (e) {
                a.log("Caught exception in '" + b + "' callback - " + e.message, "error");
            }
        };
        for (var c in this._options.callbacks) (function() {
            var d, e;
            d = c;
            e = a._options.callbacks[d];
            a._options.callbacks[d] = function() {
                return b(d, e, arguments);
            };
        })();
    },
    _parseFileOrBlobDataName: function(a) {
        return qq.isFileOrInput(a) ? a.value ? a.value.replace(/.*(\/|\\)/, "") : null !== a.fileName && void 0 !== a.fileName ? a.fileName : a.name : a.name;
    },
    _parseFileOrBlobDataSize: function(a) {
        var b;
        qq.isFileOrInput(a) ? a.value || (b = null !== a.fileSize && void 0 !== a.fileSize ? a.fileSize : a.size) : b = a.blob.size;
        return b;
    },
    _getValidationDescriptor: function(a) {
        var b, c;
        c = {};
        b = this._parseFileOrBlobDataName(a);
        a = this._parseFileOrBlobDataSize(a);
        c.name = b;
        void 0 !== a && (c.size = a);
        return c;
    },
    _getValidationDescriptors: function(a) {
        var b = this, c = [];
        qq.each(a, function(a, d) {
            c.push(b._getValidationDescriptor(d));
        });
        return c;
    },
    _createParamsStore: function(a) {
        var b = {}, c = this;
        return {
            setParams: function(a, c) {
                var d = {};
                qq.extend(d, a);
                b[c] = d;
            },
            getParams: function(d) {
                var e = {};
                null != d && b[d] ? qq.extend(e, b[d]) : qq.extend(e, c._options[a].params);
                return e;
            },
            remove: function(a) {
                return delete b[a];
            },
            reset: function() {
                b = {};
            }
        };
    },
    _createEndpointStore: function(a) {
        var b = {}, c = this;
        return {
            setEndpoint: function(a, c) {
                b[c] = a;
            },
            getEndpoint: function(d) {
                return null != d && b[d] ? b[d] : c._options[a].endpoint;
            },
            remove: function(a) {
                return delete b[a];
            },
            reset: function() {
                b = {};
            }
        };
    }
};

qq.DragAndDrop = function(a) {
    function b(a) {
        var c, d, e = new qq.Promise();
        a.isFile ? a.file(function(a) {
            h.push(a);
            e.success();
        }, function(b) {
            f.callbacks.dropLog("Problem parsing '" + a.fullPath + "'.  FileError code " + b.code + ".", "error");
            e.failure();
        }) : a.isDirectory && (c = a.createReader(), c.readEntries(function(a) {
            var c = a.length;
            for (d = 0; d < a.length; d += 1) b(a[d]).done(function() {
                c = c - 1;
                c === 0 && e.success();
            });
            a.length || e.success();
        }, function(b) {
            f.callbacks.dropLog("Problem parsing '" + a.fullPath + "'.  FileError code " + b.code + ".", "error");
            e.failure();
        }));
        return e;
    }
    function c(a) {
        var c, d, e = [], i = new qq.Promise();
        f.callbacks.processingDroppedFiles();
        g.dropDisabled(!0);
        if (1 < a.files.length && !f.allowMultipleItems) f.callbacks.processingDroppedFilesComplete([]), 
        f.callbacks.dropError("tooManyFilesError", ""), g.dropDisabled(!1), i.failure(); else {
            h = [];
            if (qq.isFolderDropSupported(a)) {
                c = a.items;
                for (a = 0; a < c.length; a += 1) (d = c[a].webkitGetAsEntry()) && (d.isFile ? h.push(c[a].getAsFile()) : e.push(b(d).done(function() {
                    e.pop();
                    e.length === 0 && i.success();
                })));
            } else h = a.files;
            0 === e.length && i.success();
        }
        return i;
    }
    function d(a) {
        g = new qq.UploadDropZone({
            element: a,
            onEnter: function(b) {
                qq(a).addClass(f.classes.dropActive);
                b.stopPropagation();
            },
            onLeaveNotDescendants: function() {
                qq(a).removeClass(f.classes.dropActive);
            },
            onDrop: function(b) {
                f.hideDropZonesBeforeEnter && qq(a).hide();
                qq(a).removeClass(f.classes.dropActive);
                c(b.dataTransfer).done(function() {
                    var a = h;
                    f.callbacks.dropLog("Grabbed " + a.length + " dropped files.");
                    g.dropDisabled(!1);
                    f.callbacks.processingDroppedFilesComplete(a);
                });
            }
        });
        i.addDisposer(function() {
            g.dispose();
        });
        f.hideDropZonesBeforeEnter && qq(a).hide();
    }
    function e(a) {
        var b;
        qq.each(a.dataTransfer.types, function(a, c) {
            if ("Files" === c) return b = !0, !1;
        });
        return b;
    }
    var f, g, h = [], i = new qq.DisposeSupport();
    f = {
        dropZoneElements: [],
        hideDropZonesBeforeEnter: !1,
        allowMultipleItems: !0,
        classes: {
            dropActive: null
        },
        callbacks: new qq.DragAndDrop.callbacks()
    };
    qq.extend(f, a, !0);
    (function() {
        var a = f.dropZoneElements;
        qq.each(a, function(a, b) {
            d(b);
        });
        a.length && (!qq.ie() || qq.ie10()) && i.attach(document, "dragenter", function(b) {
            !g.dropDisabled() && e(b) && qq.each(a, function(a, b) {
                qq(b).css({
                    display: "block"
                });
            });
        });
        i.attach(document, "dragleave", function(b) {
            f.hideDropZonesBeforeEnter && qq.FineUploader.prototype._leaving_document_out(b) && qq.each(a, function(a, b) {
                qq(b).hide();
            });
        });
        i.attach(document, "drop", function(b) {
            f.hideDropZonesBeforeEnter && qq.each(a, function(a, b) {
                qq(b).hide();
            });
            b.preventDefault();
        });
    })();
    return {
        setupExtraDropzone: function(a) {
            f.dropZoneElements.push(a);
            d(a);
        },
        removeDropzone: function(a) {
            var b, c = f.dropZoneElements;
            for (b in c) if (c[b] === a) return c.splice(b, 1);
        },
        dispose: function() {
            i.dispose();
            g.dispose();
        }
    };
};

qq.DragAndDrop.callbacks = function() {
    return {
        processingDroppedFiles: function() {},
        processingDroppedFilesComplete: function() {},
        dropError: function(a, b) {
            qq.log("Drag & drop error code '" + a + " with these specifics: '" + b + "'", "error");
        },
        dropLog: function(a, b) {
            qq.log(a, b);
        }
    };
};

qq.UploadDropZone = function(a) {
    function b() {
        return qq.safari() || qq.firefox() && qq.windows();
    }
    function c(a) {
        if (qq.ie() && !qq.ie10()) return !1;
        var b = a.dataTransfer, c = qq.safari(), a = qq.ie10() ? !0 : "none" !== b.effectAllowed;
        return b && a && (b.files || !c && b.types.contains && b.types.contains("Files"));
    }
    function d(a) {
        void 0 !== a && (g = a);
        return g;
    }
    var e, f, g, h, i = new qq.DisposeSupport();
    e = {
        element: null,
        onEnter: function() {},
        onLeave: function() {},
        onLeaveNotDescendants: function() {},
        onDrop: function() {}
    };
    qq.extend(e, a);
    f = e.element;
    (function() {
        h || (b ? i.attach(document, "dragover", function(a) {
            a.preventDefault();
        }) : i.attach(document, "dragover", function(a) {
            a.dataTransfer && (a.dataTransfer.dropEffect = "none", a.preventDefault());
        }), h = !0);
    })();
    (function() {
        i.attach(f, "dragover", function(a) {
            if (c(a)) {
                var b = qq.ie() ? null : a.dataTransfer.effectAllowed;
                a.dataTransfer.dropEffect = "move" === b || "linkMove" === b ? "move" : "copy";
                a.stopPropagation();
                a.preventDefault();
            }
        });
        i.attach(f, "dragenter", function(a) {
            if (!d() && c(a)) e.onEnter(a);
        });
        i.attach(f, "dragleave", function(a) {
            if (c(a)) {
                e.onLeave(a);
                var b = document.elementFromPoint(a.clientX, a.clientY);
                if (!qq(this).contains(b)) e.onLeaveNotDescendants(a);
            }
        });
        i.attach(f, "drop", function(a) {
            !d() && c(a) && (a.preventDefault(), e.onDrop(a));
        });
    })();
    return {
        dropDisabled: function(a) {
            return d(a);
        },
        dispose: function() {
            i.dispose();
        }
    };
};

qq.FineUploader = function(a) {
    qq.FineUploaderBasic.apply(this, arguments);
    qq.extend(this._options, {
        element: null,
        listElement: null,
        dragAndDrop: {
            extraDropzones: [],
            hideDropzones: !0,
            disableDefaultDropzone: !1
        },
        text: {
            uploadButton: "Upload a file",
            cancelButton: "Cancel",
            retryButton: "Retry",
            deleteButton: "Delete",
            failUpload: "Upload failed",
            dragZone: "Drop files here to upload",
            dropProcessing: "Processing dropped files...",
            formatProgress: "{percent}% of {total_size}",
            waitingForResponse: "Processing..."
        },
        template: '<div class="qq-uploader">' + (!this._options.dragAndDrop || !this._options.dragAndDrop.disableDefaultDropzone ? '<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>' : "") + (!this._options.button ? '<div class="qq-upload-button"><div>{uploadButtonText}</div></div>' : "") + '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' + (!this._options.listElement ? '<ul class="qq-upload-list"></ul>' : "") + "</div>",
        fileTemplate: '<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',
        classes: {
            button: "qq-upload-button",
            drop: "qq-upload-drop-area",
            dropActive: "qq-upload-drop-area-active",
            list: "qq-upload-list",
            progressBar: "qq-progress-bar",
            file: "qq-upload-file",
            spinner: "qq-upload-spinner",
            finished: "qq-upload-finished",
            retrying: "qq-upload-retrying",
            retryable: "qq-upload-retryable",
            size: "qq-upload-size",
            cancel: "qq-upload-cancel",
            deleteButton: "qq-upload-delete",
            retry: "qq-upload-retry",
            statusText: "qq-upload-status-text",
            success: "qq-upload-success",
            fail: "qq-upload-fail",
            successIcon: null,
            failIcon: null,
            dropProcessing: "qq-drop-processing",
            dropProcessingSpinner: "qq-drop-processing-spinner"
        },
        failedUploadTextDisplay: {
            mode: "default",
            maxChars: 50,
            responseProperty: "error",
            enableTooltip: !0
        },
        messages: {
            tooManyFilesError: "You may only drop one file",
            unsupportedBrowser: "Unrecoverable error - this browser does not permit file uploading of any kind."
        },
        retry: {
            showAutoRetryNote: !0,
            autoRetryNote: "Retrying {retryNum}/{maxAuto}...",
            showButton: !1
        },
        deleteFile: {
            forceConfirm: !1,
            confirmMessage: "Are you sure you want to delete {filename}?",
            deletingStatusText: "Deleting...",
            deletingFailedText: "Delete failed"
        },
        display: {
            fileSizeOnSubmit: !1
        },
        paste: {
            promptForName: !1,
            namePromptMessage: "Please name this image"
        },
        showMessage: function(a) {
            setTimeout(function() {
                window.alert(a);
            }, 0);
        },
        showConfirm: function(a, b, c) {
            setTimeout(function() {
                window.confirm(a) ? b() : c && c();
            }, 0);
        },
        showPrompt: function(a, b) {
            var c = new qq.Promise(), d = window.prompt(a, b);
            null != d && 0 < qq.trimStr(d).length ? c.success(d) : c.failure("Undefined or invalid user-supplied value.");
            return c;
        }
    }, !0);
    qq.extend(this._options, a, !0);
    !qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors ? this._options.element.innerHTML = "<div>" + this._options.messages.unsupportedBrowser + "</div>" : (this._wrapCallbacks(), 
    this._options.template = this._options.template.replace(/\{dragZoneText\}/g, this._options.text.dragZone), 
    this._options.template = this._options.template.replace(/\{uploadButtonText\}/g, this._options.text.uploadButton), 
    this._options.template = this._options.template.replace(/\{dropProcessingText\}/g, this._options.text.dropProcessing), 
    this._options.fileTemplate = this._options.fileTemplate.replace(/\{cancelButtonText\}/g, this._options.text.cancelButton), 
    this._options.fileTemplate = this._options.fileTemplate.replace(/\{retryButtonText\}/g, this._options.text.retryButton), 
    this._options.fileTemplate = this._options.fileTemplate.replace(/\{deleteButtonText\}/g, this._options.text.deleteButton), 
    this._options.fileTemplate = this._options.fileTemplate.replace(/\{statusText\}/g, ""), 
    this._element = this._options.element, this._element.innerHTML = this._options.template, 
    this._listElement = this._options.listElement || this._find(this._element, "list"), 
    this._classes = this._options.classes, this._button || (this._button = this._createUploadButton(this._find(this._element, "button"))), 
    this._bindCancelAndRetryEvents(), this._dnd = this._setupDragAndDrop(), this._options.paste.targetElement && this._options.paste.promptForName && this._setupPastePrompt());
};

qq.extend(qq.FineUploader.prototype, qq.FineUploaderBasic.prototype);

qq.extend(qq.FineUploader.prototype, {
    clearStoredFiles: function() {
        qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this, arguments);
        this._listElement.innerHTML = "";
    },
    addExtraDropzone: function(a) {
        this._dnd.setupExtraDropzone(a);
    },
    removeExtraDropzone: function(a) {
        return this._dnd.removeDropzone(a);
    },
    getItemByFileId: function(a) {
        for (var b = this._listElement.firstChild; b; ) {
            if (b.qqFileId == a) return b;
            b = b.nextSibling;
        }
    },
    reset: function() {
        qq.FineUploaderBasic.prototype.reset.apply(this, arguments);
        this._element.innerHTML = this._options.template;
        this._listElement = this._options.listElement || this._find(this._element, "list");
        this._options.button || (this._button = this._createUploadButton(this._find(this._element, "button")));
        this._bindCancelAndRetryEvents();
        this._dnd.dispose();
        this._dnd = this._setupDragAndDrop();
    },
    _removeFileItem: function(a) {
        a = this.getItemByFileId(a);
        qq(a).remove();
    },
    _setupDragAndDrop: function() {
        var a = this, b = this._find(this._element, "dropProcessing"), c = this._options.dragAndDrop.extraDropzones, d;
        d = function(a) {
            a.preventDefault();
        };
        this._options.dragAndDrop.disableDefaultDropzone || c.push(this._find(this._options.element, "drop"));
        return new qq.DragAndDrop({
            dropZoneElements: c,
            hideDropZonesBeforeEnter: this._options.dragAndDrop.hideDropzones,
            allowMultipleItems: this._options.multiple,
            classes: {
                dropActive: this._options.classes.dropActive
            },
            callbacks: {
                processingDroppedFiles: function() {
                    var c = a._button.getInput();
                    qq(b).css({
                        display: "block"
                    });
                    qq(c).attach("click", d);
                },
                processingDroppedFilesComplete: function(c) {
                    var e = a._button.getInput();
                    qq(b).hide();
                    qq(e).detach("click", d);
                    c && a.addFiles(c);
                },
                dropError: function(b, c) {
                    a._itemError(b, c);
                },
                dropLog: function(b, c) {
                    a.log(b, c);
                }
            }
        });
    },
    _leaving_document_out: function(a) {
        return (qq.chrome() || qq.safari() && qq.windows()) && 0 == a.clientX && 0 == a.clientY || qq.firefox() && !a.relatedTarget;
    },
    _storeForLater: function(a) {
        qq.FineUploaderBasic.prototype._storeForLater.apply(this, arguments);
        var b = this.getItemByFileId(a);
        qq(this._find(b, "spinner")).hide();
    },
    _find: function(a, b) {
        var c = qq(a).getByClass(this._options.classes[b])[0];
        if (!c) throw Error("element not found " + b);
        return c;
    },
    _onSubmit: function(a, b) {
        qq.FineUploaderBasic.prototype._onSubmit.apply(this, arguments);
        this._addToList(a, b);
    },
    _onProgress: function(a, b, c, d) {
        qq.FineUploaderBasic.prototype._onProgress.apply(this, arguments);
        var e, f, g, h;
        e = this.getItemByFileId(a);
        f = this._find(e, "progressBar");
        g = Math.round(100 * (c / d));
        c === d ? (h = this._find(e, "cancel"), qq(h).hide(), qq(f).hide(), qq(this._find(e, "statusText")).setText(this._options.text.waitingForResponse), 
        this._displayFileSize(a)) : (this._displayFileSize(a, c, d), qq(f).css({
            display: "block"
        }));
        qq(f).css({
            width: g + "%"
        });
    },
    _onComplete: function(a, b, c, d) {
        qq.FineUploaderBasic.prototype._onComplete.apply(this, arguments);
        var e = this.getItemByFileId(a);
        qq(this._find(e, "statusText")).clearText();
        qq(e).removeClass(this._classes.retrying);
        qq(this._find(e, "progressBar")).hide();
        (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) && qq(this._find(e, "cancel")).hide();
        qq(this._find(e, "spinner")).hide();
        c.success ? (this._isDeletePossible() && this._showDeleteLink(a), qq(e).addClass(this._classes.success), 
        this._classes.successIcon && (this._find(e, "finished").style.display = "inline-block", 
        qq(e).addClass(this._classes.successIcon))) : (qq(e).addClass(this._classes.fail), 
        this._classes.failIcon && (this._find(e, "finished").style.display = "inline-block", 
        qq(e).addClass(this._classes.failIcon)), this._options.retry.showButton && !this._preventRetries[a] && qq(e).addClass(this._classes.retryable), 
        this._controlFailureTextDisplay(e, c));
    },
    _onUpload: function(a, b) {
        qq.FineUploaderBasic.prototype._onUpload.apply(this, arguments);
        this._showSpinner(a);
    },
    _onCancel: function(a, b) {
        qq.FineUploaderBasic.prototype._onCancel.apply(this, arguments);
        this._removeFileItem(a);
    },
    _onBeforeAutoRetry: function(a) {
        var b, c, d, e, f;
        qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this, arguments);
        b = this.getItemByFileId(a);
        c = this._find(b, "progressBar");
        this._showCancelLink(b);
        c.style.width = 0;
        qq(c).hide();
        this._options.retry.showAutoRetryNote && (c = this._find(b, "statusText"), d = this._autoRetries[a] + 1, 
        e = this._options.retry.maxAutoAttempts, f = this._options.retry.autoRetryNote.replace(/\{retryNum\}/g, d), 
        f = f.replace(/\{maxAuto\}/g, e), qq(c).setText(f), 1 === d && qq(b).addClass(this._classes.retrying));
    },
    _onBeforeManualRetry: function(a) {
        var b = this.getItemByFileId(a);
        if (qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this, arguments)) return this._find(b, "progressBar").style.width = 0, 
        qq(b).removeClass(this._classes.fail), qq(this._find(b, "statusText")).clearText(), 
        this._showSpinner(a), this._showCancelLink(b), !0;
        qq(b).addClass(this._classes.retryable);
        return !1;
    },
    _onSubmitDelete: function(a) {
        if (this._isDeletePossible()) !1 !== this._options.callbacks.onSubmitDelete(a) && (this._options.deleteFile.forceConfirm ? this._showDeleteConfirm(a) : this._sendDeleteRequest(a)); else return this.log("Delete request ignored for file ID " + a + ", delete feature is disabled.", "warn"), 
        !1;
    },
    _onDeleteComplete: function(a, b, c) {
        qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this, arguments);
        var d = this.getItemByFileId(a), e = this._find(d, "spinner"), d = this._find(d, "statusText");
        qq(e).hide();
        c ? (qq(d).setText(this._options.deleteFile.deletingFailedText), this._showDeleteLink(a)) : this._removeFileItem(a);
    },
    _sendDeleteRequest: function(a) {
        var b = this.getItemByFileId(a), c = this._find(b, "deleteButton"), b = this._find(b, "statusText");
        qq(c).hide();
        this._showSpinner(a);
        qq(b).setText(this._options.deleteFile.deletingStatusText);
        this._deleteHandler.sendDelete(a, this.getUuid(a));
    },
    _showDeleteConfirm: function(a) {
        var b = this._options.deleteFile.confirmMessage.replace(/\{filename\}/g, this._handler.getName(a));
        this.getUuid(a);
        var c = this;
        this._options.showConfirm(b, function() {
            c._sendDeleteRequest(a);
        });
    },
    _addToList: function(a, b) {
        var c = qq.toElement(this._options.fileTemplate);
        if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {
            var d = this._find(c, "cancel");
            qq(d).remove();
        }
        c.qqFileId = a;
        d = this._find(c, "file");
        qq(d).setText(this._options.formatFileName(b));
        qq(this._find(c, "size")).hide();
        this._options.multiple || (this._handler.cancelAll(), this._clearList());
        this._listElement.appendChild(c);
        this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading && this._displayFileSize(a);
    },
    _clearList: function() {
        this._listElement.innerHTML = "";
        this.clearStoredFiles();
    },
    _displayFileSize: function(a, b, c) {
        var d = this.getItemByFileId(a), a = this._formatSize(this.getSize(a)), d = this._find(d, "size");
        void 0 !== b && void 0 !== c && (a = this._formatProgress(b, c));
        qq(d).css({
            display: "inline"
        });
        qq(d).setText(a);
    },
    _bindCancelAndRetryEvents: function() {
        var a = this;
        this._disposeSupport.attach(this._listElement, "click", function(b) {
            var b = b || window.event, c = b.target || b.srcElement;
            if (qq(c).hasClass(a._classes.cancel) || qq(c).hasClass(a._classes.retry) || qq(c).hasClass(a._classes.deleteButton)) {
                qq.preventDefault(b);
                for (b = c.parentNode; void 0 === b.qqFileId; ) b = b.parentNode;
                qq(c).hasClass(a._classes.deleteButton) ? a.deleteFile(b.qqFileId) : qq(c).hasClass(a._classes.cancel) ? a.cancel(b.qqFileId) : (qq(b).removeClass(a._classes.retryable), 
                a.retry(b.qqFileId));
            }
        });
    },
    _formatProgress: function(a, b) {
        var c = this._options.text.formatProgress, d = Math.round(100 * (a / b)), c = c.replace("{percent}", d), d = this._formatSize(b);
        return c = c.replace("{total_size}", d);
    },
    _controlFailureTextDisplay: function(a, b) {
        var c, d, e, f;
        c = this._options.failedUploadTextDisplay.mode;
        d = this._options.failedUploadTextDisplay.maxChars;
        e = this._options.failedUploadTextDisplay.responseProperty;
        "custom" === c ? ((c = b[e]) ? c.length > d && (f = c.substring(0, d) + "...") : (c = this._options.text.failUpload, 
        this.log("'" + e + "' is not a valid property on the server response.", "warn")), 
        qq(this._find(a, "statusText")).setText(f || c), this._options.failedUploadTextDisplay.enableTooltip && this._showTooltip(a, c)) : "default" === c ? qq(this._find(a, "statusText")).setText(this._options.text.failUpload) : "none" !== c && this.log("failedUploadTextDisplay.mode value of '" + c + "' is not valid", "warn");
    },
    _showTooltip: function(a, b) {
        a.title = b;
    },
    _showSpinner: function(a) {
        this._find(this.getItemByFileId(a), "spinner").style.display = "inline-block";
    },
    _showCancelLink: function(a) {
        if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) a = this._find(a, "cancel"), 
        qq(a).css({
            display: "inline"
        });
    },
    _showDeleteLink: function(a) {
        a = this._find(this.getItemByFileId(a), "deleteButton");
        qq(a).css({
            display: "inline"
        });
    },
    _itemError: function(a, b) {
        this._options.showMessage(qq.FineUploaderBasic.prototype._itemError.apply(this, arguments));
    },
    _batchError: function(a) {
        qq.FineUploaderBasic.prototype._batchError.apply(this, arguments);
        this._options.showMessage(a);
    },
    _setupPastePrompt: function() {
        var a = this;
        this._options.callbacks.onPasteReceived = function() {
            return a._options.showPrompt(a._options.paste.namePromptMessage, a._options.paste.defaultName);
        };
    }
});

qq.AjaxRequestor = function(a) {
    function b(a) {
        var b = qq.indexOf(i, a), d = k.maxConnections;
        delete j[a];
        i.splice(b, 1);
        i.length >= d && b < d && (a = i[d - 1], c(a));
    }
    function c(a) {
        var b = new XMLHttpRequest(), c = f(), i = {}, l;
        k.onSend(a);
        k.paramsStore.getParams && (i = k.paramsStore.getParams(a));
        l = i;
        var m = k.endpointStore.getEndpoint(a), n = j[a].addToPath;
        void 0 !== n && (m += "/" + n);
        l = h && l ? qq.obj2url(l, m) : m;
        j[a].xhr = b;
        b.onreadystatechange = d(a);
        b.open(c, l, !0);
        k.cors.expected && k.cors.sendCredentials && (b.withCredentials = !0);
        e(a);
        g("Sending " + c + " request for " + a);
        !h && i ? b.send(qq.obj2url(i, "")) : b.send();
    }
    function d(a) {
        var c = j[a].xhr;
        return function() {
            if (4 === c.readyState) {
                var d = j[a].xhr, e = f(), h = !1;
                b(a);
                0 <= qq.indexOf(k.successfulResponseCodes, d.status) || (h = !0, g(e + " request for " + a + " has failed - response code " + d.status, "error"));
                k.onComplete(a, d, h);
            }
        };
    }
    function e(a) {
        var b = j[a].xhr, a = k.customHeaders;
        b.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        b.setRequestHeader("Cache-Control", "no-cache");
        qq.each(a, function(a, c) {
            b.setRequestHeader(a, c);
        });
    }
    function f() {
        return k.demoMode ? "GET" : k.method;
    }
    var g, h, i = [], j = [], k = {
        method: "POST",
        maxConnections: 3,
        customHeaders: {},
        endpointStore: {},
        paramsStore: {},
        successfulResponseCodes: [ 200 ],
        demoMode: !1,
        cors: {
            expected: !1,
            sendCredentials: !1
        },
        log: function() {},
        onSend: function() {},
        onComplete: function() {},
        onCancel: function() {}
    };
    qq.extend(k, a);
    g = k.log;
    h = "GET" === f() || "DELETE" === f();
    return {
        send: function(a, b) {
            j[a] = {
                addToPath: b
            };
            i.push(a) <= k.maxConnections && c(a);
        },
        cancel: function(a) {
            var c = j[a].xhr, d = f();
            c ? (c.onreadystatechange = null, c.abort(), b(a), g("Cancelled " + d + " for " + a), 
            k.onCancel(a), a = !0) : a = !1;
            return a;
        }
    };
};

qq.DeleteFileAjaxRequestor = function(a) {
    var b, c = {
        endpointStore: {},
        maxConnections: 3,
        customHeaders: {},
        paramsStore: {},
        demoMode: !1,
        cors: {
            expected: !1,
            sendCredentials: !1
        },
        log: function() {},
        onDelete: function() {},
        onDeleteComplete: function() {}
    };
    qq.extend(c, a);
    b = new qq.AjaxRequestor({
        method: "DELETE",
        endpointStore: c.endpointStore,
        paramsStore: c.paramsStore,
        maxConnections: c.maxConnections,
        customHeaders: c.customHeaders,
        successfulResponseCodes: [ 200, 202, 204 ],
        demoMode: c.demoMode,
        log: c.log,
        onSend: c.onDelete,
        onComplete: c.onDeleteComplete
    });
    return {
        sendDelete: function(a, d) {
            b.send(a, d);
            c.log("Submitted delete file request for " + a);
        }
    };
};

qq.WindowReceiveMessage = function(a) {
    var b = {};
    qq.extend({
        log: function() {}
    }, a);
    return {
        receiveMessage: function(a, c) {
            var d = function(a) {
                c(a.data);
            };
            window.postMessage ? b[a] = qq(window).attach("message", d) : log("iframe message passing not supported in this browser!", "error");
        },
        stopReceivingMessages: function(a) {
            window.postMessage && (a = b[a]) && a();
        }
    };
};

qq.UploadHandler = function(a) {
    var b = [], c, d, e, f;
    c = {
        debug: !1,
        forceMultipart: !0,
        paramsInBody: !1,
        paramsStore: {},
        endpointStore: {},
        cors: {
            expected: !1,
            sendCredentials: !1
        },
        maxConnections: 3,
        uuidParamName: "qquuid",
        totalFileSizeParamName: "qqtotalfilesize",
        chunking: {
            enabled: !1,
            partSize: 2e6,
            paramNames: {
                partIndex: "qqpartindex",
                partByteOffset: "qqpartbyteoffset",
                chunkSize: "qqchunksize",
                totalParts: "qqtotalparts",
                filename: "qqfilename"
            }
        },
        resume: {
            enabled: !1,
            id: null,
            cookiesExpireIn: 7,
            paramNames: {
                resuming: "qqresume"
            }
        },
        blobs: {
            paramNames: {
                name: "qqblobname"
            }
        },
        log: function() {},
        onProgress: function() {},
        onComplete: function() {},
        onCancel: function() {},
        onUpload: function() {},
        onUploadChunk: function() {},
        onAutoRetry: function() {},
        onResume: function() {}
    };
    qq.extend(c, a);
    d = c.log;
    e = function(a) {
        var a = qq.indexOf(b, a), d = c.maxConnections;
        0 <= a && (b.splice(a, 1), b.length >= d && a < d && (a = b[d - 1], f.upload(a)));
    };
    f = qq.supportedFeatures.ajaxUploading ? new qq.UploadHandlerXhr(c, e, d) : new qq.UploadHandlerForm(c, e, d);
    return {
        add: function(a) {
            return f.add(a);
        },
        upload: function(a) {
            if (b.push(a) <= c.maxConnections) return f.upload(a);
        },
        retry: function(a) {
            return 0 <= qq.indexOf(b, a) ? f.upload(a, !0) : this.upload(a);
        },
        cancel: function(a) {
            d("Cancelling " + a);
            c.paramsStore.remove(a);
            f.cancel(a);
            e(a);
        },
        cancelAll: function() {
            var a = this, c = [];
            qq.extend(c, b);
            qq.each(c, function(b, c) {
                a.cancel(c);
            });
            b = [];
        },
        getName: function(a) {
            return f.getName(a);
        },
        getSize: function(a) {
            if (f.getSize) return f.getSize(a);
        },
        getFile: function(a) {
            if (f.getFile) return f.getFile(a);
        },
        getQueue: function() {
            return b;
        },
        reset: function() {
            d("Resetting upload handler");
            b = [];
            f.reset();
        },
        getUuid: function(a) {
            return f.getUuid(a);
        },
        isValid: function(a) {
            return f.isValid(a);
        },
        getResumableFilesData: function() {
            return f.getResumableFilesData ? f.getResumableFilesData() : [];
        }
    };
};

qq.UploadHandlerForm = function(a, b, c) {
    function d(a) {
        void 0 !== l[a] && (l[a](), delete l[a]);
    }
    function e(a, b) {
        var c = a.id;
        p[k[c]] = b;
        l[c] = qq(a).attach("load", function() {
            j[c] && (n("Received iframe load event for CORS upload request (file id " + c + ")"), 
            m[c] = setTimeout(function() {
                var a = "No valid message received from loaded iframe for file id " + c;
                n(a, "error");
                b({
                    error: a
                });
            }, 1e3));
        });
        o.receiveMessage(c, function(a) {
            n("Received the following window message: '" + a + "'");
            var b = qq.parseJson(a), e = b.uuid;
            e && p[e] ? (clearTimeout(m[c]), delete m[c], d(c), a = p[e], delete p[e], o.stopReceivingMessages(c), 
            a(b)) : e || n("'" + a + "' does not contain a UUID - ignoring.");
        });
    }
    function f(a, b) {
        i.cors.expected ? e(a, b) : l[a.id] = qq(a).attach("load", function() {
            n("Received response for " + a.id);
            if (a.parentNode) {
                try {
                    if (a.contentDocument && a.contentDocument.body && "false" == a.contentDocument.body.innerHTML) return;
                } catch (c) {
                    n("Error when attempting to access iframe during handling of upload response (" + c + ")", "error");
                }
                b();
            }
        });
    }
    function g(a) {
        var b = qq.toElement('<iframe src="javascript:false;" name="' + a + '" />');
        b.setAttribute("id", a);
        b.style.display = "none";
        document.body.appendChild(b);
        return b;
    }
    function h(a, b) {
        var c = i.paramsStore.getParams(a), d = qq.toElement('<form method="' + (i.demoMode ? "GET" : "POST") + '" enctype="multipart/form-data"></form>'), e = i.endpointStore.getEndpoint(a), f = e;
        c[i.uuidParamName] = k[a];
        i.paramsInBody ? qq.obj2Inputs(c, d) : f = qq.obj2url(c, e);
        d.setAttribute("action", f);
        d.setAttribute("target", b.name);
        d.style.display = "none";
        document.body.appendChild(d);
        return d;
    }
    var i = a, j = [], k = [], l = {}, m = {}, n = c, o = new qq.WindowReceiveMessage({
        log: n
    }), p = {}, q;
    return q = {
        add: function(a) {
            a.setAttribute("name", i.inputName);
            var b = j.push(a) - 1;
            k[b] = qq.getUniqueId();
            a.parentNode && qq(a).remove();
            return b;
        },
        getName: function(a) {
            if (q.isValid(a)) return j[a].value.replace(/.*(\/|\\)/, "");
            n(a + " is not a valid item ID.", "error");
        },
        isValid: function(a) {
            return void 0 !== j[a];
        },
        reset: function() {
            j = [];
            k = [];
            l = {};
        },
        getUuid: function(a) {
            return k[a];
        },
        cancel: function(a) {
            i.onCancel(a, this.getName(a));
            delete j[a];
            delete k[a];
            delete l[a];
            i.cors.expected && (clearTimeout(m[a]), delete m[a], o.stopReceivingMessages(a));
            if (a = document.getElementById(a)) a.setAttribute("src", "java" + String.fromCharCode(115) + "cript:false;"), 
            qq(a).remove();
        },
        upload: function(a) {
            var c = j[a], e = q.getName(a), k = g(a), l;
            if (!c) throw Error("file with passed id was not added, or already uploaded or cancelled");
            i.onUpload(a, this.getName(a));
            l = h(a, k);
            l.appendChild(c);
            f(k, function(c) {
                n("iframe loaded");
                if (!c) {
                    var f;
                    try {
                        var g = k.contentDocument || k.contentWindow.document, h = g.body.innerHTML;
                        n("converting iframe's innerHTML to JSON");
                        n("innerHTML = " + h);
                        h && h.match(/^<pre/i) && (h = g.body.firstChild.firstChild.nodeValue);
                        f = qq.parseJson(h);
                    } catch (j) {
                        n("Error when attempting to parse form upload response (" + j + ")", "error"), f = {
                            success: !1
                        };
                    }
                    c = f;
                }
                d(a);
                i.cors.expected || qq(k).remove();
                if (c.success || !i.onAutoRetry(a, e, c)) i.onComplete(a, e, c), b(a);
            });
            n("Sending upload request for " + a);
            l.submit();
            qq(l).remove();
            return a;
        }
    };
};

qq.UploadHandlerXhr = function(a, b, c) {
    function d(a, b, c) {
        var d = B.getSize(a), a = B.getName(a);
        b[s.chunking.paramNames.partIndex] = c.part;
        b[s.chunking.paramNames.partByteOffset] = c.start;
        b[s.chunking.paramNames.chunkSize] = c.size;
        b[s.chunking.paramNames.totalParts] = c.count;
        b[s.totalFileSizeParamName] = d;
        A && (b[s.chunking.paramNames.filename] = a);
    }
    function e(a, b) {
        var c = s.chunking.partSize, d = B.getSize(a), e = v[a].file || v[a].blobData.blob, g = c * b, c = g + c >= d ? d : g + c, d = f(a), h;
        e.slice ? h = e.slice(g, c) : e.mozSlice ? h = e.mozSlice(g, c) : e.webkitSlice && (h = e.webkitSlice(g, c));
        return {
            part: b,
            start: g,
            end: c,
            count: d,
            blob: h,
            size: c - g
        };
    }
    function f(a) {
        a = B.getSize(a);
        return Math.ceil(a / s.chunking.partSize);
    }
    function g(a) {
        var b = new XMLHttpRequest();
        return v[a].xhr = b;
    }
    function h(a, b, c, d) {
        var e = new FormData(), f = s.demoMode ? "GET" : "POST", g = s.endpointStore.getEndpoint(d), h = g, i = B.getName(d), j = B.getSize(d), k = v[d].blobData;
        a[s.uuidParamName] = v[d].uuid;
        A && (a[s.totalFileSizeParamName] = j, k && (a[s.blobs.paramNames.name] = k.name));
        s.paramsInBody || (A || (a[s.inputName] = i), h = qq.obj2url(a, g));
        b.open(f, h, !0);
        s.cors.expected && s.cors.sendCredentials && (b.withCredentials = !0);
        return A ? (s.paramsInBody && qq.obj2FormData(a, e), e.append(s.inputName, c), e) : c;
    }
    function i(a, b) {
        var c = s.customHeaders, d = v[a].file || v[a].blobData.blob;
        b.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        b.setRequestHeader("Cache-Control", "no-cache");
        A || (b.setRequestHeader("Content-Type", "application/octet-stream"), b.setRequestHeader("X-Mime-Type", d.type));
        qq.each(c, function(a, c) {
            b.setRequestHeader(a, c);
        });
    }
    function j(a, b, c) {
        var d = B.getName(a), e = B.getSize(a);
        v[a].attemptingResume = !1;
        s.onProgress(a, d, e, e);
        s.onComplete(a, d, b, c);
        delete v[a].xhr;
        t(a);
    }
    function k(a) {
        var b = v[a].remainingChunkIdxs[0], c = e(a, b), f = g(a), j = B.getSize(a), k = B.getName(a), l;
        void 0 === v[a].loaded && (v[a].loaded = 0);
        y && v[a].file && o(a, c);
        f.onreadystatechange = n(a, f);
        f.upload.onprogress = function(c) {
            if (c.lengthComputable) {
                var d = c.loaded + v[a].loaded, c = c.total, f = e(a, b), c = c - f.size, g = B.getSize(a), f = f.count, h = c - v[a].initialRequestOverhead;
                v[a].lastRequestOverhead = c;
                if (b === 0) {
                    v[a].lastChunkIdxProgress = 0;
                    v[a].initialRequestOverhead = c;
                    v[a].estTotalRequestsSize = g + f * c;
                } else if (v[a].lastChunkIdxProgress !== b) {
                    v[a].lastChunkIdxProgress = b;
                    v[a].estTotalRequestsSize = v[a].estTotalRequestsSize + h;
                }
                s.onProgress(a, k, d, v[a].estTotalRequestsSize);
            }
        };
        s.onUploadChunk(a, k, m(c));
        l = s.paramsStore.getParams(a);
        d(a, l, c);
        v[a].attemptingResume && (l[s.resume.paramNames.resuming] = !0);
        l = h(l, f, c.blob, a);
        i(a, f);
        u("Sending chunked upload request for item " + a + ": bytes " + (c.start + 1) + "-" + c.end + " of " + j);
        f.send(l);
    }
    function l(a) {
        u("Server has ordered chunking effort to be restarted on next attempt for item ID " + a, "error");
        y && (p(a), v[a].attemptingResume = !1);
        v[a].remainingChunkIdxs = [];
        delete v[a].loaded;
        delete v[a].estTotalRequestsSize;
        delete v[a].initialRequestOverhead;
    }
    function m(a) {
        return {
            partIndex: a.part,
            startByte: a.start + 1,
            endByte: a.end,
            totalParts: a.count
        };
    }
    function n(a, b) {
        return function() {
            if (4 === b.readyState) {
                var c;
                if (v[a]) {
                    u("xhr - server response received for " + a);
                    u("responseText = " + b.responseText);
                    try {
                        c = qq.parseJson(b.responseText);
                    } catch (d) {
                        u("Error when attempting to parse xhr response text (" + d + ")", "error"), c = {};
                    }
                    if (200 !== b.status || !c.success || c.reset) if (c.reset && l(a), v[a].attemptingResume && c.reset) v[a].attemptingResume = !1, 
                    u("Server has declared that it cannot handle resume for item ID " + a + " - starting from the first chunk", "error"), 
                    l(a), B.upload(a, !0); else {
                        var f = B.getName(a);
                        s.onAutoRetry(a, f, c, b) || j(a, c, b);
                    } else if (x) {
                        var f = v[a].remainingChunkIdxs.shift(), g = e(a, f);
                        v[a].attemptingResume = !1;
                        var f = v[a], h = f.loaded, g = g.size, i;
                        i = A ? v[a].lastRequestOverhead : 0;
                        f.loaded = h + (g + i);
                        0 < v[a].remainingChunkIdxs.length ? k(a) : (y && p(a), j(a, c, b));
                    } else j(a, c, b);
                }
            }
        };
    }
    function o(a, b) {
        var c = B.getUuid(a), d = v[a].loaded, e = v[a].initialRequestOverhead, f = v[a].estTotalRequestsSize, g = q(a);
        qq.setCookie(g, c + w + b.part + w + d + w + e + w + f, s.resume.cookiesExpireIn);
    }
    function p(a) {
        v[a].file && (a = q(a), qq.deleteCookie(a));
    }
    function q(a) {
        var b = B.getName(a), a = B.getSize(a), c = s.chunking.partSize, b = "qqfilechunk" + w + encodeURIComponent(b) + w + a + w + c;
        void 0 !== z && (b += w + z);
        return b;
    }
    function r(a) {
        var b = v[a].file || v[a].blobData.blob, c = B.getName(a), d, e;
        v[a].loaded = 0;
        d = g(a);
        d.upload.onprogress = function(b) {
            b.lengthComputable && (v[a].loaded = b.loaded, s.onProgress(a, c, b.loaded, b.total));
        };
        d.onreadystatechange = n(a, d);
        e = s.paramsStore.getParams(a);
        b = h(e, d, b, a);
        i(a, d);
        u("Sending upload request for " + a);
        d.send(b);
    }
    var s = a, t = b, u = c, v = [], w = "|", x = s.chunking.enabled && qq.supportedFeatures.chunking, y = s.resume.enabled && x && qq.supportedFeatures.resume, z;
    z = null !== s.resume.id && void 0 !== s.resume.id && !qq.isFunction(s.resume.id) && !qq.isObject(s.resume.id) ? s.resume.id : void 0;
    var A = s.forceMultipart || s.paramsInBody, B;
    return B = {
        add: function(a) {
            if (a instanceof File) a = v.push({
                file: a
            }) - 1; else if (qq.isBlob(a.blob)) a = v.push({
                blobData: a
            }) - 1; else throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");
            v[a].uuid = qq.getUniqueId();
            return a;
        },
        getName: function(a) {
            if (B.isValid(a)) {
                var b = v[a].file, a = v[a].blobData;
                return b ? null !== b.fileName && void 0 !== b.fileName ? b.fileName : b.name : a.name;
            }
            u(a + " is not a valid item ID.", "error");
        },
        getSize: function(a) {
            a = v[a].file || v[a].blobData.blob;
            return qq.isFileOrInput(a) ? null != a.fileSize ? a.fileSize : a.size : a.size;
        },
        getFile: function(a) {
            if (v[a]) return v[a].file || v[a].blobData.blob;
        },
        getLoaded: function(a) {
            return v[a].loaded || 0;
        },
        isValid: function(a) {
            return void 0 !== v[a];
        },
        reset: function() {
            v = [];
        },
        getUuid: function(a) {
            return v[a].uuid;
        },
        upload: function(a, b) {
            var c = this.getName(a);
            s.onUpload(a, c);
            if (x) {
                var d = B.getName(a), c = 0, g, h;
                if (!v[a].remainingChunkIdxs || 0 === v[a].remainingChunkIdxs.length) {
                    v[a].remainingChunkIdxs = [];
                    if (y && !b && v[a].file) {
                        a: {
                            g = qq.getCookie(q(a));
                            h = B.getName(a);
                            var i, j, l;
                            if (g) {
                                g = g.split(w);
                                if (5 === g.length) {
                                    h = g[0];
                                    i = parseInt(g[1], 10);
                                    j = parseInt(g[2], 10);
                                    l = parseInt(g[3], 10);
                                    g = parseInt(g[4], 10);
                                    g = {
                                        uuid: h,
                                        part: i,
                                        lastByteSent: j,
                                        initialRequestOverhead: l,
                                        estTotalRequestsSize: g
                                    };
                                    break a;
                                }
                                u("Ignoring previously stored resume/chunk cookie for " + h + " - old cookie format", "warn");
                            }
                            g = void 0;
                        }
                        g && (h = e(a, g.part), !1 !== s.onResume(a, d, m(h)) && (c = g.part, v[a].uuid = g.uuid, 
                        v[a].loaded = g.lastByteSent, v[a].estTotalRequestsSize = g.estTotalRequestsSize, 
                        v[a].initialRequestOverhead = g.initialRequestOverhead, v[a].attemptingResume = !0, 
                        u("Resuming " + d + " at partition index " + c)));
                    }
                    for (d = f(a) - 1; d >= c; d -= 1) v[a].remainingChunkIdxs.unshift(d);
                }
                k(a);
            } else r(a);
        },
        cancel: function(a) {
            var b = v[a].xhr;
            s.onCancel(a, this.getName(a));
            b && (b.onreadystatechange = null, b.abort());
            y && p(a);
            delete v[a];
        },
        getResumableFilesData: function() {
            var a = [], b = [];
            return x && y ? (a = void 0 === z ? qq.getCookieNames(RegExp("^qqfilechunk\\" + w + ".+\\" + w + "\\d+\\" + w + s.chunking.partSize + "=")) : qq.getCookieNames(RegExp("^qqfilechunk\\" + w + ".+\\" + w + "\\d+\\" + w + s.chunking.partSize + "\\" + w + z + "=")), 
            qq.each(a, function(a, c) {
                var d = c.split(w), e = qq.getCookie(c).split(w);
                b.push({
                    name: decodeURIComponent(d[1]),
                    size: d[2],
                    uuid: e[0],
                    partIdx: e[1]
                });
            }), b) : [];
        }
    };
};

(function(a) {
    var b = function() {
        var b = {}, c = {
            years: "datepickerViewYears",
            moths: "datepickerViewMonths",
            days: "datepickerViewDays"
        }, d = {
            wrapper: '<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',
            head: [ "<td>", '<table cellspacing="0" cellpadding="0">', "<thead>", "<tr>", '<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>', '<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>', '<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>', "</tr>", '<tr class="datepickerDoW">', "<th><span><%=week%></span></th>", "<th><span><%=day1%></span></th>", "<th><span><%=day2%></span></th>", "<th><span><%=day3%></span></th>", "<th><span><%=day4%></span></th>", "<th><span><%=day5%></span></th>", "<th><span><%=day6%></span></th>", "<th><span><%=day7%></span></th>", "</tr>", "</thead>", "</table></td>" ],
            space: '<td class="datepickerSpace"><div></div></td>',
            days: [ '<tbody class="datepickerDays">', "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>', '<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>', '<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>', '<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>', '<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>', '<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>', '<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>', '<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>', "</tr>", "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>', '<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>', '<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>', '<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>', '<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>', '<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>', '<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>', '<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>', "</tr>", "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>', '<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>', '<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>', '<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>', '<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>', '<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>', '<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>', '<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>', "</tr>", "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>', '<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>', '<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>', '<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>', '<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>', '<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>', '<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>', '<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>', "</tr>", "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>', '<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>', '<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>', '<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>', '<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>', '<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>', '<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>', '<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>', "</tr>", "<tr>", '<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>', '<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>', '<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>', '<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>', '<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>', '<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>', '<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>', '<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>', "</tr>", "</tbody>" ],
            months: [ '<tbody class="<%=className%>">', "<tr>", '<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>', "</tr>", "<tr>", '<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>', "</tr>", "<tr>", '<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>', '<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>', "</tr>", "</tbody>" ]
        }, e = {
            flat: false,
            starts: 1,
            prev: "&laquo;",
            next: "&raquo;",
            lastSel: false,
            mode: "single",
            view: "days",
            calendars: 1,
            format: "Y-m-d",
            position: "bottom",
            eventName: "click",
            onRender: function() {
                return {};
            },
            onChange: function() {
                return true;
            },
            onShow: function() {
                return true;
            },
            onBeforeShow: function() {
                return true;
            },
            onHide: function() {
                return true;
            },
            locale: {
                days: [ "Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag", "Sonntag" ],
                daysShort: [ "Son", "Mon", "Die", "Mit", "Don", "Fre", "Sam", "Son" ],
                daysMin: [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa", "So" ],
                months: [ "Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember" ],
                monthsShort: [ "Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez" ],
                weekMin: "kw"
            }
        }, f = function(b) {
            var c = a(b).data("datepicker");
            var e = a(b);
            var f = Math.floor(c.calendars / 2), g, i, j, k, l = 0, m, n, o, p, q, r;
            e.find("td>table tbody").remove();
            for (var s = 0; s < c.calendars; s++) {
                g = new Date(c.current);
                g.addMonths(-f + s);
                r = e.find("table").eq(s + 1);
                switch (r[0].className) {
                  case "datepickerViewDays":
                    j = h(g, "B, Y");
                    break;

                  case "datepickerViewMonths":
                    j = g.getFullYear();
                    break;

                  case "datepickerViewYears":
                    j = g.getFullYear() - 6 + " - " + (g.getFullYear() + 5);
                    break;
                }
                r.find("thead tr:first th:eq(1) span").text(j);
                j = g.getFullYear() - 6;
                i = {
                    data: [],
                    className: "datepickerYears"
                };
                for (var t = 0; t < 12; t++) {
                    i.data.push(j + t);
                }
                q = tmpl(d.months.join(""), i);
                g.setDate(1);
                i = {
                    weeks: [],
                    test: 10
                };
                k = g.getMonth();
                var j = (g.getDay() - c.starts) % 7;
                g.addDays(-(j + (j < 0 ? 7 : 0)));
                m = -1;
                l = 0;
                while (l < 42) {
                    o = parseInt(l / 7, 10);
                    p = l % 7;
                    if (!i.weeks[o]) {
                        m = g.getWeekNumber();
                        i.weeks[o] = {
                            week: m,
                            days: []
                        };
                    }
                    i.weeks[o].days[p] = {
                        text: g.getDate(),
                        classname: []
                    };
                    if (k != g.getMonth()) {
                        i.weeks[o].days[p].classname.push("datepickerNotInMonth");
                    }
                    if (g.getDay() == 0) {
                        i.weeks[o].days[p].classname.push("datepickerSunday");
                    }
                    if (g.getDay() == 6) {
                        i.weeks[o].days[p].classname.push("datepickerSaturday");
                    }
                    var u = c.onRender(g);
                    var v = g.valueOf();
                    if (u.selected || c.date == v || a.inArray(v, c.date) > -1 || c.mode == "range" && v >= c.date[0] && v <= c.date[1]) {
                        i.weeks[o].days[p].classname.push("datepickerSelected");
                    }
                    if (u.disabled) {
                        i.weeks[o].days[p].classname.push("datepickerDisabled");
                    }
                    if (u.className) {
                        i.weeks[o].days[p].classname.push(u.className);
                    }
                    i.weeks[o].days[p].classname = i.weeks[o].days[p].classname.join(" ");
                    l++;
                    g.addDays(1);
                }
                q = tmpl(d.days.join(""), i) + q;
                i = {
                    data: c.locale.monthsShort,
                    className: "datepickerMonths"
                };
                q = tmpl(d.months.join(""), i) + q;
                r.append(q);
            }
        }, g = function(a, b) {
            if (a.constructor == Date) {
                return new Date(a);
            }
            var c = a.split(/\W+/);
            var d = b.split(/\W+/), e, f, g, h, i, j = new Date();
            for (var k = 0; k < c.length; k++) {
                switch (d[k]) {
                  case "d":
                  case "e":
                    e = parseInt(c[k], 10);
                    break;

                  case "m":
                    f = parseInt(c[k], 10) - 1;
                    break;

                  case "Y":
                  case "y":
                    g = parseInt(c[k], 10);
                    g += g > 100 ? 0 : g < 29 ? 2e3 : 1900;
                    break;

                  case "H":
                  case "I":
                  case "k":
                  case "l":
                    h = parseInt(c[k], 10);
                    break;

                  case "P":
                  case "p":
                    if (/pm/i.test(c[k]) && h < 12) {
                        h += 12;
                    } else if (/am/i.test(c[k]) && h >= 12) {
                        h -= 12;
                    }
                    break;

                  case "M":
                    i = parseInt(c[k], 10);
                    break;
                }
            }
            return new Date(g === undefined ? j.getFullYear() : g, f === undefined ? j.getMonth() : f, e === undefined ? j.getDate() : e, h === undefined ? j.getHours() : h, i === undefined ? j.getMinutes() : i, 0);
        }, h = function(a, b) {
            var c = a.getMonth();
            var d = a.getDate();
            var e = a.getFullYear();
            var f = a.getWeekNumber();
            var g = a.getDay();
            var h = {};
            var i = a.getHours();
            var j = i >= 12;
            var k = j ? i - 12 : i;
            var l = a.getDayOfYear();
            if (k == 0) {
                k = 12;
            }
            var m = a.getMinutes();
            var n = a.getSeconds();
            var o = b.split(""), p;
            for (var q = 0; q < o.length; q++) {
                p = o[q];
                switch (o[q]) {
                  case "a":
                    p = a.getDayName();
                    break;

                  case "A":
                    p = a.getDayName(true);
                    break;

                  case "b":
                    p = a.getMonthName();
                    break;

                  case "B":
                    p = a.getMonthName(true);
                    break;

                  case "C":
                    p = 1 + Math.floor(e / 100);
                    break;

                  case "d":
                    p = d < 10 ? "0" + d : d;
                    break;

                  case "e":
                    p = d;
                    break;

                  case "H":
                    p = i < 10 ? "0" + i : i;
                    break;

                  case "I":
                    p = k < 10 ? "0" + k : k;
                    break;

                  case "j":
                    p = l < 100 ? l < 10 ? "00" + l : "0" + l : l;
                    break;

                  case "k":
                    p = i;
                    break;

                  case "l":
                    p = k;
                    break;

                  case "m":
                    p = c < 9 ? "0" + (1 + c) : 1 + c;
                    break;

                  case "M":
                    p = m < 10 ? "0" + m : m;
                    break;

                  case "p":
                  case "P":
                    p = j ? "PM" : "AM";
                    break;

                  case "s":
                    p = Math.floor(a.getTime() / 1e3);
                    break;

                  case "S":
                    p = n < 10 ? "0" + n : n;
                    break;

                  case "u":
                    p = g + 1;
                    break;

                  case "w":
                    p = g;
                    break;

                  case "y":
                    p = ("" + e).substr(2, 2);
                    break;

                  case "Y":
                    p = e;
                    break;
                }
                o[q] = p;
            }
            return o.join("");
        }, i = function(a) {
            if (Date.prototype.tempDate) {
                return;
            }
            Date.prototype.tempDate = null;
            Date.prototype.months = a.months;
            Date.prototype.monthsShort = a.monthsShort;
            Date.prototype.days = a.days;
            Date.prototype.daysShort = a.daysShort;
            Date.prototype.getMonthName = function(a) {
                return this[a ? "months" : "monthsShort"][this.getMonth()];
            };
            Date.prototype.getDayName = function(a) {
                return this[a ? "days" : "daysShort"][this.getDay()];
            };
            Date.prototype.addDays = function(a) {
                this.setDate(this.getDate() + a);
                this.tempDate = this.getDate();
            };
            Date.prototype.addMonths = function(a) {
                if (this.tempDate == null) {
                    this.tempDate = this.getDate();
                }
                this.setDate(1);
                this.setMonth(this.getMonth() + a);
                this.setDate(Math.min(this.tempDate, this.getMaxDays()));
            };
            Date.prototype.addYears = function(a) {
                if (this.tempDate == null) {
                    this.tempDate = this.getDate();
                }
                this.setDate(1);
                this.setFullYear(this.getFullYear() + a);
                this.setDate(Math.min(this.tempDate, this.getMaxDays()));
            };
            Date.prototype.getMaxDays = function() {
                var a = new Date(Date.parse(this)), b = 28, c;
                c = a.getMonth();
                b = 28;
                while (a.getMonth() == c) {
                    b++;
                    a.setDate(b);
                }
                return b - 1;
            };
            Date.prototype.getFirstDay = function() {
                var a = new Date(Date.parse(this));
                a.setDate(1);
                return a.getDay();
            };
            Date.prototype.getWeekNumber = function() {
                var a = new Date(this);
                a.setDate(a.getDate() - (a.getDay() + 6) % 7 + 3);
                var b = a.valueOf();
                a.setMonth(0);
                a.setDate(4);
                return Math.round((b - a.valueOf()) / 6048e5) + 1;
            };
            Date.prototype.getDayOfYear = function() {
                var a = new Date(this.getFullYear(), this.getMonth(), this.getDate(), 0, 0, 0);
                var b = new Date(this.getFullYear(), 0, 0, 0, 0, 0);
                var c = a - b;
                return Math.floor(c / 24 * 60 * 60 * 1e3);
            };
        }, j = function(b) {
            var c = a(b).data("datepicker");
            var d = a("#" + c.id);
            if (!c.extraHeight) {
                var e = a(b).find("div");
                c.extraHeight = e.get(0).offsetHeight + e.get(1).offsetHeight;
                c.extraWidth = e.get(2).offsetWidth + e.get(3).offsetWidth;
            }
            var f = d.find("table:first").get(0);
            var g = f.offsetWidth;
            var h = f.offsetHeight;
            d.css({
                width: g + c.extraWidth + "px",
                height: h + c.extraHeight + "px"
            }).find("div.datepickerContainer").css({
                width: g + "px",
                height: h + "px"
            });
        }, k = function(b) {
            if (a(b.target).is("span")) {
                b.target = b.target.parentNode;
            }
            var c = a(b.target);
            if (c.is("a")) {
                b.target.blur();
                if (c.hasClass("datepickerDisabled")) {
                    return false;
                }
                var d = a(this).data("datepicker");
                var e = c.parent();
                var g = e.parent().parent().parent();
                var i = a("table", this).index(g.get(0)) - 1;
                var j = new Date(d.current);
                var k = false;
                var m = false;
                if (e.is("th")) {
                    if (e.hasClass("datepickerWeek") && d.mode == "range" && !e.next().hasClass("datepickerDisabled")) {
                        var n = parseInt(e.next().text(), 10);
                        j.addMonths(i - Math.floor(d.calendars / 2));
                        if (e.next().hasClass("datepickerNotInMonth")) {
                            j.addMonths(n > 15 ? -1 : 1);
                        }
                        j.setDate(n);
                        d.date[0] = j.setHours(0, 0, 0, 0).valueOf();
                        j.setHours(23, 59, 59, 0);
                        j.addDays(6);
                        d.date[1] = j.valueOf();
                        m = true;
                        k = true;
                        d.lastSel = false;
                    } else if (e.hasClass("datepickerMonth")) {
                        j.addMonths(i - Math.floor(d.calendars / 2));
                        switch (g.get(0).className) {
                          case "datepickerViewDays":
                            g.get(0).className = "datepickerViewMonths";
                            c.find("span").text(j.getFullYear());
                            break;

                          case "datepickerViewMonths":
                            g.get(0).className = "datepickerViewYears";
                            c.find("span").text(j.getFullYear() - 6 + " - " + (j.getFullYear() + 5));
                            break;

                          case "datepickerViewYears":
                            g.get(0).className = "datepickerViewDays";
                            c.find("span").text(h(j, "B, Y"));
                            break;
                        }
                    } else if (e.parent().parent().is("thead")) {
                        switch (g.get(0).className) {
                          case "datepickerViewDays":
                            d.current.addMonths(e.hasClass("datepickerGoPrev") ? -1 : 1);
                            break;

                          case "datepickerViewMonths":
                            d.current.addYears(e.hasClass("datepickerGoPrev") ? -1 : 1);
                            break;

                          case "datepickerViewYears":
                            d.current.addYears(e.hasClass("datepickerGoPrev") ? -12 : 12);
                            break;
                        }
                        m = true;
                    }
                } else if (e.is("td") && !e.hasClass("datepickerDisabled")) {
                    switch (g.get(0).className) {
                      case "datepickerViewMonths":
                        d.current.setMonth(g.find("tbody.datepickerMonths td").index(e));
                        d.current.setFullYear(parseInt(g.find("thead th.datepickerMonth span").text(), 10));
                        d.current.addMonths(Math.floor(d.calendars / 2) - i);
                        g.get(0).className = "datepickerViewDays";
                        break;

                      case "datepickerViewYears":
                        d.current.setFullYear(parseInt(c.text(), 10));
                        g.get(0).className = "datepickerViewMonths";
                        break;

                      default:
                        var n = parseInt(c.text(), 10);
                        j.addMonths(i - Math.floor(d.calendars / 2));
                        if (e.hasClass("datepickerNotInMonth")) {
                            j.addMonths(n > 15 ? -1 : 1);
                        }
                        j.setDate(n);
                        switch (d.mode) {
                          case "multiple":
                            n = j.setHours(0, 0, 0, 0).valueOf();
                            if (a.inArray(n, d.date) > -1) {
                                a.each(d.date, function(a, b) {
                                    if (b == n) {
                                        d.date.splice(a, 1);
                                        return false;
                                    }
                                });
                            } else {
                                d.date.push(n);
                            }
                            break;

                          case "range":
                            if (!d.lastSel) {
                                d.date[0] = j.setHours(0, 0, 0, 0).valueOf();
                            }
                            n = j.setHours(23, 59, 59, 0).valueOf();
                            if (n < d.date[0]) {
                                d.date[1] = d.date[0] + 86399e3;
                                d.date[0] = n - 86399e3;
                            } else {
                                d.date[1] = n;
                            }
                            d.lastSel = !d.lastSel;
                            break;

                          default:
                            d.date = j.valueOf();
                            break;
                        }
                        k = true;
                        break;
                    }
                    m = true;
                }
                if (m) {
                    f(this);
                }
                if (k) {
                    d.onChange.apply(this, l(d));
                }
            }
            return false;
        }, l = function(b) {
            var c;
            if (b.mode == "single") {
                c = new Date(b.date);
                return [ h(c, b.format), c, b.el ];
            } else {
                c = [ [], [], b.el ];
                a.each(b.date, function(a, d) {
                    var e = new Date(d);
                    c[0].push(h(e, b.format));
                    c[1].push(e);
                });
                return c;
            }
        }, m = function() {
            var a = document.compatMode == "CSS1Compat";
            return {
                l: window.pageXOffset || (a ? document.documentElement.scrollLeft : document.body.scrollLeft),
                t: window.pageYOffset || (a ? document.documentElement.scrollTop : document.body.scrollTop),
                w: window.innerWidth || (a ? document.documentElement.clientWidth : document.body.clientWidth),
                h: window.innerHeight || (a ? document.documentElement.clientHeight : document.body.clientHeight)
            };
        }, n = function(a, b, c) {
            if (a == b) {
                return true;
            }
            if (a.contains) {
                return a.contains(b);
            }
            if (a.compareDocumentPosition) {
                return !!(a.compareDocumentPosition(b) & 16);
            }
            var d = b.parentNode;
            while (d && d != c) {
                if (d == a) return true;
                d = d.parentNode;
            }
            return false;
        }, o = function(b) {
            var c = a("#" + a(this).data("datepickerId"));
            if (!c.is(":visible")) {
                var d = c.get(0);
                f(d);
                var e = c.data("datepicker");
                e.onBeforeShow.apply(this, [ c.get(0) ]);
                var g = a(this).offset();
                var h = m();
                var i = g.top;
                var k = g.left;
                c.css({
                    visibility: "hidden",
                    display: "block"
                });
                j(d);
                switch (e.position) {
                  case "top":
                    i -= d.offsetHeight;
                    break;

                  case "left":
                    k -= d.offsetWidth;
                    break;

                  case "right":
                    k += this.offsetWidth;
                    break;

                  case "bottom":
                    i += this.offsetHeight;
                    break;
                }
                if (i + d.offsetHeight > h.t + h.h) {
                    i = g.top - d.offsetHeight;
                }
                if (i < h.t) {
                    i = g.top + this.offsetHeight + d.offsetHeight;
                }
                if (k + d.offsetWidth > h.l + h.w) {
                    k = g.left - d.offsetWidth;
                }
                if (k < h.l) {
                    k = g.left + this.offsetWidth;
                }
                c.css({
                    visibility: "visible",
                    display: "block",
                    top: i + "px",
                    left: k + "px"
                });
                if (e.onShow.apply(this, [ c.get(0) ]) != false) {
                    c.show();
                }
                a(document).bind("mousedown", {
                    cal: c,
                    trigger: this
                }, p);
            }
            return false;
        }, p = function(b) {
            if (b.target != b.data.trigger && !n(b.data.cal.get(0), b.target, b.data.cal.get(0))) {
                if (b.data.cal.data("datepicker").onHide.apply(this, [ b.data.cal.get(0) ]) != false) {
                    b.data.cal.hide();
                }
                a(document).unbind("mousedown", p);
            }
        };
        return {
            init: function(b) {
                b = a.extend({}, e, b || {});
                i(b.locale);
                b.calendars = Math.max(1, parseInt(b.calendars, 10) || 1);
                b.mode = /single|multiple|range/.test(b.mode) ? b.mode : "single";
                return this.each(function() {
                    if (!a(this).data("datepicker")) {
                        b.el = this;
                        if (b.date.constructor == String) {
                            b.date = g(b.date, b.format);
                            b.date.setHours(0, 0, 0, 0);
                        }
                        if (b.mode != "single") {
                            if (b.date.constructor != Array) {
                                b.date = [ b.date.valueOf() ];
                                if (b.mode == "range") {
                                    b.date.push(new Date(b.date[0]).setHours(23, 59, 59, 0).valueOf());
                                }
                            } else {
                                for (var e = 0; e < b.date.length; e++) {
                                    b.date[e] = g(b.date[e], b.format).setHours(0, 0, 0, 0).valueOf();
                                }
                                if (b.mode == "range") {
                                    b.date[1] = new Date(b.date[1]).setHours(23, 59, 59, 0).valueOf();
                                }
                            }
                        } else {
                            b.date = b.date.valueOf();
                        }
                        if (!b.current) {
                            b.current = new Date();
                        } else {
                            b.current = g(b.current, b.format);
                        }
                        b.current.setDate(1);
                        b.current.setHours(0, 0, 0, 0);
                        var h = "datepicker_" + parseInt(Math.random() * 1e3), i;
                        b.id = h;
                        a(this).data("datepickerId", b.id);
                        var l = a(d.wrapper).attr("id", h).bind("click", k).data("datepicker", b);
                        if (b.className) {
                            l.addClass(b.className);
                        }
                        var m = "";
                        for (var e = 0; e < b.calendars; e++) {
                            i = b.starts;
                            if (e > 0) {
                                m += d.space;
                            }
                            m += tmpl(d.head.join(""), {
                                week: b.locale.weekMin,
                                prev: b.prev,
                                next: b.next,
                                day1: b.locale.daysMin[i++ % 7],
                                day2: b.locale.daysMin[i++ % 7],
                                day3: b.locale.daysMin[i++ % 7],
                                day4: b.locale.daysMin[i++ % 7],
                                day5: b.locale.daysMin[i++ % 7],
                                day6: b.locale.daysMin[i++ % 7],
                                day7: b.locale.daysMin[i++ % 7]
                            });
                        }
                        l.find("tr:first").append(m).find("table").addClass(c[b.view]);
                        f(l.get(0));
                        if (b.flat) {
                            l.appendTo(this).show().css("position", "relative");
                            j(l.get(0));
                        } else {
                            l.appendTo(document.body);
                            a(this).bind(b.eventName, o);
                        }
                    }
                });
            },
            showPicker: function() {
                return this.each(function() {
                    if (a(this).data("datepickerId")) {
                        o.apply(this);
                    }
                });
            },
            hidePicker: function() {
                return this.each(function() {
                    if (a(this).data("datepickerId")) {
                        a("#" + a(this).data("datepickerId")).hide();
                    }
                });
            },
            setDate: function(b, c) {
                return this.each(function() {
                    if (a(this).data("datepickerId")) {
                        var d = a("#" + a(this).data("datepickerId"));
                        var e = d.data("datepicker");
                        e.date = b;
                        if (e.date.constructor == String) {
                            e.date = g(e.date, e.format);
                            e.date.setHours(0, 0, 0, 0);
                        }
                        if (e.mode != "single") {
                            if (e.date.constructor != Array) {
                                e.date = [ e.date.valueOf() ];
                                if (e.mode == "range") {
                                    e.date.push(new Date(e.date[0]).setHours(23, 59, 59, 0).valueOf());
                                }
                            } else {
                                for (var h = 0; h < e.date.length; h++) {
                                    e.date[h] = g(e.date[h], e.format).setHours(0, 0, 0, 0).valueOf();
                                }
                                if (e.mode == "range") {
                                    e.date[1] = new Date(e.date[1]).setHours(23, 59, 59, 0).valueOf();
                                }
                            }
                        } else {
                            e.date = e.date.valueOf();
                        }
                        if (c) {
                            e.current = new Date(e.mode != "single" ? e.date[0] : e.date);
                        }
                        f(d.get(0));
                    }
                });
            },
            getDate: function(b) {
                if (this.size() > 0) {
                    return l(a("#" + a(this).data("datepickerId")).data("datepicker"))[b ? 0 : 1];
                }
            },
            clear: function() {
                return this.each(function() {
                    if (a(this).data("datepickerId")) {
                        var b = a("#" + a(this).data("datepickerId"));
                        var c = b.data("datepicker");
                        if (c.mode != "single") {
                            c.date = [];
                            f(b.get(0));
                        }
                    }
                });
            },
            fixLayout: function() {
                return this.each(function() {
                    if (a(this).data("datepickerId")) {
                        var b = a("#" + a(this).data("datepickerId"));
                        var c = b.data("datepicker");
                        if (c.flat) {
                            j(b.get(0));
                        }
                    }
                });
            }
        };
    }();
    a.fn.extend({
        DatePicker: b.init,
        DatePickerHide: b.hidePicker,
        DatePickerShow: b.showPicker,
        DatePickerSetDate: b.setDate,
        DatePickerGetDate: b.getDate,
        DatePickerClear: b.clear,
        DatePickerLayout: b.fixLayout
    });
})(jQuery);

(function() {
    var a = {};
    this.tmpl = function b(c, d) {
        var e = !/\W/.test(c) ? a[c] = a[c] || b(document.getElementById(c).innerHTML) : new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};" + "with(obj){p.push('" + c.replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");
        return d ? e(d) : e;
    };
})();

(function() {
    var a;
    a = function() {
        function a() {
            this.options_index = 0, this.parsed = [];
        }
        return a.prototype.add_node = function(a) {
            return a.nodeName.toUpperCase() === "OPTGROUP" ? this.add_group(a) : this.add_option(a);
        }, a.prototype.add_group = function(a) {
            var b, c, d, e, f, g;
            b = this.parsed.length, this.parsed.push({
                array_index: b,
                group: !0,
                label: a.label,
                children: 0,
                disabled: a.disabled
            }), f = a.childNodes, g = [];
            for (d = 0, e = f.length; d < e; d++) c = f[d], g.push(this.add_option(c, b, a.disabled));
            return g;
        }, a.prototype.add_option = function(a, b, c) {
            if (a.nodeName.toUpperCase() === "OPTION") return a.text !== "" ? (b != null && (this.parsed[b].children += 1), 
            this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                value: a.value,
                text: a.text,
                html: a.innerHTML,
                selected: a.selected,
                disabled: c === !0 ? c : a.disabled,
                group_array_index: b,
                classes: a.className,
                style: a.style.cssText
            })) : this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                empty: !0
            }), this.options_index += 1;
        }, a;
    }(), a.select_to_array = function(b) {
        var c, d, e, f, g;
        d = new a(), g = b.childNodes;
        for (e = 0, f = g.length; e < f; e++) c = g[e], d.add_node(c);
        return d.parsed;
    }, this.SelectParser = a;
}).call(this), function() {
    var a, b;
    b = this, a = function() {
        function a(b, c) {
            this.form_field = b, this.options = c != null ? c : {};
            if (!a.browser_is_supported()) return;
            this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), 
            this.setup(), this.set_up_html(), this.register_observers(), this.finish_setup();
        }
        return a.prototype.set_default_values = function() {
            var a = this;
            return this.click_test_action = function(b) {
                return a.test_active_click(b);
            }, this.activate_action = function(b) {
                return a.activate_field(b);
            }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, 
            this.result_highlighted = null, this.result_single_selected = null, this.allow_single_deselect = this.options.allow_single_deselect != null && this.form_field.options[0] != null && this.form_field.options[0].text === "" ? this.options.allow_single_deselect : !1, 
            this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, 
            this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : !0, 
            this.search_contains = this.options.search_contains || !1, this.choices = 0, this.single_backstroke_delete = this.options.single_backstroke_delete || !1, 
            this.max_selected_options = this.options.max_selected_options || Infinity, this.inherit_select_classes = this.options.inherit_select_classes || !1;
        }, a.prototype.set_default_text = function() {
            return this.form_field.getAttribute("data-placeholder") ? this.default_text = this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || a.default_multiple_text : this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || a.default_single_text, 
            this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || a.default_no_result_text;
        }, a.prototype.mouse_enter = function() {
            return this.mouse_on_container = !0;
        }, a.prototype.mouse_leave = function() {
            return this.mouse_on_container = !1;
        }, a.prototype.input_focus = function(a) {
            var b = this;
            if (this.is_multiple) {
                if (!this.active_field) return setTimeout(function() {
                    return b.container_mousedown();
                }, 50);
            } else if (!this.active_field) return this.activate_field();
        }, a.prototype.input_blur = function(a) {
            var b = this;
            if (!this.mouse_on_container) return this.active_field = !1, setTimeout(function() {
                return b.blur_test();
            }, 100);
        }, a.prototype.result_add_option = function(a) {
            var b, c;
            return a.disabled ? "" : (a.dom_id = this.container_id + "_o_" + a.array_index, 
            b = a.selected && this.is_multiple ? [] : [ "active-result" ], a.selected && b.push("result-selected"), 
            a.group_array_index != null && b.push("group-option"), a.classes !== "" && b.push(a.classes), 
            c = a.style.cssText !== "" ? ' style="' + a.style + '"' : "", '<li id="' + a.dom_id + '" class="' + b.join(" ") + '"' + c + ">" + a.html + "</li>");
        }, a.prototype.results_update_field = function() {
            return this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), 
            this.result_clear_highlight(), this.result_single_selected = null, this.results_build();
        }, a.prototype.results_toggle = function() {
            return this.results_showing ? this.results_hide() : this.results_show();
        }, a.prototype.results_search = function(a) {
            return this.results_showing ? this.winnow_results() : this.results_show();
        }, a.prototype.choices_click = function(a) {
            a.preventDefault();
            if (!this.results_showing) return this.results_show();
        }, a.prototype.keyup_checker = function(a) {
            var b, c;
            b = (c = a.which) != null ? c : a.keyCode, this.search_field_scale();
            switch (b) {
              case 8:
                if (this.is_multiple && this.backstroke_length < 1 && this.choices > 0) return this.keydown_backstroke();
                if (!this.pending_backstroke) return this.result_clear_highlight(), this.results_search();
                break;

              case 13:
                a.preventDefault();
                if (this.results_showing) return this.result_select(a);
                break;

              case 27:
                return this.results_showing && this.results_hide(), !0;

              case 9:
              case 38:
              case 40:
              case 16:
              case 91:
              case 17:
                break;

              default:
                return this.results_search();
            }
        }, a.prototype.generate_field_id = function() {
            var a;
            return a = this.generate_random_id(), this.form_field.id = a, a;
        }, a.prototype.generate_random_char = function() {
            var a, b, c;
            return a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ", c = Math.floor(Math.random() * a.length), 
            b = a.substring(c, c + 1);
        }, a.prototype.container_width = function() {
            var a;
            return this.options.width != null ? this.options.width : (a = window.getComputedStyle != null ? parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")) : typeof jQuery != "undefined" && jQuery !== null && this.form_field_jq != null ? this.form_field_jq.outerWidth() : this.form_field.getWidth(), 
            a + "px");
        }, a.browser_is_supported = function() {
            var a;
            return window.navigator.appName === "Microsoft Internet Explorer" ? null !== (a = document.documentMode) && a >= 8 : !0;
        }, a.default_multiple_text = "Select Some Options", a.default_single_text = "Select an Option", 
        a.default_no_result_text = "No results match", a;
    }(), b.AbstractChosen = a;
}.call(this), function() {
    var a, b, c, d = {}.hasOwnProperty, e = function(a, b) {
        function c() {
            this.constructor = a;
        }
        for (var e in b) d.call(b, e) && (a[e] = b[e]);
        return c.prototype = b.prototype, a.prototype = new c(), a.__super__ = b.prototype, 
        a;
    };
    c = this, a = jQuery, a.fn.extend({
        chosen: function(c) {
            return AbstractChosen.browser_is_supported() ? this.each(function(d) {
                var e;
                e = a(this);
                if (!e.hasClass("chzn-done")) return e.data("chosen", new b(this, c));
            }) : this;
        }
    }), b = function(b) {
        function d() {
            return d.__super__.constructor.apply(this, arguments);
        }
        return e(d, b), d.prototype.setup = function() {
            return this.form_field_jq = a(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, 
            this.is_rtl = this.form_field_jq.hasClass("chzn-rtl");
        }, d.prototype.finish_setup = function() {
            return this.form_field_jq.addClass("chzn-done");
        }, d.prototype.set_up_html = function() {
            var b, c;
            return this.container_id = this.form_field.id.length ? this.form_field.id.replace(/[^\w]/g, "_") : this.generate_field_id(), 
            this.container_id += "_chzn", b = [ "chzn-container" ], b.push("chzn-container-" + (this.is_multiple ? "multi" : "single")), 
            this.inherit_select_classes && this.form_field.className && b.push(this.form_field.className), 
            this.is_rtl && b.push("chzn-rtl"), c = {
                id: this.container_id,
                "class": b.join(" "),
                style: "width: " + this.container_width() + ";",
                title: this.form_field.title
            }, this.container = a("<div />", c), this.is_multiple ? this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>') : this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'), 
            this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find("div.chzn-drop").first(), 
            this.search_field = this.container.find("input").first(), this.search_results = this.container.find("ul.chzn-results").first(), 
            this.search_field_scale(), this.search_no_results = this.container.find("li.no-results").first(), 
            this.is_multiple ? (this.search_choices = this.container.find("ul.chzn-choices").first(), 
            this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chzn-search").first(), 
            this.selected_item = this.container.find(".chzn-single").first()), this.results_build(), 
            this.set_tab_index(), this.set_label_behavior(), this.form_field_jq.trigger("liszt:ready", {
                chosen: this
            });
        }, d.prototype.register_observers = function() {
            var a = this;
            return this.container.mousedown(function(b) {
                a.container_mousedown(b);
            }), this.container.mouseup(function(b) {
                a.container_mouseup(b);
            }), this.container.mouseenter(function(b) {
                a.mouse_enter(b);
            }), this.container.mouseleave(function(b) {
                a.mouse_leave(b);
            }), this.search_results.mouseup(function(b) {
                a.search_results_mouseup(b);
            }), this.search_results.mouseover(function(b) {
                a.search_results_mouseover(b);
            }), this.search_results.mouseout(function(b) {
                a.search_results_mouseout(b);
            }), this.search_results.bind("mousewheel DOMMouseScroll", function(b) {
                a.search_results_mousewheel(b);
            }), this.form_field_jq.bind("liszt:updated", function(b) {
                a.results_update_field(b);
            }), this.form_field_jq.bind("liszt:activate", function(b) {
                a.activate_field(b);
            }), this.form_field_jq.bind("liszt:open", function(b) {
                a.container_mousedown(b);
            }), this.search_field.blur(function(b) {
                a.input_blur(b);
            }), this.search_field.keyup(function(b) {
                a.keyup_checker(b);
            }), this.search_field.keydown(function(b) {
                a.keydown_checker(b);
            }), this.search_field.focus(function(b) {
                a.input_focus(b);
            }), this.is_multiple ? this.search_choices.click(function(b) {
                a.choices_click(b);
            }) : this.container.click(function(a) {
                a.preventDefault();
            });
        }, d.prototype.search_field_disabled = function() {
            this.is_disabled = this.form_field_jq[0].disabled;
            if (this.is_disabled) return this.container.addClass("chzn-disabled"), this.search_field[0].disabled = !0, 
            this.is_multiple || this.selected_item.unbind("focus", this.activate_action), this.close_field();
            this.container.removeClass("chzn-disabled"), this.search_field[0].disabled = !1;
            if (!this.is_multiple) return this.selected_item.bind("focus", this.activate_action);
        }, d.prototype.container_mousedown = function(b) {
            if (!this.is_disabled) {
                b && b.type === "mousedown" && !this.results_showing && b.preventDefault();
                if (b == null || !a(b.target).hasClass("search-choice-close")) return this.active_field ? !this.is_multiple && b && (a(b.target)[0] === this.selected_item[0] || a(b.target).parents("a.chzn-single").length) && (b.preventDefault(), 
                this.results_toggle()) : (this.is_multiple && this.search_field.val(""), a(document).click(this.click_test_action), 
                this.results_show()), this.activate_field();
            }
        }, d.prototype.container_mouseup = function(a) {
            if (a.target.nodeName === "ABBR" && !this.is_disabled) return this.results_reset(a);
        }, d.prototype.search_results_mousewheel = function(a) {
            var b, c, d;
            b = -((c = a.originalEvent) != null ? c.wheelDelta : void 0) || ((d = a.originialEvent) != null ? d.detail : void 0);
            if (b != null) return a.preventDefault(), a.type === "DOMMouseScroll" && (b *= 40), 
            this.search_results.scrollTop(b + this.search_results.scrollTop());
        }, d.prototype.blur_test = function(a) {
            if (!this.active_field && this.container.hasClass("chzn-container-active")) return this.close_field();
        }, d.prototype.close_field = function() {
            return a(document).unbind("click", this.click_test_action), this.active_field = !1, 
            this.results_hide(), this.container.removeClass("chzn-container-active"), this.winnow_results_clear(), 
            this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale();
        }, d.prototype.activate_field = function() {
            return this.container.addClass("chzn-container-active"), this.active_field = !0, 
            this.search_field.val(this.search_field.val()), this.search_field.focus();
        }, d.prototype.test_active_click = function(b) {
            return a(b.target).parents("#" + this.container_id).length ? this.active_field = !0 : this.close_field();
        }, d.prototype.results_build = function() {
            var a, b, d, e, f;
            this.parsing = !0, this.results_data = c.SelectParser.select_to_array(this.form_field), 
            this.is_multiple && this.choices > 0 ? (this.search_choices.find("li.search-choice").remove(), 
            this.choices = 0) : this.is_multiple || (this.selected_item.addClass("chzn-default").find("span").text(this.default_text), 
            this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? this.container.addClass("chzn-container-single-nosearch") : this.container.removeClass("chzn-container-single-nosearch")), 
            a = "", f = this.results_data;
            for (d = 0, e = f.length; d < e; d++) b = f[d], b.group ? a += this.result_add_group(b) : b.empty || (a += this.result_add_option(b), 
            b.selected && this.is_multiple ? this.choice_build(b) : b.selected && !this.is_multiple && (this.selected_item.removeClass("chzn-default").find("span").text(b.text), 
            this.allow_single_deselect && this.single_deselect_control_build()));
            return this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), 
            this.search_results.html(a), this.parsing = !1;
        }, d.prototype.result_add_group = function(b) {
            return b.disabled ? "" : (b.dom_id = this.container_id + "_g_" + b.array_index, 
            '<li id="' + b.dom_id + '" class="group-result">' + a("<div />").text(b.label).html() + "</li>");
        }, d.prototype.result_do_highlight = function(a) {
            var b, c, d, e, f;
            if (a.length) {
                this.result_clear_highlight(), this.result_highlight = a, this.result_highlight.addClass("highlighted"), 
                d = parseInt(this.search_results.css("maxHeight"), 10), f = this.search_results.scrollTop(), 
                e = d + f, c = this.result_highlight.position().top + this.search_results.scrollTop(), 
                b = c + this.result_highlight.outerHeight();
                if (b >= e) return this.search_results.scrollTop(b - d > 0 ? b - d : 0);
                if (c < f) return this.search_results.scrollTop(c);
            }
        }, d.prototype.result_clear_highlight = function() {
            return this.result_highlight && this.result_highlight.removeClass("highlighted"), 
            this.result_highlight = null;
        }, d.prototype.results_show = function() {
            if (this.result_single_selected != null) this.result_do_highlight(this.result_single_selected); else if (this.is_multiple && this.max_selected_options <= this.choices) return this.form_field_jq.trigger("liszt:maxselected", {
                chosen: this
            }), !1;
            return this.container.addClass("chzn-with-drop"), this.form_field_jq.trigger("liszt:showing_dropdown", {
                chosen: this
            }), this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), 
            this.winnow_results();
        }, d.prototype.results_hide = function() {
            return this.result_clear_highlight(), this.container.removeClass("chzn-with-drop"), 
            this.form_field_jq.trigger("liszt:hiding_dropdown", {
                chosen: this
            }), this.results_showing = !1;
        }, d.prototype.set_tab_index = function(a) {
            var b;
            if (this.form_field_jq.attr("tabindex")) return b = this.form_field_jq.attr("tabindex"), 
            this.form_field_jq.attr("tabindex", -1), this.search_field.attr("tabindex", b);
        }, d.prototype.set_label_behavior = function() {
            var b = this;
            this.form_field_label = this.form_field_jq.parents("label"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = a("label[for=" + this.form_field.id + "]"));
            if (this.form_field_label.length > 0) return this.form_field_label.click(function(a) {
                return b.is_multiple ? b.container_mousedown(a) : b.activate_field();
            });
        }, d.prototype.show_search_field_default = function() {
            return this.is_multiple && this.choices < 1 && !this.active_field ? (this.search_field.val(this.default_text), 
            this.search_field.addClass("default")) : (this.search_field.val(""), this.search_field.removeClass("default"));
        }, d.prototype.search_results_mouseup = function(b) {
            var c;
            c = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first();
            if (c.length) return this.result_highlight = c, this.result_select(b), this.search_field.focus();
        }, d.prototype.search_results_mouseover = function(b) {
            var c;
            c = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first();
            if (c) return this.result_do_highlight(c);
        }, d.prototype.search_results_mouseout = function(b) {
            if (a(b.target).hasClass("active-result")) return this.result_clear_highlight();
        }, d.prototype.choice_build = function(b) {
            var c, d, e, f = this;
            return this.is_multiple && this.max_selected_options <= this.choices ? (this.form_field_jq.trigger("liszt:maxselected", {
                chosen: this
            }), !1) : (c = this.container_id + "_c_" + b.array_index, this.choices += 1, b.disabled ? d = '<li class="search-choice search-choice-disabled" id="' + c + '"><span>' + b.html + "</span></li>" : d = '<li class="search-choice" id="' + c + '"><span>' + b.html + '</span><a href="javascript:void(0)" class="search-choice-close" rel="' + b.array_index + '"></a></li>', 
            this.search_container.before(d), e = a("#" + c).find("a").first(), e.click(function(a) {
                return f.choice_destroy_link_click(a);
            }));
        }, d.prototype.choice_destroy_link_click = function(b) {
            b.preventDefault(), b.stopPropagation();
            if (!this.is_disabled) return this.choice_destroy(a(b.target));
        }, d.prototype.choice_destroy = function(a) {
            if (this.result_deselect(a.attr("rel"))) return this.choices -= 1, this.show_search_field_default(), 
            this.is_multiple && this.choices > 0 && this.search_field.val().length < 1 && this.results_hide(), 
            a.parents("li").first().remove(), this.search_field_scale();
        }, d.prototype.results_reset = function() {
            this.form_field.options[0].selected = !0, this.selected_item.find("span").text(this.default_text), 
            this.is_multiple || this.selected_item.addClass("chzn-default"), this.show_search_field_default(), 
            this.results_reset_cleanup(), this.form_field_jq.trigger("change");
            if (this.active_field) return this.results_hide();
        }, d.prototype.results_reset_cleanup = function() {
            return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find("abbr").remove();
        }, d.prototype.result_select = function(a) {
            var b, c, d, e;
            if (this.result_highlight) return b = this.result_highlight, c = b.attr("id"), this.result_clear_highlight(), 
            this.is_multiple ? this.result_deactivate(b) : (this.search_results.find(".result-selected").removeClass("result-selected"), 
            this.result_single_selected = b, this.selected_item.removeClass("chzn-default")), 
            b.addClass("result-selected"), e = c.substr(c.lastIndexOf("_") + 1), d = this.results_data[e], 
            d.selected = !0, this.form_field.options[d.options_index].selected = !0, this.is_multiple ? this.choice_build(d) : (this.selected_item.find("span").first().text(d.text), 
            this.allow_single_deselect && this.single_deselect_control_build()), (!a.metaKey && !a.ctrlKey || !this.is_multiple) && this.results_hide(), 
            this.search_field.val(""), (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger("change", {
                selected: this.form_field.options[d.options_index].value
            }), this.current_selectedIndex = this.form_field.selectedIndex, this.search_field_scale();
        }, d.prototype.result_activate = function(a) {
            return a.addClass("active-result");
        }, d.prototype.result_deactivate = function(a) {
            return a.removeClass("active-result");
        }, d.prototype.result_deselect = function(b) {
            var c, d;
            return d = this.results_data[b], this.form_field.options[d.options_index].disabled ? !1 : (d.selected = !1, 
            this.form_field.options[d.options_index].selected = !1, c = a("#" + this.container_id + "_o_" + b), 
            c.removeClass("result-selected").addClass("active-result").show(), this.result_clear_highlight(), 
            this.winnow_results(), this.form_field_jq.trigger("change", {
                deselected: this.form_field.options[d.options_index].value
            }), this.search_field_scale(), !0);
        }, d.prototype.single_deselect_control_build = function() {
            if (this.allow_single_deselect && this.selected_item.find("abbr").length < 1) return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>');
        }, d.prototype.winnow_results = function() {
            var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s;
            this.no_results_clear(), j = 0, k = this.search_field.val() === this.default_text ? "" : a("<div/>").text(a.trim(this.search_field.val())).html(), 
            g = this.search_contains ? "" : "^", f = new RegExp(g + k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), "i"), 
            n = new RegExp(k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), "i"), s = this.results_data;
            for (o = 0, q = s.length; o < q; o++) {
                c = s[o];
                if (!c.disabled && !c.empty) if (c.group) a("#" + c.dom_id).css("display", "none"); else if (!this.is_multiple || !c.selected) {
                    b = !1, i = c.dom_id, h = a("#" + i);
                    if (f.test(c.html)) b = !0, j += 1; else if (this.enable_split_word_search && (c.html.indexOf(" ") >= 0 || c.html.indexOf("[") === 0)) {
                        e = c.html.replace(/\[|\]/g, "").split(" ");
                        if (e.length) for (p = 0, r = e.length; p < r; p++) d = e[p], f.test(d) && (b = !0, 
                        j += 1);
                    }
                    b ? (k.length ? (l = c.html.search(n), m = c.html.substr(0, l + k.length) + "</em>" + c.html.substr(l + k.length), 
                    m = m.substr(0, l) + "<em>" + m.substr(l)) : m = c.html, h.html(m), this.result_activate(h), 
                    c.group_array_index != null && a("#" + this.results_data[c.group_array_index].dom_id).css("display", "list-item")) : (this.result_highlight && i === this.result_highlight.attr("id") && this.result_clear_highlight(), 
                    this.result_deactivate(h));
                }
            }
            return j < 1 && k.length ? this.no_results(k) : this.winnow_results_set_highlight();
        }, d.prototype.winnow_results_clear = function() {
            var b, c, d, e, f;
            this.search_field.val(""), c = this.search_results.find("li"), f = [];
            for (d = 0, e = c.length; d < e; d++) b = c[d], b = a(b), b.hasClass("group-result") ? f.push(b.css("display", "auto")) : !this.is_multiple || !b.hasClass("result-selected") ? f.push(this.result_activate(b)) : f.push(void 0);
            return f;
        }, d.prototype.winnow_results_set_highlight = function() {
            var a, b;
            if (!this.result_highlight) {
                b = this.is_multiple ? [] : this.search_results.find(".result-selected.active-result"), 
                a = b.length ? b.first() : this.search_results.find(".active-result").first();
                if (a != null) return this.result_do_highlight(a);
            }
        }, d.prototype.no_results = function(b) {
            var c;
            return c = a('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>'), 
            c.find("span").first().html(b), this.search_results.append(c);
        }, d.prototype.no_results_clear = function() {
            return this.search_results.find(".no-results").remove();
        }, d.prototype.keydown_arrow = function() {
            var b, c;
            this.result_highlight ? this.results_showing && (c = this.result_highlight.nextAll("li.active-result").first(), 
            c && this.result_do_highlight(c)) : (b = this.search_results.find("li.active-result").first(), 
            b && this.result_do_highlight(a(b)));
            if (!this.results_showing) return this.results_show();
        }, d.prototype.keyup_arrow = function() {
            var a;
            if (!this.results_showing && !this.is_multiple) return this.results_show();
            if (this.result_highlight) return a = this.result_highlight.prevAll("li.active-result"), 
            a.length ? this.result_do_highlight(a.first()) : (this.choices > 0 && this.results_hide(), 
            this.result_clear_highlight());
        }, d.prototype.keydown_backstroke = function() {
            var a;
            if (this.pending_backstroke) return this.choice_destroy(this.pending_backstroke.find("a").first()), 
            this.clear_backstroke();
            a = this.search_container.siblings("li.search-choice").last();
            if (a.length && !a.hasClass("search-choice-disabled")) return this.pending_backstroke = a, 
            this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus");
        }, d.prototype.clear_backstroke = function() {
            return this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus"), 
            this.pending_backstroke = null;
        }, d.prototype.keydown_checker = function(a) {
            var b, c;
            b = (c = a.which) != null ? c : a.keyCode, this.search_field_scale(), b !== 8 && this.pending_backstroke && this.clear_backstroke();
            switch (b) {
              case 8:
                this.backstroke_length = this.search_field.val().length;
                break;

              case 9:
                this.results_showing && !this.is_multiple && this.result_select(a), this.mouse_on_container = !1;
                break;

              case 13:
                a.preventDefault();
                break;

              case 38:
                a.preventDefault(), this.keyup_arrow();
                break;

              case 40:
                this.keydown_arrow();
            }
        }, d.prototype.search_field_scale = function() {
            var b, c, d, e, f, g, h, i;
            if (this.is_multiple) {
                c = 0, g = 0, e = "position:absolute; left: -1000px; top: -1000px; display:none;", 
                f = [ "font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing" ];
                for (h = 0, i = f.length; h < i; h++) d = f[h], e += d + ":" + this.search_field.css(d) + ";";
                return b = a("<div />", {
                    style: e
                }), b.text(this.search_field.val()), a("body").append(b), g = b.width() + 25, b.remove(), 
                this.f_width || (this.f_width = this.container.outerWidth()), g > this.f_width - 10 && (g = this.f_width - 10), 
                this.search_field.css({
                    width: g + "px"
                });
            }
        }, d.prototype.generate_random_id = function() {
            var b;
            b = "sel" + this.generate_random_char() + this.generate_random_char() + this.generate_random_char();
            while (a("#" + b).length > 0) b += this.generate_random_char();
            return b;
        }, d;
    }(AbstractChosen), c.Chosen = b;
}.call(this);

var Runalyze = function(a, b) {
    var c = {};
    var d = {
        dontReloadForConfigFlag: "dont-reload-for-config",
        dontReloadForTrainingFlag: "dont-reload-for-training"
    };
    var e;
    var f = [];
    var g = [];
    var h = false;
    function i(b) {
        d = a.extend({}, d, b);
    }
    function j() {
        e = a("body");
    }
    function k() {
        a.ajaxSetup({
            error: function(a, b) {
                if ("status" in a) {
                    if (a.status == 404) {
                        c.Log.add("ERROR", "There was an error 404: The requested resource could not be found.");
                    } else if (a.status == 500) {
                        c.Log.add("ERROR", "There was an error 500: Internal Server Error.");
                    }
                }
            }
        });
    }
    function l() {
        a(window).resize(function() {
            if (typeof RunalyzePlot != "undefined") {
                RunalyzePlot.resizeTrainingCharts();
                RunalyzePlot.setFullscreenSize();
            }
        });
    }
    function m() {
        c.addLoadHook("create-flot", c.createFlot);
        c.addLoadHook("resize-trainings", RunalyzePlot.resizeTrainingCharts);
    }
    function n() {
        for (key in f) {
            f[key]();
        }
    }
    function o() {
        for (key in g) {
            g[key]();
        }
    }
    function p() {
        c.DataBrowser.reload();
        c.Statistics.reload();
        c.Panels.reloadAll(d.dontReloadForConfigFlag);
    }
    function q() {
        c.DataBrowser.reload();
        c.Statistics.reload();
        c.Panels.reloadAll(d.dontReloadForTrainingFlag);
    }
    c.addInitHook = function(a, b) {
        f[a] = b;
    };
    c.addLoadHook = function(a, b) {
        g[a] = b;
    };
    c.init = function(a) {
        i(a);
        j();
        if (!h) {
            k();
            l();
        }
        m();
        n();
        o();
        h = true;
    };
    c.reinit = function() {
        o();
    };
    c.body = function() {
        return e;
    };
    c.isReady = function() {
        return h;
    };
    c.hasContainer = function() {
        return a("#container, #data-browser, #statistics-inner").length > 0;
    };
    c.createFlot = function() {
        a(document).trigger("createFlot");
    };
    c.flotChange = function(b, d) {
        a(".flotChanger-" + b).addClass("unimportant");
        a(".flotChanger-id-" + d).removeClass("unimportant");
        a("#" + b + " .flot").addClass("flot-hide");
        a("#" + b + " #" + d).removeClass("flot-hide");
        c.createFlot();
        RunalyzePlot.resize(d);
    };
    c.toggleFieldset = function(b, d, e, f) {
        b.blur();
        var g = a("#" + d);
        if (e === true) {
            g.siblings().addClass("collapsed");
            g.removeClass("collapsed");
        } else g.toggleClass("collapsed");
        if (f.length > 0) c.Config.setActivityFormLegend(f, !g.hasClass("collapsed"));
        return false;
    };
    c.goToNextMultiEditor = function() {
        var b = a("#ajax-navigation tr.highlight");
        if (b.next().length) {
            b.next().click();
        } else {
            var c = b.siblings(":not(.edited):first");
            if (c.length) c.click(); else b.click();
        }
    };
    c.reloadPage = function() {
        location.reload();
    };
    c.reloadContent = function() {
        var b = a("#container").addClass(c.Options.loadingClass());
        var d = "index.php?";
        var e = c.DataBrowser.currentTimes();
        if (c.Statistics.showsTraining()) {
            d = d + "id=" + c.Statistics.currentId();
        } else {
            d = d + "pluginid=" + c.Statistics.currentId();
        }
        d = d + "&start=" + e.start + "&end=" + e.end + " #container > *";
        a.ajax({
            url: d
        }).done(function(d) {
            var e = a("<div />").html(d).find("#container > *");
            a("#container").html(e);
            c.init();
            b.hide().removeClass(c.Options.loadingClass()).fadeIn();
        }).fail(function(b) {
            a("#container").html('<p class="error">There was an error: ' + b.status + " " + b.statusText + "</p>");
        });
    };
    c.reloadAllPlugins = function(a) {
        if (typeof a == "undefined" || a == "") {
            c.Statistics.reload();
            c.Panels.reloadAll();
        } else {
            c.reloadPlugin(a);
        }
    };
    c.reloadDataBrowserAndTraining = function() {
        c.DataBrowser.reload();
        c.Training.reload();
    };
    c.reloadPlugin = function(a) {
        if (c.Statistics.shows(a)) c.Statistics.reload(); else c.Panels.load(a);
    };
    return c;
}(jQuery, undefined);

(function(a, b) {
    a.fn.extend({
        loadDiv: function(a, c, d) {
            if (a == "#") return this;
            var e = this;
            return e.addClass(b.Options.loadingClass()).load(a, c, function(a, c, f) {
                if (c == "error") {
                    e.html('<p class="error">There was an error: ' + f.status + " " + f.statusText + "</p>");
                }
                if (e.attr("id") == "ajax") {
                    b.reinit();
                    b.Overlay.addCloseButton();
                    e.removeClass(b.Options.loadingClass());
                } else {
                    b.reinit();
                    e.hide().removeClass(b.Options.loadingClass()).fadeIn();
                }
                if (d) {
                    if (d.success) {
                        d.success();
                    }
                }
            });
        }
    });
})(jQuery, Runalyze);

var RunalyzePlot = function(a, b) {
    var c = {};
    var d = {};
    var e = {};
    var f = {};
    var g = {
        options: {
            takeMaxWidth: true,
            minWidthForContainer: 450,
            maxWidthForSmallSize: 550,
            fixedWidth: false,
            defaultWidth: 478,
            width: 478
        }
    };
    var h = {};
    var j = {
        defaultPlotOptions: {
            showLegend: true,
            enableCrosshair: true,
            enableSelection: true,
            enablePanning: false
        },
        waitClass: "wait-img"
    };
    var k = {
        colors: [ "#C61D17", "#E68617", "#8A1196", "#E6BE17", "#38219F" ],
        legend: {
            backgroundColor: "#000",
            backgroundOpacity: 0,
            margin: [ 0, -25 ],
            noColumns: 99
        },
        series: {
            stack: null,
            points: {
                radius: 1,
                lineWidth: 3
            },
            lines: {
                lineWidth: 1,
                steps: false
            },
            bars: {
                lineWidth: 1,
                barWidth: .6,
                align: "center",
                fill: .9
            },
            curvedLines: {
                active: true,
                apply: false,
                fit: false,
                curvePointFactor: 5
            }
        },
        yaxis: {
            color: "rgba(0,0,0,0.1)"
        },
        xaxis: {
            color: "rgba(0,0,0,0.1)",
            monthNames: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
        },
        grid: {
            color: "#000",
            backgroundColor: "rgba(255,255,255,0.5)",
            borderColor: {
                top: "transparent",
                right: "#999",
                bottom: "#999",
                left: "#999"
            },
            minBorderMargin: 5,
            borderWidth: 1,
            labelMargin: 5,
            axisMargin: 2,
            margin: {
                top: 30,
                right: 0,
                bottom: 0,
                left: 0
            }
        },
        canvas: true,
        font: "Verdana 9px"
    };
    function l(b) {
        b.legend.show = true;
        b.legend.position = "nw";
        b.legend.hideable = true;
        b.grid.hoverable = true;
        b.grid.autoHighlight = false;
        b.crosshair = {
            mode: "x"
        };
        if (!b.series.bars.show) {
            b.crosshair = {
                color: "rgba(0, 0, 0, 0.80)",
                lineWidth: 1,
                mode: "x"
            };
            b.selection = a.extend({}, b.selection, {
                mode: "x",
                color: "rgba(170, 0, 0, 0.5)"
            });
        } else {
            b.series.curvedLines.apply = false;
        }
        if (b.hooks && b.hooks.draw) {
            b.hooks.draw.push(m);
        } else {
            b.hooks = {
                draw: [ m ]
            };
        }
        return b;
    }
    function m(b, c) {
        var e = b.getPlaceholder().attr("id");
        if (typeof d[e] !== "undefined") {
            t(e);
            if (!d[e].showLegend) a("#" + e + " .legend").hide();
        } else {
            var f = a("#" + e + " .legend");
            if (f.find(".legendLabel").length == 1) f.hide();
        }
    }
    function n() {
        a(".training-row-plot .flot").each(function() {
            if (a(this).width() != g.options.width) {
                a(this).width(g.options.width);
                p(a(this).attr("id"));
            }
        });
    }
    function o(a) {
        d[a].setupGrid();
        d[a].draw();
    }
    function p(b) {
        if (b in d && a("#" + b).is(":visible")) {
            d[b].resize();
            d[b].setupGrid();
            d[b].draw();
            f[b] = a("#" + b).width();
        }
    }
    function q(b) {
        if (d.hasOwnProperty(b)) {
            var e = c.getPlot(b).annotations;
            for (i in e) {
                if (e[i].x != null && e[i].y != null) {
                    e[i].id = "annotation-" + b + e[i].x.toString().replace(".", "") + e[i].y.toString().replace(".", "");
                    a("#" + b).append('<div id="' + e[i].id + '" class="annotation">' + e[i].text + "</div>");
                    r(b, e[i]);
                }
            }
        }
    }
    function r(b, d) {
        var e = a("#" + d.id), f = c.getPlot(b).pointOffset({
            x: d.x,
            y: d.y
        });
        e.css({
            left: f.left + d.toX + "px",
            top: f.top + d.toY + "px"
        });
        if (f.top + d.toY < 0) e.hide();
    }
    function s() {
        for (key in d) t(key);
    }
    function t(a) {
        for (i in d[a].annotations) r(a, d[a].annotations[i]);
    }
    c.setOptions = function(b) {
        j = a.extend({}, j, b);
        return c;
    };
    c.resize = function(a) {
        p(a);
    };
    c.resizeAll = function() {
        for (key in d) p(key);
        return c;
    };
    c.clear = function() {
        for (key in d) c.remove(key);
        return c;
    };
    c.resizeTrainingCharts = function() {
        if (a(".training-row-plot:first").length == 0) return;
        g.options.width = a(".training-row-plot:visible:first").width() - 24;
        n();
    };
    c.addInitHook = function(a, b) {
        h[a] = b;
    };
    c.preparePlot = function(b, c, d, f) {
        delete e.cssId;
        a(document).off("createFlot." + b).on("createFlot." + b, function() {
            var g = a("#" + b);
            if (!e.hasOwnProperty(b) && g.width() > 0 && g.is(":visible") && !g.hasClass("flot-hide")) {
                e.cssId = true;
                g.width(c).height(d);
                f();
                q(b);
                g.removeClass(j.waitClass);
                a(document).off("createFlot." + b);
            }
        });
    };
    c.addPlot = function(b, e, i, m, n) {
        var o = a("#" + b);
        if (b in d && o.length == 0) c.remove(b);
        if (a(".training-row-plot").has(o).length) o.width(g.options.width);
        i = a.extend(true, {}, k, i);
        i = l(i);
        f[b] = o.width();
        d[b] = a.plot(o, e, i);
        d[b].options = a.extend(true, {}, j.defaultPlotOptions, m);
        d[b].showLegend = o.find(".legendLabel").length > 1;
        if (typeof n != "undefined") d[b].annotations = n; else d[b].annotations = [];
        for (key in h) h[key](b);
        return c;
    };
    c.getPlot = function(a) {
        return d[a];
    };
    c.remove = function(a) {
        if (a in d) {
            d[a].shutdown();
            delete d[a];
        }
        return c;
    };
    c.toggleLegend = function(b) {
        a("#" + b + " .legend").toggle();
        d[b].showLegend = !d[b].showLegend;
    };
    c.toggleSelection = function(b) {
        var d = c.getPlot(b).getOptions().selection.mode == "x";
        c.getPlot(b).getOptions().selection.mode = d ? null : "x";
        if (d) {
            this.getPlot(b).clearSelection();
            a("#" + b + " .map-tooltip").hide();
        }
    };
    c.toggleCrosshair = function(b) {
        var d = c.getPlot(b).getOptions().crosshair.mode == "x";
        c.getPlot(b).getOptions().crosshair.mode = d ? null : "x";
        if (d) a("#" + b + " .map-tooltip").hide();
    };
    c.togglePanning = function(a) {};
    c.toggleFullscreen = function(b) {
        var d = a("#" + b);
        d.toggleClass("fullscreen");
        a("#" + b + " .flot-settings-fullscreen, #" + b + " .flot-settings-fullscreen-hide").toggleClass("hide");
        if (d.hasClass("fullscreen")) {
            d.attr("data-width", d.width());
            d.attr("data-height", d.height());
            c.setFullscreenSize();
        } else {
            d.css({
                width: d.attr("data-width"),
                height: d.attr("data-height")
            });
        }
        p(b);
    };
    c.setFullscreenSize = function() {
        var b = a(".flot.fullscreen");
        if (b.length) {
            b.css({
                width: a(window).width() - (b.outerWidth(true) - b.width()),
                height: a(window).height() - (b.outerHeight(true) - b.height())
            });
            p(b.attr("id"));
        }
    };
    c.flotHookColorPoints = function(a, b, c) {
        return function(d, e) {
            var f = d.getData();
            var g = d.getAxes();
            var h = d.getPlotOffset();
            var i = d.getOptions().series.points.lineWidth;
            var j = i;
            for (var k = 0; k < f.length; k++) {
                var l = f[k];
                for (var m = 0; m < l.data.length; m++) {
                    var n = l.data[m];
                    var o = h.left + g.xaxis.p2c(n[0]);
                    var p = h.top + g.yaxis.p2c(n[1]);
                    var q = c;
                    for (var r = 0; r < a.length; r++) {
                        if (n[1] > a[r]) {
                            q = b[r];
                            break;
                        }
                    }
                    e.lineWidth = i;
                    e.beginPath();
                    e.arc(o, p, j, 0, Math.PI * 2, true);
                    e.closePath();
                    e.fillStyle = q;
                    e.fill();
                }
            }
        };
    };
    return c;
}(jQuery, undefined);

RunalyzePlot.Options = function(a, b) {
    var c = {};
    var d = {
        cssClass: "flot-options",
        cssClassOption: "flot-option"
    };
    function e(b) {
        return a("#" + b + " ." + d.cssClass);
    }
    function f(b) {
        a("#" + b).append('<div class="' + d.cssClass + '"/>');
        h(b);
        i(b);
        j(b);
        k(b);
        l(b);
        m(b);
    }
    function g(b, c, f, g, h) {
        var i = a('<div class="' + d.cssClassOption + '"><i class="' + c + '" title="' + f + '"/></div>').appendTo(e(b)).click(function() {
            g(this);
        });
        if (h) h(i, b);
    }
    function h(a) {
        g(a, "fa fa-fw fa-expand", "Fullscreen mode", function() {
            b.toggleFullscreen(a);
        });
    }
    function i(a) {
        g(a, "fa fa-fw fa-floppy-o", "Save plot", function() {
            b.Saver.save(a);
        });
    }
    function j(c) {
        g(c, "fa fa-fw fa-list-ul", "Toggle legend", function(d) {
            b.toggleLegend(c);
            a(d).toggleClass("option-toggled");
        }, function(b) {
            var d = a("#" + c + " .legend");
            if (!d.length) b.remove(); else if (!d.is(":visible")) b.addClass("option-toggled");
        });
    }
    function k(c) {
        g(c, "fa fa-fw fa-tag", "Toggle annotations", function(b) {
            a(b).toggleClass("option-toggled");
            a("#" + c + " .annotation").toggle();
        }, function(a) {
            if (!b.getPlot(c).annotations.length) a.remove();
        });
    }
    function l(c) {
        g(c, "fa fa-fw fa-crosshairs", "Toggle crosshair", function(d) {
            a(d).toggleClass("option-toggled");
            b.toggleCrosshair(c);
        }, function(a) {
            if (b.getPlot(c).getOptions().series.bars.show) a.remove(); else if (!b.getPlot(c).options.enableCrosshair) a.addClass("option-toggled");
        });
    }
    function m(c) {
        g(c, "fa fa-fw fa-crop", "Toggle selection", function(d) {
            a(d).toggleClass("option-toggled");
            b.toggleSelection(c);
        }, function(a) {
            if (b.getPlot(c).getOptions().series.bars.show) a.remove(); else if (!b.getPlot(c).options.enableSelection) a.addClass("option-toggled");
        });
    }
    function n(c) {
        g(c, "fa fa-fw fa-arrows", "Toggle panning", function(d) {
            a("#" + c + " .zooming-link").parent().toggle();
            a(d).toggleClass("option-toggled");
            b.togglePanning(c);
        }, function(a) {
            if (!b.getPlot(c).options.enablePanning) a.addClass("option-toggled");
        });
    }
    function o(a) {
        g(a, "fa fa-fw fa-search-plus zooming-link", "Zoom in", function(c) {
            b.getPlot(a).zoom();
        }, function(c) {
            if (!b.getPlot(a).options.enablePanning) c.hide();
        });
        g(a, "fa fa-fw fa-search-minus zooming-link", "Zoom out", function(c) {
            b.getPlot(a).zoomOut();
        }, function(c) {
            if (!b.getPlot(a).options.enablePanning) c.hide();
        });
    }
    c.init = function(a) {
        f(a);
        return c;
    };
    b.addInitHook("init-options", c.init);
    return c;
}(jQuery, RunalyzePlot);

RunalyzePlot.Saver = function(a, b) {
    var c = {};
    var d = false, e = {
        bgColor: "#ffffff",
        annotationBgColor: "#000000",
        annotationTextColor: "#ffffff",
        filename: "Plot.png",
        callback: "call/savePng.php",
        errorMessage: "Sorry, your browser is not able to save images from canvas."
    };
    function f() {
        if (!d) {
            a("body").append('<form style="display:none;" action="' + e.callback + '" method="post" target="save-png-frame" id="save-png-form">' + '<input type="hidden" name="filename" value="' + e.filename + '">' + '<input type="hidden" name="image" id="save-png-input" value="">' + '</form><iframe style="display:none;" name="save-png-frame" src="" width="1" height="1"></iframe>');
            d = true;
        }
    }
    function g(a, b) {
        a.getOptions().grid.canvasText.show = b;
        a.setupGrid();
        a.draw();
    }
    c.save = function(c) {
        var d = b.getPlot(c), h = a("#" + c + " canvas.flot-base")[0], i = document.createElement("canvas");
        f();
        if (h.getContext) {
            g(d, true);
            var j = i.getContext("2d"), k = h.height, l = h.width;
            i.height = k;
            i.width = l;
            j.height = k;
            j.width = l;
            j.fillStyle = e.bgColor;
            j.fillRect(0, 0, l, k);
            j.drawImage(h, 0, 0);
            a("#" + c + " .annotation").each(function() {
                var b = a(this).position(), c = a(this).width(), d = a(this).height(), f = a(this).text();
                j.fillStyle = e.annotationBgColor;
                j.fillRect(b.left + 2, b.top + 2, c, d);
                j.fillStyle = e.annotationTextColor;
                j.textAlign = "left";
                j.fillText(f, b.left + 2, b.top + d - 1);
            });
            a("#save-png-input").val(i.toDataURL("image/png"));
            a("#save-png-form").submit();
            g(d, false);
        } else {
            window.alert(e.errorMessage);
        }
    };
    return c;
}(jQuery, RunalyzePlot);

RunalyzePlot.Events = function(a, b) {
    var c = {};
    var d = {
        atString: "at",
        completeString: "Total",
        tooltipClass: "tooltip",
        tooltipInnerClass: "tooltip-inner"
    };
    function e(b) {
        return a("#" + b + " ." + d.tooltipClass);
    }
    function f(b) {
        a("#" + b).append('<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>');
    }
    function g(a, b) {
        return a + ": <span>" + b + "</span><br>";
    }
    function h(b) {
        a("#" + b).bind("plothover", j(b));
        a("#" + b).bind("mouseleave", l);
    }
    function i(c) {
        var d = b.getPlot(c);
        d.selection = false;
        a("#" + c).bind("plotselected", m(c)).bind("plotunselected", function(a) {
            d.selection = false;
            e(c).removeClass("in").removeClass("right");
        });
    }
    function j(c) {
        return function(e, f, h) {
            var i = b.getPlot(c), j = i.getOptions(), l = i.getAxes(), m = {}, o = "", p = "", q, r, s;
            if (j.crosshair.mode != "x" || i.selection) return;
            if (j.series.points.show) {
                if (h) {
                    m.x = h.pageX;
                    m.y = h.pageY;
                    p = "top";
                    q = h.datapoint[0];
                    r = h.datapoint[1];
                    s = l.xaxis.max - l.xaxis.min;
                    if (l.xaxis.options.ticks != null && l.xaxis.options.ticks.length >= q + 1) {
                        q = l.xaxis.options.ticks[q][1];
                    } else if (l.xaxis.options.mode == "time" && s / 1e3 > 86400 * 2) {
                        q = new Date(q).toLocaleDateString();
                    } else {
                        if (l.xaxis.tickFormatter) {
                            q = l.xaxis.tickFormatter(Math.round(q * 100) / 100, l.xaxis);
                        }
                    }
                    o = o + g(d.atString, q) + g(h.series.label, h.series.yaxis.tickFormatter(Math.round(r * 100) / 100, h.series.yaxis));
                }
            } else if (j.series.bars.show) {
                if (h) {
                    if (j.series.stack) {
                        m.x = f.pageX + 15;
                        m.y = f.pageY + 10;
                        p = "right";
                        var t = i.getData(), u = 0, v = 0;
                        for (var w = 0; w < t.length; ++w) {
                            var x = t[w];
                            if (x.data.length == 0 || !x.bars.show) continue;
                            for (var y = 0; y < x.data.length; ++y) if (x.data[y][0] > f.x) break;
                            var z = x.data[y - 1], A = x.data[y];
                            if (z == null) r = A[1]; else if (A == null || Math.abs(A[0] - f.x) > Math.abs(f.x - z[0])) r = z[1]; else r = A[1];
                            v = v + 1;
                            u = u + parseFloat(r);
                            o = o + g(x.label, x.yaxis.tickFormatter(Math.round(r * 100) / 100, x.yaxis));
                        }
                        if (v > 1) {
                            o = g(d.completeString, x.yaxis.tickFormatter(Math.round(u * 100) / 100, x.yaxis)) + o;
                        }
                    } else {
                        m.x = h.pageX;
                        m.y = h.pageY;
                        p = "top";
                        r = h.datapoint[1] - h.datapoint[2];
                        if (i.getData().length > 0) o = h.series.label + ": ";
                        o = o + "<span>" + h.series.yaxis.tickFormatter(Math.round(r * 100) / 100, h.series.yaxis) + "</span>";
                    }
                }
            } else {
                if (f.x >= l.xaxis.min && f.x <= l.xaxis.max && f.y >= l.yaxis.min && f.y <= l.yaxis.max) {
                    m.x = f.pageX + 15;
                    m.y = f.pageY + 10;
                    p = "right";
                    s = l.xaxis.max - l.xaxis.min;
                    if (l.xaxis.options.mode == "time" && s / 1e3 > 86400 * 2) {
                        q = new Date(f.x).toLocaleDateString();
                    } else {
                        if (l.xaxis.tickFormatter) {
                            q = l.xaxis.tickFormatter(Math.round(f.x * 100) / 100, l.xaxis);
                        }
                    }
                    if (q) {
                        o = o + g(d.atString, q);
                    }
                    var t = i.getData();
                    for (var w = 0; w < t.length; ++w) {
                        var x = t[w];
                        if (x.data.length == 0) continue;
                        for (var y = 0; y < x.data.length; ++y) if (x.data[y][0] > f.x) break;
                        var z = x.data[y - 1], A = x.data[y];
                        if (z == null) r = A[1]; else if (A == null || Math.abs(A[0] - f.x) > Math.abs(f.x - z[0])) r = z[1]; else r = A[1];
                        o = o + g(x.label, x.yaxis.tickFormatter(Math.round(r * 100) / 100, x.yaxis));
                    }
                }
            }
            if (a(".training-row-plot").has(a("#" + c)).length && !j.series.bars.show) {
                if (i.getOptions().xaxis.mode != "time") {
                    k(f.x);
                } else {
                    var t = i.getData();
                    var B = t[t.length - 1];
                    for (y = 0; y < B.data.length; ++y) if (B.data[y][0] > f.x) break;
                    k(B.data[y][1]);
                }
            }
            n(c, m, o, p);
        };
    }
    function k(a) {
        if (RunalyzeLeaflet && RunalyzeLeaflet.Routes) {
            RunalyzeLeaflet.Routes.movePosMarker(a);
        }
    }
    function l() {
        if (RunalyzeLeaflet && RunalyzeLeaflet.Routes) {
            RunalyzeLeaflet.Routes.unsetPosMarker();
        }
    }
    function m(a) {
        return function(c, d, e) {
            var f = b.getPlot(a), h = true;
            h = f.getOptions().xaxis.mode != "time";
            f.selection = true;
            var i = f.getAxes(), j = "", k = parseFloat(d.xaxis.from.toFixed(1)), l = parseFloat(d.xaxis.to.toFixed(1));
            if (i.xaxis.tickFormatter) {
                if (h) j = j + g(i.xaxis.tickFormatter(k, i.xaxis) + " - " + i.xaxis.tickFormatter(l, i.xaxis), i.xaxis.tickFormatter(Math.round((l - k) * 10) / 10, i.xaxis)); else j = j + "<span>" + i.xaxis.tickFormatter(k, i.xaxis) + " - " + i.xaxis.tickFormatter(l, i.xaxis) + "</span><br>";
            }
            var m, o, p = f.getData();
            for (m = 0; m < p.length; ++m) {
                var q = p[m], r = 0, s = 0;
                for (o = 0; o < q.data.length; ++o) if (q.data[o][0] >= k && q.data[o][0] <= l) {
                    s = s + q.data[o][1];
                    r = r + 1;
                }
                j = j + g(q.label, "&oslash; " + q.yaxis.tickFormatter(Math.round(s * 100 / r) / 100, q.yaxis));
            }
            var t = {
                y: 15 + c.pageY,
                x: 15 + c.pageX
            };
            n(a, t, j, "right");
        };
    }
    function n(b, c, f, g) {
        if (c.hasOwnProperty("x") && c.hasOwnProperty("y")) {
            e(b).children("." + d.tooltipInnerClass).html(f);
            if (g == "top") {
                c.x = c.x - e(b).width() / 2;
                c.y = c.y - e(b).height() - 10;
            }
            e(b).css("top", c.y - a(document).scrollTop()).css("left", c.x - a(document).scrollLeft()).children("." + d.tooltipInnerClass).html(f).parent().addClass(g).addClass("in");
        } else {
            e(b).removeClass("in").removeClass(g);
        }
    }
    c.init = function(a) {
        f(a);
        h(a);
        i(a);
        return c;
    };
    b.addInitHook("init-events", c.init);
    return c;
}(jQuery, RunalyzePlot);

Runalyze.Tablesorter = function(a, b) {
    var c = {};
    var d = [];
    c.update = function() {
        for (var b = 0; b < d.length; b++) {
            if (a("#" + d[b]).length == 0) delete d[b];
        }
        return c;
    };
    c.has = function(b) {
        return a.inArray(b, d) != -1;
    };
    c.add = function(a) {
        d.push(a);
    };
    b.addLoadHook("update-tablesorter", c.update);
    return c;
}(jQuery, Runalyze);

(function(a, b, c) {
    var d = function(b) {
        return a.trim(a(b).text()).replace(/[\/km]/, "");
    };
    a.fn.extend({
        tablesorterAutosort: function(a) {
            var b = this.attr("id");
            if (typeof a == "undefined") {
                if (c.has(b)) {
                    this.trigger("update");
                    return this;
                }
                c.add(b);
            }
            return this.addClass("sortable").tablesorter({
                textExtraction: d
            });
        },
        tablesorterWithPager: function(b) {
            var e = this.attr("id");
            if (typeof b == "undefined") {
                if (c.has(e)) {
                    this.trigger("update");
                    return this;
                }
                c.add(e);
            }
            return this.addClass("sortable").tablesorter({
                textExtraction: d
            }).tablesorterPager({
                container: a("#pager"),
                output: "{page} / {totalPages}",
                positionFixed: false,
                size: 20
            });
        }
    });
    b.addParser({
        id: "germandate",
        is: function(a) {
            return false;
        },
        format: function(a) {
            var b = a.split(".");
            if (b.length < 2) return 0;
            b[1] = b[1].replace(/^[0]+/g, "");
            return new Date(b.reverse().join("/")).getTime();
        },
        type: "numeric"
    });
    b.addParser({
        id: "distance",
        is: function(a) {
            return false;
        },
        format: function(a) {
            if (a.indexOf("km") !== -1) return parseFloat(a.replace(/[ km]/g, "").replace(/[.]/g, "").replace(/[,]/g, "."));
            if (a.indexOf("m") !== -1) return parseFloat(a.replace(/[m]/g, "").replace(/[.]/g, "")) / 1e3;
            return parseFloat(a);
        },
        type: "numeric"
    });
    b.addParser({
        id: "temperature",
        is: function(a) {
            return false;
        },
        format: function(a) {
            if (isNaN(parseFloat(a)) || isFinite(a)) return -99;
            return a.replace(/[ C]/g, "");
        },
        type: "numeric"
    });
    b.addParser({
        id: "resulttime",
        is: function(a) {
            return false;
        },
        format: function(a) {
            var b, c, d;
            var e = a.split(",");
            var f = e[0].split(":");
            e = e.length > 1 ? e[1].replace(/[s]/g, "") : 0;
            if (f.length == 3) {
                b = f[0].split("d ");
                if (b.length == 2) c = 24 * parseInt(b[0]) + parseInt(b[1]); else c = b[0];
                d = f[1];
                a = f[2];
            } else if (f.length == 2) {
                c = 0;
                d = f[0];
                a = f[1];
            } else {
                c = 0;
                d = 0;
                a = f[0];
            }
            return c * 60 * 60 + d * 60 + a + e / 100;
        },
        type: "numeric"
    });
    b.addParser({
        id: "x",
        is: function(a) {
            return false;
        },
        format: function(a) {
            return a.replace(/[x]/g, "");
        },
        type: "numeric"
    });
    b.addParser({
        id: "order",
        is: function(a) {
            return false;
        },
        format: function(a) {
            return a.replace(/[(]/g, "99999").replace(/[.)]/g, "");
        },
        type: "numeric"
    });
})(jQuery, jQuery.tablesorter, Runalyze.Tablesorter);

Runalyze.Log = function(a, b) {
    var c = {};
    var d = "error-toolbar";
    var e = 0;
    var f = null;
    var g = null;
    function h(a) {
        return "log-" + a;
    }
    function i(a) {
        return '<span onclick="Runalyze.Log.remove(' + a + ');" class="link"><i class="fa fa-fw fa-times fa-grey"></i></span>';
    }
    function j() {
        if (f.children("tr").length == 0) g.hide(); else g.show();
    }
    c.init = function() {
        if (g) return;
        a("body").append('<div id="' + d + '" class="toolbar at-top"></div>');
        g = a("#" + d);
        var b = '<span onclick="Runalyze.Log.clear();" class="link"><i class="fa fa-fw fa-times"></i></span>', c = '<i class="fa fa-fw fa-minus-circle link margin-5" id="log-filter-ERROR" onclick="Runalyze.Log.filter(\'ERROR\');" />', e = '<i class="fa fa-fw fa-warning link margin-5" id="log-filter-WARNING" onclick="Runalyze.Log.filter(\'WARNING\');" />', h = '<i class="fa fa-fw fa-info-circle link margin-5" id="log-filter-INFO" onclick="Runalyze.Log.filter(\'INFO\');" />', i = c + e + h, k = '<table class="fullwidth nomargin"><thead><tr><th style="width:100px;">' + i + '</th><th>Errors</th><th style="width:70px;"></th><th style="width:3px;">' + b + '</th></thead><tbody id="errorTable"></tbody></table>';
        g.append('<div class="toolbar-content" style="max-height:200px;overflow-y:scroll;">' + k + "</div>");
        g.append('<div class="toolbar-nav"><div class="toolbar-opener"></div>');
        f = a("#errorTable");
        j();
    };
    c.remove = function(b) {
        a("#" + h(b)).remove();
        j();
        return c;
    };
    c.clear = function(a) {
        f.empty();
        j();
        return c;
    };
    c.filter = function(b) {
        a("#log-filter-" + b).toggleClass("unimportant");
        f.children("." + b).toggleClass("hide");
        if (b == "INFO") f.children(".TODO, .DEBUG, .NOTICE").toggleClass("hide");
    };
    c.addArray = function(a) {
        for (var b in a) c.add(a[b]["type"], a[b]["message"]);
    };
    c.add = function(a, d) {
        e++;
        f.prepend('<tr id="' + h(e) + '" class="' + a + '">' + '<td class="b errortype">' + a + "</td><td>" + d + "</td>" + '<td class="small">' + new Date().toTimeString().split(" ")[0] + "</td><td>" + i(e) + "</td></tr>");
        b.Feature.initToggle();
        j();
        return c;
    };
    b.addInitHook("init-log", c.init);
    return c;
}(jQuery, Runalyze);

Runalyze.Options = function(a, b) {
    var c = {};
    var d = {
        sharedView: false,
        fadeSpeed: 200,
        loadingClass: "loading",
        nokiaAuth: {
            app: "YOUR-APP-ID",
            token: "YOUR-APP-TOKEN"
        }
    };
    c.setNokiaLayerAuth = function(a, b) {
        d.nokiaAuth.app = a;
        d.nokiaAuth.token = b;
        return c;
    };
    c.nokiaAuth = function() {
        return d.nokiaAuth;
    };
    c.setSharedView = function(a) {
        d.sharedView = a || true;
        return c;
    };
    c.isSharedView = function() {
        return d.sharedView;
    };
    c.fadeSpeed = function() {
        return d.fadeSpeed;
    };
    c.loadingClass = function() {
        return d.loadingClass;
    };
    return c;
}(jQuery, Runalyze);

Runalyze.Config = function(a, b) {
    var c = {};
    function d(c, d) {
        if (!b.Options.isSharedView()) {
            a.ajax("call/ajax.change.Config.php?key=" + c + "&value=" + d);
        }
    }
    c.ignoreActivityID = function(a) {
        d("garmin-ignore", a);
    };
    c.setLeafletLayer = function(a) {
        d("leaflet-layer", a);
    };
    c.setActivityFormLegend = function(a, b) {
        d("show-" + a, b);
    };
    return c;
}(jQuery, Runalyze);

Runalyze.Overlay = function(a, b) {
    var c = {};
    var d = {
        selectorContainer: "#ajax",
        selectorBackground: "#overlay",
        selectorAll: "#overlay, #ajax, #ajax-navigation",
        selectorOuter: "#ajax-outer",
        selectorNavigation: "#ajax-navigation",
        classBig: "big-window",
        classSmall: "small-window",
        classFullscreen: "fullscreen",
        classBody: "overlay"
    };
    var e;
    var f;
    var g;
    var h;
    function i() {
        e = a(d.selectorContainer);
        f = a(d.selectorBackground);
        g = a(d.selectorAll);
        h = a(d.selectorOuter);
    }
    function j() {
        b.body().addClass(d.classBody);
    }
    function k() {
        b.body().removeClass(d.classBody);
    }
    function l() {
        if (!a("#ajax-outer").length) {
            a("body > :not(#flot-loader, #copy, #error-toolbar, script)").wrapAll('<div id="ajax-outer"><div id="ajax" class="panel"></div></div>');
            b.body().prepend('<div id="overlay"></div>');
            a("#ajax").css("margin-top", "50px");
            a("#ajax, #overlay").show().fadeTo(b.Options.fadeSpeed(), 1);
        }
        j();
    }
    function m() {
        b.body().prepend('<div id="overlay"></div><div id="ajax-outer"><div id="ajax" class="panel"></div></div>');
    }
    function n() {
        a(document).keyup(function(a) {
            if (a.keyCode == 27) c.close();
        });
    }
    c.init = function() {
        if (!b.hasContainer()) {
            l();
        } else if (!b.isReady()) {
            m();
        }
        i();
        n();
        h.click(function(a) {
            if (a.target == a.currentTarget) c.close();
        });
        return c;
    };
    c.bindLinks = function() {
        a("a.window").unbind("click").click(function(b) {
            b.preventDefault();
            c.load(a(this).attr("href"), {
                size: a(this).attr("data-size")
            });
            return false;
        });
    };
    c.container = function() {
        return e;
    };
    c.load = function(a, c, g) {
        j();
        if (!f.is(":visible")) {
            e.removeClass(d.classSmall).removeClass(d.classBig);
        }
        if (c && c.size) {
            if (c.size == "small") {
                e.removeClass(d.classBig);
                e.addClass(d.classSmall);
            } else if (c.size == "big") {
                e.removeClass(d.classSmall);
                e.addClass(d.classBig);
            }
        }
        f.show().fadeTo(b.Options.fadeSpeed(), 1);
        e.addClass(b.Options.loadingClass()).show().fadeTo(b.Options.fadeSpeed(), 1);
        e.loadDiv(a, g, c);
    };
    c.addCloseButton = function() {
        if (a("#close").length == 0) {
            e.prepend('<div id="close" class="black-rounded-icon" onclick="Runalyze.Overlay.close()"><i class="fa fa-fw fa-times"></i></div>');
        }
    };
    c.close = function() {
        if (b.hasContainer()) {
            g.fadeTo(b.Options.fadeSpeed(), 0, function() {
                g.hide();
                c.removeClasses();
                k();
                a(d.selectorNavigation).remove();
            });
        }
    };
    c.toggleFullscreen = function() {
        e.toggleClass(d.classFullscreen);
    };
    c.removeClasses = function() {
        e.removeClass(d.classBig).removeClass(d.classSmall).removeClass(d.classFullscreen);
    };
    b.addInitHook("init-overlay", c.init);
    b.addLoadHook("init-overlay-links", c.bindLinks);
    return c;
}(jQuery, Runalyze);

Runalyze.Panels = function(a, b) {
    var c = {};
    var d = {
        urlSingle: "call/call.Plugin.display.php?id=",
        urlReload: "call/call.ContentPanels.php",
        urlClap: "call/call.PluginPanel.clap.php",
        urlMove: "call/call.PluginPanel.move.php"
    };
    function e() {
        a("#panels .clap").unbind("click").click(function() {
            a(this).closest(".panel").find(".panel-content").toggle(b.Options.fadeSpeed(), function() {
                a(this).closest(".content").find(".flot").each(function() {
                    RunalyzePlot.resize(a(this).attr("id"));
                });
            });
            a.get(d.urlClap, {
                id: a(this).attr("rel")
            });
        });
    }
    function f() {
        a("#panels .up, #panels .down").unbind("click").click(function() {
            if (a(this).hasClass("up")) {
                a(this).closest(".panel").after(a(this).closest(".panel").prev(".panel"));
                a.get(d.urlMove, {
                    mode: "up",
                    id: a(this).attr("rel")
                });
            } else {
                a(this).closest(".panel").next(".panel").after(a(this).closest(".panel"));
                a.get(d.urlMove, {
                    mode: "down",
                    id: a(this).attr("rel")
                });
            }
        });
    }
    c.init = function() {
        e();
        f();
    };
    c.load = function(b) {
        a("#panel-" + b).loadDiv(d.urlSingle + b);
    };
    c.reloadAll = function(b) {
        if (typeof b == "undefined") {
            a("#panels").loadDiv(d.urlReload);
        } else {
            b = ":not(." + b + ")";
            a("#panels div.panel" + b).each(function() {
                c.load(a(this).attr("id").substring(6));
            });
        }
    };
    b.addLoadHook("init-panels", c.init);
    return c;
}(jQuery, Runalyze);

Runalyze.DataBrowser = function(a, b) {
    var c = {};
    var d = {
        selectorContainer: "#statistics-nav",
        selectorReload: "#refreshDataBrowser"
    };
    var e;
    function f() {
        e = a(d.selectorContainer);
    }
    c.init = function() {
        f();
    };
    c.reload = function() {
        a(d.selectorReload).trigger("click");
    };
    c.currentTimes = function() {
        var b = a(d.selectorReload).attr("href");
        var c;
        var e;
        var f;
        b = b.substr(b.indexOf("?") + 1);
        c = b.split("&");
        for (var g = 0; g < c.length; g++) {
            var h = c[g].split("=");
            if (h[0] == "start") {
                e = h[1];
            } else if (h[0] == "end") {
                f = h[1];
            }
        }
        return {
            start: e,
            end: f
        };
    };
    b.addInitHook("init-databrowser", c.init);
    return c;
}(jQuery, Runalyze);

Runalyze.Statistics = function(a, b) {
    var c = {};
    var d = {
        selectorMenu: "#statistics-nav",
        selectorMenuItems: "#statistics-nav li",
        selectorContent: "#statistics-inner",
        activeClass: "active",
        urlStat: "call/call.Plugin.display.php?id="
    };
    var e;
    var f;
    var g;
    var h;
    function i() {
        e = a(d.selectorMenu);
        f = a(d.selectorMenuItems);
        g = a(d.selectorContent);
        if (!b.isReady()) {
            c.resetUrl();
        } else {
            f.removeClass(d.activeClass);
            f.children("a[href='" + c.currentTabContentUrl + "']").parent().addClass("active");
        }
    }
    function j() {
        f.unbind("click").click(function(e) {
            e.preventDefault();
            b.Training.removeHighlighting();
            f.removeClass(d.activeClass);
            a(this).addClass(d.activeClass);
            c.load(a(this).find("a").attr("href"));
            return false;
        });
    }
    c.init = function() {
        i();
        j();
    };
    c.currentUrl = function() {
        return h;
    };
    c.setUrl = function(a) {
        h = a;
    };
    c.resetUrl = function() {
        h = a(d.selectorMenuItems + ":first a").attr("href");
    };
    c.showsTraining = function() {
        return b.Training.isUrl(h);
    };
    c.shows = function(a) {
        return h.lastIndexOf(d.urlStat + a.toString(), 0) === 0;
    };
    c.currentId = function() {
        if (c.showsTraining()) return h.substr(b.Training.url("").length);
        return h.substr(d.urlStat.length);
    };
    c.reload = function() {
        if (h != "") {
            var a = f.children("a[href='" + c.currentTabContentUrl + "']");
            if (a.length) {
                b.Training.removeHighlighting();
                f.removeClass(d.activeClass);
                a.addClass(d.activeClass);
            }
            c.load(h);
        }
    };
    c.load = function(a) {
        g.loadDiv(a);
        h = a;
    };
    c.loadTraining = function(a) {
        f.removeClass(d.activeClass);
        c.load(a);
    };
    b.addInitHook("init-statistics", c.init);
    return c;
}(jQuery, Runalyze);

Runalyze.Training = function(a, b) {
    var c = {};
    var d = {
        url: "call/call.Training.display.php?id=",
        urlSaveTCX: "call/ajax.saveTcx.php",
        highlightClass: "highlight"
    };
    c.initLinks = function() {
        a("a.training").unbind("click").click(function(b) {
            b.preventDefault();
            c.load(a(this).attr("rel"));
            return false;
        });
    };
    c.load = function(a, d) {
        b.Statistics.load(d || c.url(a));
        c.removeHighlighting();
        c.addHighlighting(a);
    };
    c.reload = function() {
        if (b.Statistics.showsTraining()) b.Statistics.reload();
    };
    c.isUrl = function(a) {
        return a.lastIndexOf(d.url, 0) === 0;
    };
    c.url = function(a) {
        return d.url + a.toString();
    };
    c.removeHighlighting = function() {
        a("#data-browser tr.training").removeClass(d.highlightClass);
    };
    c.addHighlighting = function(b) {
        a("#training_" + b).addClass(d.highlightClass);
    };
    c.saveTcx = function(b, e, f, g, h) {
        a.post(d.urlSaveTCX, {
            activityId: e,
            data: b
        }, function() {
            if (f == g) {
                c.loadSavedTcxs(h);
            }
        });
    };
    c.loadSavedTcxs = function(c) {
        b.Overlay.container().loadDiv(a("form#training").attr("action"), {
            activityIds: c,
            data: "FINISHED"
        });
    };
    c.loadXML = function(c) {
        b.Overlay.container().loadDiv(a("form#training").attr("action"), {
            data: c
        });
    };
    b.addLoadHook("init-training-links", c.initLinks);
    return c;
}(jQuery, Runalyze);

Runalyze.Feature = function(a, b) {
    var c = {};
    var d = {};
    function e() {
        a("a.ajax").unbind("click").click(function(c) {
            c.preventDefault();
            var d = a(this).attr("href");
            var e = a(this).attr("target");
            if (d != "#") {
                if (e == "statistics-inner") {
                    b.Statistics.setUrl(d);
                }
                a("#" + e).loadDiv(d, a(this).attr("data-size"));
            }
            return false;
        });
    }
    function f() {
        a("body > .tooltip").remove();
        a("[rel=tooltip].atLeft").tooltip({
            animation: true,
            placement: "left"
        });
        a("[rel=tooltip].atRight").tooltip({
            animation: true,
            placement: "right"
        });
        a("[rel=tooltip]:not(.atLeft):not(.atRight)").tooltip({
            animation: true
        });
        return this;
    }
    function g() {
        a(".toggle").unbind("click").click(function(b) {
            b.preventDefault();
            a("#" + a(this).attr("rel")).animate({
                opacity: "toggle"
            });
        });
    }
    function h() {
        a(".toolbar-opener").unbind("click").click(function() {
            a(this).parent().parent().toggleClass("open");
        });
    }
    function i() {
        a("a.change").each(function() {
            if (a("a.change[target=" + a(this).attr("target") + "].triggered").length == 0) a("a.change[target=" + a(this).attr("target") + "]:first").addClass("triggered").parent().addClass("triggered"); else a("a.change[target=" + a(this).attr("target") + "].triggered").parent().addClass("triggered");
        });
        a("a.change").unbind("click").click(function(c) {
            c.preventDefault();
            a("a.change[target=" + a(this).attr("target") + "]").removeClass("triggered").parent().removeClass("triggered");
            a(this).addClass("triggered").parent().addClass("triggered");
            var d = "#" + a(this).attr("target");
            var e = a(d);
            if (d == a(this).attr("href")) {
                $newDiv = a("#" + a(this).attr("href").split("#").pop() + " .change");
            } else {
                $newDiv = a("#" + a(this).attr("href").split("#").pop());
            }
            $oldDiv = a(d + " > .change:visible, " + d + " > .panel-content > .change:visible, " + d + " > .statistics-container > .change:visible").not($newDiv);
            e.addClass("loading");
            var f = function() {
                $newDiv.fadeTo(b.Options.fadeSpeed(), 1, function() {
                    e.hide().removeClass(b.Options.loadingClass()).fadeIn();
                    b.createFlot();
                    RunalyzePlot.resizeAll();
                });
            };
            if ($oldDiv.length) {
                $oldDiv.fadeOut(b.Options.fadeSpeed(), f);
            } else {
                f();
            }
            return false;
        });
    }
    function j() {
        a("#calendar-link").unbind("click").bind("click", function() {
            var b = a("#data-browser-calendar");
            b.toggle();
            if (b.is(":visible")) k();
        });
    }
    function k() {
        var b = a("#widget-calendar");
        if (b.text().trim().length > 0) return this;
        b.DatePicker({
            flat: true,
            format: "d B Y",
            date: [ new Date(parseInt(a("#calendar-start").val())), new Date(parseInt(a("#calendar-end").val())) ],
            locale: JSON.parse(a("#calendar-locale").val()),
            calendars: 3,
            mode: "range",
            starts: 1
        });
        a("#calendar-submit").unbind("click").bind("click", function() {
            var c = b.DatePickerGetDate(), d = Math.round(c[0].getTime() / 1e3), e = Math.round(c[1].getTime() / 1e3);
            a("#data-browser-inner").loadDiv("call/call.DataBrowser.display.php?start=" + d + "&end=" + e);
        });
        return this;
    }
    function l() {
        m();
        n();
    }
    function m() {
        a(".chzn-select").chosen();
        a(".fip-select").fontIconPicker({
            emptyIcon: false,
            hasSearch: false
        });
        a(".pick-a-date:not(.has-a-datepicker)").each(function() {
            var b = a(this);
            b.addClass("has-a-datepicker");
            b.DatePicker({
                format: "d.m.Y",
                date: b.val(),
                current: b.val(),
                calendars: 1,
                starts: 1,
                position: "bottom",
                mode: "single",
                locale: JSON.parse(a("#calendar-locale").val()),
                onBeforeShow: function() {
                    b.DatePickerSetDate(b.val(), true);
                },
                onChange: function(a, c) {
                    b.val(a);
                    b.DatePickerHide();
                }
            });
        });
    }
    function n() {
        a("#ajax form.ajax").unbind("submit").submit(function(c) {
            c.preventDefault();
            if (a(this).children(":submit").hasClass("debug")) {
                window.alert(a(this).serialize());
                return false;
            }
            a("body > .datepicker").remove();
            var d = a(this).attr("id");
            var e = a(this).hasClass("no-automatic-reload");
            var f = a(this).serializeArray();
            var g = a(this).attr("action");
            var h = a("#ajax");
            f.push({
                name: "submit",
                value: "submit"
            });
            if (d == "search" && a("form.ajax input[name=send_to_multiEditor]:checked").length == 0) {
                a("#searchResult").loadDiv(g + "?pager=true", f);
                return false;
            }
            if (a("#ajax #pluginTool").length) {
                h = a("#pluginTool");
            }
            h.loadDiv(g, f, {
                success: function() {
                    a("#submit-info").fadeIn().delay(4e3).fadeOut();
                    if (d != "search" && d != "tcxUpload" && !e) b.reloadContent();
                }
            });
            return false;
        });
    }
    c.init = function() {
        e();
        f();
        g();
        h();
        i();
        j();
        l();
    };
    c.initToggle = function() {
        g();
    };
    b.addLoadHook("init-feature", c.init);
    return c;
}(jQuery, Runalyze);

(function() {
    var a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    var b = new Array(-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);
    function c(b) {
        var c, d, e;
        var f, g, h;
        e = b.length;
        d = 0;
        c = "";
        while (d < e) {
            f = b.charCodeAt(d++) & 255;
            if (d == e) {
                c += a.charAt(f >> 2);
                c += a.charAt((f & 3) << 4);
                c += "==";
                break;
            }
            g = b.charCodeAt(d++);
            if (d == e) {
                c += a.charAt(f >> 2);
                c += a.charAt((f & 3) << 4 | (g & 240) >> 4);
                c += a.charAt((g & 15) << 2);
                c += "=";
                break;
            }
            h = b.charCodeAt(d++);
            c += a.charAt(f >> 2);
            c += a.charAt((f & 3) << 4 | (g & 240) >> 4);
            c += a.charAt((g & 15) << 2 | (h & 192) >> 6);
            c += a.charAt(h & 63);
        }
        return c;
    }
    function d(a) {
        var c, d, e, f;
        var g, h, i;
        h = a.length;
        g = 0;
        i = "";
        while (g < h) {
            do {
                c = b[a.charCodeAt(g++) & 255];
            } while (g < h && c == -1);
            if (c == -1) break;
            do {
                d = b[a.charCodeAt(g++) & 255];
            } while (g < h && d == -1);
            if (d == -1) break;
            i += String.fromCharCode(c << 2 | (d & 48) >> 4);
            do {
                e = a.charCodeAt(g++) & 255;
                if (e == 61) return i;
                e = b[e];
            } while (g < h && e == -1);
            if (e == -1) break;
            i += String.fromCharCode((d & 15) << 4 | (e & 60) >> 2);
            do {
                f = a.charCodeAt(g++) & 255;
                if (f == 61) return i;
                f = b[f];
            } while (g < h && f == -1);
            if (f == -1) break;
            i += String.fromCharCode((e & 3) << 6 | f);
        }
        return i;
    }
    if (!window.btoa) window.btoa = c;
    if (!window.atob) window.atob = d;
})();

(function(a) {
    a.color = {};
    a.color.make = function(b, c, d, e) {
        var f = {};
        f.r = b || 0;
        f.g = c || 0;
        f.b = d || 0;
        f.a = e != null ? e : 1;
        f.add = function(a, b) {
            for (var c = 0; c < a.length; ++c) f[a.charAt(c)] += b;
            return f.normalize();
        };
        f.scale = function(a, b) {
            for (var c = 0; c < a.length; ++c) f[a.charAt(c)] *= b;
            return f.normalize();
        };
        f.toString = function() {
            if (f.a >= 1) {
                return "rgb(" + [ f.r, f.g, f.b ].join(",") + ")";
            } else {
                return "rgba(" + [ f.r, f.g, f.b, f.a ].join(",") + ")";
            }
        };
        f.normalize = function() {
            function a(a, b, c) {
                return b < a ? a : b > c ? c : b;
            }
            f.r = a(0, parseInt(f.r), 255);
            f.g = a(0, parseInt(f.g), 255);
            f.b = a(0, parseInt(f.b), 255);
            f.a = a(0, f.a, 1);
            return f;
        };
        f.clone = function() {
            return a.color.make(f.r, f.b, f.g, f.a);
        };
        return f.normalize();
    };
    a.color.extract = function(b, c) {
        var d;
        do {
            d = b.css(c).toLowerCase();
            if (d != "" && d != "transparent") break;
            b = b.parent();
        } while (b.length && !a.nodeName(b.get(0), "body"));
        if (d == "rgba(0, 0, 0, 0)") d = "transparent";
        return a.color.parse(d);
    };
    a.color.parse = function(c) {
        var d, e = a.color.make;
        if (d = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)) return e(parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10));
        if (d = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)) return e(parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10), parseFloat(d[4]));
        if (d = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)) return e(parseFloat(d[1]) * 2.55, parseFloat(d[2]) * 2.55, parseFloat(d[3]) * 2.55);
        if (d = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)) return e(parseFloat(d[1]) * 2.55, parseFloat(d[2]) * 2.55, parseFloat(d[3]) * 2.55, parseFloat(d[4]));
        if (d = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)) return e(parseInt(d[1], 16), parseInt(d[2], 16), parseInt(d[3], 16));
        if (d = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)) return e(parseInt(d[1] + d[1], 16), parseInt(d[2] + d[2], 16), parseInt(d[3] + d[3], 16));
        var f = a.trim(c).toLowerCase();
        if (f == "transparent") return e(255, 255, 255, 0); else {
            d = b[f] || [ 0, 0, 0 ];
            return e(d[0], d[1], d[2]);
        }
    };
    var b = {
        aqua: [ 0, 255, 255 ],
        azure: [ 240, 255, 255 ],
        beige: [ 245, 245, 220 ],
        black: [ 0, 0, 0 ],
        blue: [ 0, 0, 255 ],
        brown: [ 165, 42, 42 ],
        cyan: [ 0, 255, 255 ],
        darkblue: [ 0, 0, 139 ],
        darkcyan: [ 0, 139, 139 ],
        darkgrey: [ 169, 169, 169 ],
        darkgreen: [ 0, 100, 0 ],
        darkkhaki: [ 189, 183, 107 ],
        darkmagenta: [ 139, 0, 139 ],
        darkolivegreen: [ 85, 107, 47 ],
        darkorange: [ 255, 140, 0 ],
        darkorchid: [ 153, 50, 204 ],
        darkred: [ 139, 0, 0 ],
        darksalmon: [ 233, 150, 122 ],
        darkviolet: [ 148, 0, 211 ],
        fuchsia: [ 255, 0, 255 ],
        gold: [ 255, 215, 0 ],
        green: [ 0, 128, 0 ],
        indigo: [ 75, 0, 130 ],
        khaki: [ 240, 230, 140 ],
        lightblue: [ 173, 216, 230 ],
        lightcyan: [ 224, 255, 255 ],
        lightgreen: [ 144, 238, 144 ],
        lightgrey: [ 211, 211, 211 ],
        lightpink: [ 255, 182, 193 ],
        lightyellow: [ 255, 255, 224 ],
        lime: [ 0, 255, 0 ],
        magenta: [ 255, 0, 255 ],
        maroon: [ 128, 0, 0 ],
        navy: [ 0, 0, 128 ],
        olive: [ 128, 128, 0 ],
        orange: [ 255, 165, 0 ],
        pink: [ 255, 192, 203 ],
        purple: [ 128, 0, 128 ],
        violet: [ 128, 0, 128 ],
        red: [ 255, 0, 0 ],
        silver: [ 192, 192, 192 ],
        white: [ 255, 255, 255 ],
        yellow: [ 255, 255, 0 ]
    };
})(jQuery);

(function(a) {
    var b = Object.prototype.hasOwnProperty;
    if (!a.fn.detach) {
        a.fn.detach = function() {
            return this.each(function() {
                if (this.parentNode) {
                    this.parentNode.removeChild(this);
                }
            });
        };
    }
    function c(b, c) {
        var d = c.children("." + b)[0];
        if (d == null) {
            d = document.createElement("canvas");
            d.className = b;
            a(d).css({
                direction: "ltr",
                position: "absolute",
                left: 0,
                top: 0
            }).appendTo(c);
            if (!d.getContext) {
                if (window.G_vmlCanvasManager) {
                    d = window.G_vmlCanvasManager.initElement(d);
                } else {
                    throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");
                }
            }
        }
        this.element = d;
        var e = this.context = d.getContext("2d");
        var f = window.devicePixelRatio || 1, g = e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
        this.pixelRatio = f / g;
        this.resize(c.width(), c.height());
        this.textContainer = null;
        this.text = {};
        this._textCache = {};
    }
    c.prototype.resize = function(a, b) {
        if (a <= 0 || b <= 0) {
            throw new Error("Invalid dimensions for plot, width = " + a + ", height = " + b);
        }
        var c = this.element, d = this.context, e = this.pixelRatio;
        if (this.width != a) {
            c.width = a * e;
            c.style.width = a + "px";
            this.width = a;
        }
        if (this.height != b) {
            c.height = b * e;
            c.style.height = b + "px";
            this.height = b;
        }
        d.restore();
        d.save();
        d.scale(e, e);
    };
    c.prototype.clear = function() {
        this.context.clearRect(0, 0, this.width, this.height);
    };
    c.prototype.render = function() {
        var a = this._textCache;
        for (var c in a) {
            if (b.call(a, c)) {
                var d = this.getTextLayer(c), e = a[c];
                d.hide();
                for (var f in e) {
                    if (b.call(e, f)) {
                        var g = e[f];
                        for (var h in g) {
                            if (b.call(g, h)) {
                                var i = g[h].positions;
                                for (var j = 0, k; k = i[j]; j++) {
                                    if (k.active) {
                                        if (!k.rendered) {
                                            d.append(k.element);
                                            k.rendered = true;
                                        }
                                    } else {
                                        i.splice(j--, 1);
                                        if (k.rendered) {
                                            k.element.detach();
                                        }
                                    }
                                }
                                if (i.length == 0) {
                                    delete g[h];
                                }
                            }
                        }
                    }
                }
                d.show();
            }
        }
    };
    c.prototype.getTextLayer = function(b) {
        var c = this.text[b];
        if (c == null) {
            if (this.textContainer == null) {
                this.textContainer = a("<div class='flot-text'></div>").css({
                    position: "absolute",
                    top: 0,
                    left: 0,
                    bottom: 0,
                    right: 0,
                    "font-size": "smaller",
                    color: "#545454"
                }).insertAfter(this.element);
            }
            c = this.text[b] = a("<div></div>").addClass(b).css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }).appendTo(this.textContainer);
        }
        return c;
    };
    c.prototype.getTextInfo = function(b, c, d, e, f) {
        var g, h, i, j;
        c = "" + c;
        if (typeof d === "object") {
            g = d.style + " " + d.variant + " " + d.weight + " " + d.size + "px/" + d.lineHeight + "px " + d.family;
        } else {
            g = d;
        }
        h = this._textCache[b];
        if (h == null) {
            h = this._textCache[b] = {};
        }
        i = h[g];
        if (i == null) {
            i = h[g] = {};
        }
        j = i[c];
        if (j == null) {
            var k = a("<div></div>").html(c).css({
                position: "absolute",
                "max-width": f,
                top: -9999
            }).appendTo(this.getTextLayer(b));
            if (typeof d === "object") {
                k.css({
                    font: g,
                    color: d.color
                });
            } else if (typeof d === "string") {
                k.addClass(d);
            }
            j = i[c] = {
                width: k.outerWidth(true),
                height: k.outerHeight(true),
                element: k,
                positions: []
            };
            k.detach();
        }
        return j;
    };
    c.prototype.addText = function(a, b, c, d, e, f, g, h, i) {
        var j = this.getTextInfo(a, d, e, f, g), k = j.positions;
        if (h == "center") {
            b -= j.width / 2;
        } else if (h == "right") {
            b -= j.width;
        }
        if (i == "middle") {
            c -= j.height / 2;
        } else if (i == "bottom") {
            c -= j.height;
        }
        for (var l = 0, m; m = k[l]; l++) {
            if (m.x == b && m.y == c) {
                m.active = true;
                return;
            }
        }
        m = {
            active: true,
            rendered: false,
            element: k.length ? j.element.clone() : j.element,
            x: b,
            y: c
        };
        k.push(m);
        m.element.css({
            top: Math.round(c),
            left: Math.round(b),
            "text-align": h
        });
    };
    c.prototype.removeText = function(a, c, d, e, f, g) {
        if (e == null) {
            var h = this._textCache[a];
            if (h != null) {
                for (var i in h) {
                    if (b.call(h, i)) {
                        var j = h[i];
                        for (var k in j) {
                            if (b.call(j, k)) {
                                var l = j[k].positions;
                                for (var m = 0, n; n = l[m]; m++) {
                                    n.active = false;
                                }
                            }
                        }
                    }
                }
            }
        } else {
            var l = this.getTextInfo(a, e, f, g).positions;
            for (var m = 0, n; n = l[m]; m++) {
                if (n.x == c && n.y == d) {
                    n.active = false;
                }
            }
        }
    };
    function d(b, d, f, g) {
        var h = [], i = {
            colors: [ "#edc240", "#afd8f8", "#cb4b4b", "#4da74d", "#9440ed" ],
            legend: {
                show: true,
                noColumns: 1,
                labelFormatter: null,
                labelBoxBorderColor: "#ccc",
                container: null,
                position: "ne",
                margin: 5,
                backgroundColor: null,
                backgroundOpacity: .85,
                sorted: null
            },
            xaxis: {
                show: null,
                position: "bottom",
                mode: null,
                font: null,
                color: null,
                tickColor: null,
                transform: null,
                inverseTransform: null,
                min: null,
                max: null,
                autoscaleMargin: null,
                ticks: null,
                tickFormatter: null,
                labelWidth: null,
                labelHeight: null,
                reserveSpace: null,
                tickLength: null,
                alignTicksWithAxis: null,
                tickDecimals: null,
                tickSize: null,
                minTickSize: null
            },
            yaxis: {
                autoscaleMargin: .02,
                position: "left"
            },
            xaxes: [],
            yaxes: [],
            series: {
                points: {
                    show: false,
                    radius: 3,
                    lineWidth: 2,
                    fill: true,
                    fillColor: "#ffffff",
                    symbol: "circle"
                },
                lines: {
                    lineWidth: 2,
                    fill: false,
                    fillColor: null,
                    steps: false
                },
                bars: {
                    show: false,
                    lineWidth: 2,
                    barWidth: 1,
                    fill: true,
                    fillColor: null,
                    align: "left",
                    horizontal: false,
                    zero: true
                },
                shadowSize: 3,
                highlightColor: null
            },
            grid: {
                show: true,
                aboveData: false,
                color: "#545454",
                backgroundColor: null,
                borderColor: null,
                tickColor: null,
                margin: 0,
                labelMargin: 5,
                axisMargin: 8,
                borderWidth: 2,
                minBorderMargin: null,
                markings: null,
                markingsColor: "#f4f4f4",
                markingsLineWidth: 2,
                clickable: false,
                hoverable: false,
                autoHighlight: true,
                mouseActiveRadius: 10
            },
            interaction: {
                redrawOverlayInterval: 1e3 / 60
            },
            hooks: {}
        }, j = null, k = null, l = null, m = null, n = null, o = [], p = [], q = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
        }, r = 0, s = 0, t = {
            processOptions: [],
            processRawData: [],
            processDatapoints: [],
            processOffset: [],
            drawBackground: [],
            drawSeries: [],
            draw: [],
            bindEvents: [],
            drawOverlay: [],
            shutdown: []
        }, u = this;
        u.setData = y;
        u.setupGrid = P;
        u.draw = U;
        u.getPlaceholder = function() {
            return b;
        };
        u.getCanvas = function() {
            return j.element;
        };
        u.getPlotOffset = function() {
            return q;
        };
        u.width = function() {
            return r;
        };
        u.height = function() {
            return s;
        };
        u.offset = function() {
            var a = l.offset();
            a.left += q.left;
            a.top += q.top;
            return a;
        };
        u.getData = function() {
            return h;
        };
        u.getAxes = function() {
            var b = {}, c;
            a.each(o.concat(p), function(a, c) {
                if (c) b[c.direction + (c.n != 1 ? c.n : "") + "axis"] = c;
            });
            return b;
        };
        u.getXAxes = function() {
            return o;
        };
        u.getYAxes = function() {
            return p;
        };
        u.c2p = C;
        u.p2c = D;
        u.getOptions = function() {
            return i;
        };
        u.highlight = na;
        u.unhighlight = oa;
        u.triggerRedrawOverlay = la;
        u.pointOffset = function(a) {
            return {
                left: parseInt(o[A(a, "x") - 1].p2c(+a.x) + q.left, 10),
                top: parseInt(p[A(a, "y") - 1].p2c(+a.y) + q.top, 10)
            };
        };
        u.shutdown = J;
        u.destroy = function() {
            J();
            b.removeData("plot").empty();
            h = [];
            i = null;
            j = null;
            k = null;
            l = null;
            m = null;
            n = null;
            o = [];
            p = [];
            t = null;
            ea = [];
            u = null;
        };
        u.resize = function() {
            var a = b.width(), c = b.height();
            j.resize(a, c);
            k.resize(a, c);
        };
        u.hooks = t;
        w(u);
        x(f);
        H();
        y(d);
        P();
        U();
        I();
        function v(a, b) {
            b = [ u ].concat(b);
            for (var c = 0; c < a.length; ++c) a[c].apply(this, b);
        }
        function w() {
            var b = {
                Canvas: c
            };
            for (var d = 0; d < g.length; ++d) {
                var e = g[d];
                e.init(u, b);
                if (e.options) a.extend(true, i, e.options);
            }
        }
        function x(c) {
            a.extend(true, i, c);
            if (c && c.colors) {
                i.colors = c.colors;
            }
            if (i.xaxis.color == null) i.xaxis.color = a.color.parse(i.grid.color).scale("a", .22).toString();
            if (i.yaxis.color == null) i.yaxis.color = a.color.parse(i.grid.color).scale("a", .22).toString();
            if (i.xaxis.tickColor == null) i.xaxis.tickColor = i.grid.tickColor || i.xaxis.color;
            if (i.yaxis.tickColor == null) i.yaxis.tickColor = i.grid.tickColor || i.yaxis.color;
            if (i.grid.borderColor == null) i.grid.borderColor = i.grid.color;
            if (i.grid.tickColor == null) i.grid.tickColor = a.color.parse(i.grid.color).scale("a", .22).toString();
            var d, e, f, g = b.css("font-size"), h = g ? +g.replace("px", "") : 13, j = {
                style: b.css("font-style"),
                size: Math.round(.8 * h),
                variant: b.css("font-variant"),
                weight: b.css("font-weight"),
                family: b.css("font-family")
            };
            f = i.xaxes.length || 1;
            for (d = 0; d < f; ++d) {
                e = i.xaxes[d];
                if (e && !e.tickColor) {
                    e.tickColor = e.color;
                }
                e = a.extend(true, {}, i.xaxis, e);
                i.xaxes[d] = e;
                if (e.font) {
                    e.font = a.extend({}, j, e.font);
                    if (!e.font.color) {
                        e.font.color = e.color;
                    }
                    if (!e.font.lineHeight) {
                        e.font.lineHeight = Math.round(e.font.size * 1.15);
                    }
                }
            }
            f = i.yaxes.length || 1;
            for (d = 0; d < f; ++d) {
                e = i.yaxes[d];
                if (e && !e.tickColor) {
                    e.tickColor = e.color;
                }
                e = a.extend(true, {}, i.yaxis, e);
                i.yaxes[d] = e;
                if (e.font) {
                    e.font = a.extend({}, j, e.font);
                    if (!e.font.color) {
                        e.font.color = e.color;
                    }
                    if (!e.font.lineHeight) {
                        e.font.lineHeight = Math.round(e.font.size * 1.15);
                    }
                }
            }
            if (i.xaxis.noTicks && i.xaxis.ticks == null) i.xaxis.ticks = i.xaxis.noTicks;
            if (i.yaxis.noTicks && i.yaxis.ticks == null) i.yaxis.ticks = i.yaxis.noTicks;
            if (i.x2axis) {
                i.xaxes[1] = a.extend(true, {}, i.xaxis, i.x2axis);
                i.xaxes[1].position = "top";
                if (i.x2axis.min == null) {
                    i.xaxes[1].min = null;
                }
                if (i.x2axis.max == null) {
                    i.xaxes[1].max = null;
                }
            }
            if (i.y2axis) {
                i.yaxes[1] = a.extend(true, {}, i.yaxis, i.y2axis);
                i.yaxes[1].position = "right";
                if (i.y2axis.min == null) {
                    i.yaxes[1].min = null;
                }
                if (i.y2axis.max == null) {
                    i.yaxes[1].max = null;
                }
            }
            if (i.grid.coloredAreas) i.grid.markings = i.grid.coloredAreas;
            if (i.grid.coloredAreasColor) i.grid.markingsColor = i.grid.coloredAreasColor;
            if (i.lines) a.extend(true, i.series.lines, i.lines);
            if (i.points) a.extend(true, i.series.points, i.points);
            if (i.bars) a.extend(true, i.series.bars, i.bars);
            if (i.shadowSize != null) i.series.shadowSize = i.shadowSize;
            if (i.highlightColor != null) i.series.highlightColor = i.highlightColor;
            for (d = 0; d < i.xaxes.length; ++d) E(o, d + 1).options = i.xaxes[d];
            for (d = 0; d < i.yaxes.length; ++d) E(p, d + 1).options = i.yaxes[d];
            for (var k in t) if (i.hooks[k] && i.hooks[k].length) t[k] = t[k].concat(i.hooks[k]);
            v(t.processOptions, [ i ]);
        }
        function y(a) {
            h = z(a);
            F();
            G();
        }
        function z(b) {
            var c = [];
            for (var d = 0; d < b.length; ++d) {
                var e = a.extend(true, {}, i.series);
                if (b[d].data != null) {
                    e.data = b[d].data;
                    delete b[d].data;
                    a.extend(true, e, b[d]);
                    b[d].data = e.data;
                } else e.data = b[d];
                c.push(e);
            }
            return c;
        }
        function A(a, b) {
            var c = a[b + "axis"];
            if (typeof c == "object") c = c.n;
            if (typeof c != "number") c = 1;
            return c;
        }
        function B() {
            return a.grep(o.concat(p), function(a) {
                return a;
            });
        }
        function C(a) {
            var b = {}, c, d;
            for (c = 0; c < o.length; ++c) {
                d = o[c];
                if (d && d.used) b["x" + d.n] = d.c2p(a.left);
            }
            for (c = 0; c < p.length; ++c) {
                d = p[c];
                if (d && d.used) b["y" + d.n] = d.c2p(a.top);
            }
            if (b.x1 !== undefined) b.x = b.x1;
            if (b.y1 !== undefined) b.y = b.y1;
            return b;
        }
        function D(a) {
            var b = {}, c, d, e;
            for (c = 0; c < o.length; ++c) {
                d = o[c];
                if (d && d.used) {
                    e = "x" + d.n;
                    if (a[e] == null && d.n == 1) e = "x";
                    if (a[e] != null) {
                        b.left = d.p2c(a[e]);
                        break;
                    }
                }
            }
            for (c = 0; c < p.length; ++c) {
                d = p[c];
                if (d && d.used) {
                    e = "y" + d.n;
                    if (a[e] == null && d.n == 1) e = "y";
                    if (a[e] != null) {
                        b.top = d.p2c(a[e]);
                        break;
                    }
                }
            }
            return b;
        }
        function E(b, c) {
            if (!b[c - 1]) b[c - 1] = {
                n: c,
                direction: b == o ? "x" : "y",
                options: a.extend(true, {}, b == o ? i.xaxis : i.yaxis)
            };
            return b[c - 1];
        }
        function F() {
            var b = h.length, c = -1, d;
            for (d = 0; d < h.length; ++d) {
                var e = h[d].color;
                if (e != null) {
                    b--;
                    if (typeof e == "number" && e > c) {
                        c = e;
                    }
                }
            }
            if (b <= c) {
                b = c + 1;
            }
            var f, g = [], j = i.colors, k = j.length, l = 0;
            for (d = 0; d < b; d++) {
                f = a.color.parse(j[d % k] || "#666");
                if (d % k == 0 && d) {
                    if (l >= 0) {
                        if (l < .5) {
                            l = -l - .2;
                        } else l = 0;
                    } else l = -l;
                }
                g[d] = f.scale("rgb", 1 + l);
            }
            var m = 0, n;
            for (d = 0; d < h.length; ++d) {
                n = h[d];
                if (n.color == null) {
                    n.color = g[m].toString();
                    ++m;
                } else if (typeof n.color == "number") n.color = g[n.color].toString();
                if (n.lines.show == null) {
                    var q, r = true;
                    for (q in n) if (n[q] && n[q].show) {
                        r = false;
                        break;
                    }
                    if (r) n.lines.show = true;
                }
                if (n.lines.zero == null) {
                    n.lines.zero = !!n.lines.fill;
                }
                n.xaxis = E(o, A(n, "x"));
                n.yaxis = E(p, A(n, "y"));
            }
        }
        function G() {
            var b = Number.POSITIVE_INFINITY, c = Number.NEGATIVE_INFINITY, d = Number.MAX_VALUE, e, f, g, i, j, k, l, m, n, o, p, q, r, s, u, w;
            function x(a, b, c) {
                if (b < a.datamin && b != -d) a.datamin = b;
                if (c > a.datamax && c != d) a.datamax = c;
            }
            a.each(B(), function(a, d) {
                d.datamin = b;
                d.datamax = c;
                d.used = false;
            });
            for (e = 0; e < h.length; ++e) {
                k = h[e];
                k.datapoints = {
                    points: []
                };
                v(t.processRawData, [ k, k.data, k.datapoints ]);
            }
            for (e = 0; e < h.length; ++e) {
                k = h[e];
                u = k.data;
                w = k.datapoints.format;
                if (!w) {
                    w = [];
                    w.push({
                        x: true,
                        number: true,
                        required: true
                    });
                    w.push({
                        y: true,
                        number: true,
                        required: true
                    });
                    if (k.bars.show || k.lines.show && k.lines.fill) {
                        var y = !!(k.bars.show && k.bars.zero || k.lines.show && k.lines.zero);
                        w.push({
                            y: true,
                            number: true,
                            required: false,
                            defaultValue: 0,
                            autoscale: y
                        });
                        if (k.bars.horizontal) {
                            delete w[w.length - 1].y;
                            w[w.length - 1].x = true;
                        }
                    }
                    k.datapoints.format = w;
                }
                if (k.datapoints.pointsize != null) continue;
                k.datapoints.pointsize = w.length;
                m = k.datapoints.pointsize;
                l = k.datapoints.points;
                var z = k.lines.show && k.lines.steps;
                k.xaxis.used = k.yaxis.used = true;
                for (f = g = 0; f < u.length; ++f, g += m) {
                    s = u[f];
                    var A = s == null;
                    if (!A) {
                        for (i = 0; i < m; ++i) {
                            q = s[i];
                            r = w[i];
                            if (r) {
                                if (r.number && q != null) {
                                    q = +q;
                                    if (isNaN(q)) q = null; else if (q == Infinity) q = d; else if (q == -Infinity) q = -d;
                                }
                                if (q == null) {
                                    if (r.required) A = true;
                                    if (r.defaultValue != null) q = r.defaultValue;
                                }
                            }
                            l[g + i] = q;
                        }
                    }
                    if (A) {
                        for (i = 0; i < m; ++i) {
                            q = l[g + i];
                            if (q != null) {
                                r = w[i];
                                if (r.autoscale !== false) {
                                    if (r.x) {
                                        x(k.xaxis, q, q);
                                    }
                                    if (r.y) {
                                        x(k.yaxis, q, q);
                                    }
                                }
                            }
                            l[g + i] = null;
                        }
                    } else {
                        if (z && g > 0 && l[g - m] != null && l[g - m] != l[g] && l[g - m + 1] != l[g + 1]) {
                            for (i = 0; i < m; ++i) l[g + m + i] = l[g + i];
                            l[g + 1] = l[g - m + 1];
                            g += m;
                        }
                    }
                }
            }
            for (e = 0; e < h.length; ++e) {
                k = h[e];
                v(t.processDatapoints, [ k, k.datapoints ]);
            }
            for (e = 0; e < h.length; ++e) {
                k = h[e];
                l = k.datapoints.points;
                m = k.datapoints.pointsize;
                w = k.datapoints.format;
                var C = b, D = b, E = c, F = c;
                for (f = 0; f < l.length; f += m) {
                    if (l[f] == null) continue;
                    for (i = 0; i < m; ++i) {
                        q = l[f + i];
                        r = w[i];
                        if (!r || r.autoscale === false || q == d || q == -d) continue;
                        if (r.x) {
                            if (q < C) C = q;
                            if (q > E) E = q;
                        }
                        if (r.y) {
                            if (q < D) D = q;
                            if (q > F) F = q;
                        }
                    }
                }
                if (k.bars.show) {
                    var G;
                    switch (k.bars.align) {
                      case "left":
                        G = 0;
                        break;

                      case "right":
                        G = -k.bars.barWidth;
                        break;

                      default:
                        G = -k.bars.barWidth / 2;
                    }
                    if (k.bars.horizontal) {
                        D += G;
                        F += G + k.bars.barWidth;
                    } else {
                        C += G;
                        E += G + k.bars.barWidth;
                    }
                }
                x(k.xaxis, C, E);
                x(k.yaxis, D, F);
            }
            a.each(B(), function(a, d) {
                if (d.datamin == b) d.datamin = null;
                if (d.datamax == c) d.datamax = null;
            });
        }
        function H() {
            b.css("padding", 0).children().filter(function() {
                return !a(this).hasClass("flot-overlay") && !a(this).hasClass("flot-base");
            }).remove();
            if (b.css("position") == "static") b.css("position", "relative");
            j = new c("flot-base", b);
            k = new c("flot-overlay", b);
            m = j.context;
            n = k.context;
            l = a(k.element).unbind();
            var d = b.data("plot");
            if (d) {
                d.shutdown();
                k.clear();
            }
            b.data("plot", u);
        }
        function I() {
            if (i.grid.hoverable) {
                l.mousemove(ha);
                l.bind("mouseleave", ia);
            }
            if (i.grid.clickable) l.click(ja);
            v(t.bindEvents, [ l ]);
        }
        function J() {
            if (fa) clearTimeout(fa);
            l.unbind("mousemove", ha);
            l.unbind("mouseleave", ia);
            l.unbind("click", ja);
            v(t.shutdown, [ l ]);
        }
        function K(a) {
            function b(a) {
                return a;
            }
            var c, d, e = a.options.transform || b, f = a.options.inverseTransform;
            if (a.direction == "x") {
                c = a.scale = r / Math.abs(e(a.max) - e(a.min));
                d = Math.min(e(a.max), e(a.min));
            } else {
                c = a.scale = s / Math.abs(e(a.max) - e(a.min));
                c = -c;
                d = Math.max(e(a.max), e(a.min));
            }
            if (e == b) a.p2c = function(a) {
                return (a - d) * c;
            }; else a.p2c = function(a) {
                return (e(a) - d) * c;
            };
            if (!f) a.c2p = function(a) {
                return d + a / c;
            }; else a.c2p = function(a) {
                return f(d + a / c);
            };
        }
        function L(a) {
            var b = a.options, c = a.ticks || [], d = b.labelWidth || 0, e = b.labelHeight || 0, f = d || (a.direction == "x" ? Math.floor(j.width / (c.length || 1)) : null), g = a.direction + "Axis " + a.direction + a.n + "Axis", h = "flot-" + a.direction + "-axis flot-" + a.direction + a.n + "-axis " + g, i = b.font || "flot-tick-label tickLabel";
            for (var k = 0; k < c.length; ++k) {
                var l = c[k];
                if (!l.label) continue;
                var m = j.getTextInfo(h, l.label, i, null, f);
                d = Math.max(d, m.width);
                e = Math.max(e, m.height);
            }
            a.labelWidth = b.labelWidth || d;
            a.labelHeight = b.labelHeight || e;
        }
        function M(b) {
            var c = b.labelWidth, d = b.labelHeight, e = b.options.position, f = b.direction === "x", g = b.options.tickLength, h = i.grid.axisMargin, k = i.grid.labelMargin, l = true, m = true, n = true, r = false;
            a.each(f ? o : p, function(a, c) {
                if (c && (c.show || c.reserveSpace)) {
                    if (c === b) {
                        r = true;
                    } else if (c.options.position === e) {
                        if (r) {
                            m = false;
                        } else {
                            l = false;
                        }
                    }
                    if (!r) {
                        n = false;
                    }
                }
            });
            if (m) {
                h = 0;
            }
            if (g == null) {
                g = n ? "full" : 5;
            }
            if (!isNaN(+g)) k += +g;
            if (f) {
                d += k;
                if (e == "bottom") {
                    q.bottom += d + h;
                    b.box = {
                        top: j.height - q.bottom,
                        height: d
                    };
                } else {
                    b.box = {
                        top: q.top + h,
                        height: d
                    };
                    q.top += d + h;
                }
            } else {
                c += k;
                if (e == "left") {
                    b.box = {
                        left: q.left + h,
                        width: c
                    };
                    q.left += c + h;
                } else {
                    q.right += c + h;
                    b.box = {
                        left: j.width - q.right,
                        width: c
                    };
                }
            }
            b.position = e;
            b.tickLength = g;
            b.box.padding = k;
            b.innermost = l;
        }
        function N(a) {
            if (a.direction == "x") {
                a.box.left = q.left - a.labelWidth / 2;
                a.box.width = j.width - q.left - q.right + a.labelWidth;
            } else {
                a.box.top = q.top - a.labelHeight / 2;
                a.box.height = j.height - q.bottom - q.top + a.labelHeight;
            }
        }
        function O() {
            var b = i.grid.minBorderMargin, c, d;
            if (b == null) {
                b = 0;
                for (d = 0; d < h.length; ++d) b = Math.max(b, 2 * (h[d].points.radius + h[d].points.lineWidth / 2));
            }
            var e = {
                left: b,
                right: b,
                top: b,
                bottom: b
            };
            a.each(B(), function(a, b) {
                if (b.reserveSpace && b.ticks && b.ticks.length) {
                    if (b.direction === "x") {
                        e.left = Math.max(e.left, b.labelWidth / 2);
                        e.right = Math.max(e.right, b.labelWidth / 2);
                    } else {
                        e.bottom = Math.max(e.bottom, b.labelHeight / 2);
                        e.top = Math.max(e.top, b.labelHeight / 2);
                    }
                }
            });
            q.left = Math.ceil(Math.max(e.left, q.left));
            q.right = Math.ceil(Math.max(e.right, q.right));
            q.top = Math.ceil(Math.max(e.top, q.top));
            q.bottom = Math.ceil(Math.max(e.bottom, q.bottom));
        }
        function P() {
            var b, c = B(), d = i.grid.show;
            for (var e in q) {
                var f = i.grid.margin || 0;
                q[e] = typeof f == "number" ? f : f[e] || 0;
            }
            v(t.processOffset, [ q ]);
            for (var e in q) {
                if (typeof i.grid.borderWidth == "object") {
                    q[e] += d ? i.grid.borderWidth[e] : 0;
                } else {
                    q[e] += d ? i.grid.borderWidth : 0;
                }
            }
            a.each(c, function(a, b) {
                var c = b.options;
                b.show = c.show == null ? b.used : c.show;
                b.reserveSpace = c.reserveSpace == null ? b.show : c.reserveSpace;
                Q(b);
            });
            if (d) {
                var g = a.grep(c, function(a) {
                    return a.show || a.reserveSpace;
                });
                a.each(g, function(a, b) {
                    R(b);
                    S(b);
                    T(b, b.ticks);
                    L(b);
                });
                for (b = g.length - 1; b >= 0; --b) M(g[b]);
                O();
                a.each(g, function(a, b) {
                    N(b);
                });
            }
            r = j.width - q.left - q.right;
            s = j.height - q.bottom - q.top;
            a.each(c, function(a, b) {
                K(b);
            });
            if (d) {
                Y();
            }
            da();
        }
        function Q(a) {
            var b = a.options, c = +(b.min != null ? b.min : a.datamin), d = +(b.max != null ? b.max : a.datamax), e = d - c;
            if (e == 0) {
                var f = d == 0 ? 1 : .01;
                if (b.min == null) c -= f;
                if (b.max == null || b.min != null) d += f;
            } else {
                var g = b.autoscaleMargin;
                if (g != null) {
                    if (b.min == null) {
                        c -= e * g;
                        if (c < 0 && a.datamin != null && a.datamin >= 0) c = 0;
                    }
                    if (b.max == null) {
                        d += e * g;
                        if (d > 0 && a.datamax != null && a.datamax <= 0) d = 0;
                    }
                }
            }
            a.min = c;
            a.max = d;
        }
        function R(b) {
            var c = b.options;
            var d;
            if (typeof c.ticks == "number" && c.ticks > 0) d = c.ticks; else d = .3 * Math.sqrt(b.direction == "x" ? j.width : j.height);
            var f = (b.max - b.min) / d, g = -Math.floor(Math.log(f) / Math.LN10), h = c.tickDecimals;
            if (h != null && g > h) {
                g = h;
            }
            var i = Math.pow(10, -g), k = f / i, l;
            if (k < 1.5) {
                l = 1;
            } else if (k < 3) {
                l = 2;
                if (k > 2.25 && (h == null || g + 1 <= h)) {
                    l = 2.5;
                    ++g;
                }
            } else if (k < 7.5) {
                l = 5;
            } else {
                l = 10;
            }
            l *= i;
            if (c.minTickSize != null && l < c.minTickSize) {
                l = c.minTickSize;
            }
            b.delta = f;
            b.tickDecimals = Math.max(0, h != null ? h : g);
            b.tickSize = c.tickSize || l;
            if (c.mode == "time" && !b.tickGenerator) {
                throw new Error("Time mode requires the flot.time plugin.");
            }
            if (!b.tickGenerator) {
                b.tickGenerator = function(a) {
                    var b = [], c = e(a.min, a.tickSize), d = 0, f = Number.NaN, g;
                    do {
                        g = f;
                        f = c + d * a.tickSize;
                        b.push(f);
                        ++d;
                    } while (f < a.max && f != g);
                    return b;
                };
                b.tickFormatter = function(a, b) {
                    var c = b.tickDecimals ? Math.pow(10, b.tickDecimals) : 1;
                    var d = "" + Math.round(a * c) / c;
                    if (b.tickDecimals != null) {
                        var e = d.indexOf(".");
                        var f = e == -1 ? 0 : d.length - e - 1;
                        if (f < b.tickDecimals) {
                            return (f ? d : d + ".") + ("" + c).substr(1, b.tickDecimals - f);
                        }
                    }
                    return d;
                };
            }
            if (a.isFunction(c.tickFormatter)) b.tickFormatter = function(a, b) {
                return "" + c.tickFormatter(a, b);
            };
            if (c.alignTicksWithAxis != null) {
                var m = (b.direction == "x" ? o : p)[c.alignTicksWithAxis - 1];
                if (m && m.used && m != b) {
                    var n = b.tickGenerator(b);
                    if (n.length > 0) {
                        if (c.min == null) b.min = Math.min(b.min, n[0]);
                        if (c.max == null && n.length > 1) b.max = Math.max(b.max, n[n.length - 1]);
                    }
                    b.tickGenerator = function(a) {
                        var b = [], c, d;
                        for (d = 0; d < m.ticks.length; ++d) {
                            c = (m.ticks[d].v - m.min) / (m.max - m.min);
                            c = a.min + c * (a.max - a.min);
                            b.push(c);
                        }
                        return b;
                    };
                    if (!b.mode && c.tickDecimals == null) {
                        var q = Math.max(0, -Math.floor(Math.log(b.delta) / Math.LN10) + 1), r = b.tickGenerator(b);
                        if (!(r.length > 1 && /\..*0$/.test((r[1] - r[0]).toFixed(q)))) b.tickDecimals = q;
                    }
                }
            }
        }
        function S(b) {
            var c = b.options.ticks, d = [];
            if (c == null || typeof c == "number" && c > 0) d = b.tickGenerator(b); else if (c) {
                if (a.isFunction(c)) d = c(b); else d = c;
            }
            var e, f;
            b.ticks = [];
            for (e = 0; e < d.length; ++e) {
                var g = null;
                var h = d[e];
                if (typeof h == "object") {
                    f = +h[0];
                    if (h.length > 1) g = h[1];
                } else f = +h;
                if (g == null) g = b.tickFormatter(f, b);
                if (!isNaN(f)) b.ticks.push({
                    v: f,
                    label: g
                });
            }
        }
        function T(a, b) {
            if (a.options.autoscaleMargin && b.length > 0) {
                if (a.options.min == null) a.min = Math.min(a.min, b[0].v);
                if (a.options.max == null && b.length > 1) a.max = Math.max(a.max, b[b.length - 1].v);
            }
        }
        function U() {
            j.clear();
            v(t.drawBackground, [ m ]);
            var a = i.grid;
            if (a.show && a.backgroundColor) W();
            if (a.show && !a.aboveData) {
                X();
            }
            for (var b = 0; b < h.length; ++b) {
                v(t.drawSeries, [ m, h[b] ]);
                Z(h[b]);
            }
            v(t.draw, [ m ]);
            if (a.show && a.aboveData) {
                X();
            }
            j.render();
            la();
        }
        function V(a, b) {
            var c, d, e, f, g = B();
            for (var h = 0; h < g.length; ++h) {
                c = g[h];
                if (c.direction == b) {
                    f = b + c.n + "axis";
                    if (!a[f] && c.n == 1) f = b + "axis";
                    if (a[f]) {
                        d = a[f].from;
                        e = a[f].to;
                        break;
                    }
                }
            }
            if (!a[f]) {
                c = b == "x" ? o[0] : p[0];
                d = a[b + "1"];
                e = a[b + "2"];
            }
            if (d != null && e != null && d > e) {
                var i = d;
                d = e;
                e = i;
            }
            return {
                from: d,
                to: e,
                axis: c
            };
        }
        function W() {
            m.save();
            m.translate(q.left, q.top);
            m.fillStyle = sa(i.grid.backgroundColor, s, 0, "rgba(255, 255, 255, 0)");
            m.fillRect(0, 0, r, s);
            m.restore();
        }
        function X() {
            var b, c, d, e;
            m.save();
            m.translate(q.left, q.top);
            var f = i.grid.markings;
            if (f) {
                if (a.isFunction(f)) {
                    c = u.getAxes();
                    c.xmin = c.xaxis.min;
                    c.xmax = c.xaxis.max;
                    c.ymin = c.yaxis.min;
                    c.ymax = c.yaxis.max;
                    f = f(c);
                }
                for (b = 0; b < f.length; ++b) {
                    var g = f[b], h = V(g, "x"), j = V(g, "y");
                    if (h.from == null) h.from = h.axis.min;
                    if (h.to == null) h.to = h.axis.max;
                    if (j.from == null) j.from = j.axis.min;
                    if (j.to == null) j.to = j.axis.max;
                    if (h.to < h.axis.min || h.from > h.axis.max || j.to < j.axis.min || j.from > j.axis.max) continue;
                    h.from = Math.max(h.from, h.axis.min);
                    h.to = Math.min(h.to, h.axis.max);
                    j.from = Math.max(j.from, j.axis.min);
                    j.to = Math.min(j.to, j.axis.max);
                    var k = h.from === h.to, l = j.from === j.to;
                    if (k && l) {
                        continue;
                    }
                    h.from = Math.floor(h.axis.p2c(h.from));
                    h.to = Math.floor(h.axis.p2c(h.to));
                    j.from = Math.floor(j.axis.p2c(j.from));
                    j.to = Math.floor(j.axis.p2c(j.to));
                    if (k || l) {
                        var n = g.lineWidth || i.grid.markingsLineWidth, o = n % 2 ? .5 : 0;
                        m.beginPath();
                        m.strokeStyle = g.color || i.grid.markingsColor;
                        m.lineWidth = n;
                        if (k) {
                            m.moveTo(h.to + o, j.from);
                            m.lineTo(h.to + o, j.to);
                        } else {
                            m.moveTo(h.from, j.to + o);
                            m.lineTo(h.to, j.to + o);
                        }
                        m.stroke();
                    } else {
                        m.fillStyle = g.color || i.grid.markingsColor;
                        m.fillRect(h.from, j.to, h.to - h.from, j.from - j.to);
                    }
                }
            }
            c = B();
            d = i.grid.borderWidth;
            for (var p = 0; p < c.length; ++p) {
                var t = c[p], v = t.box, w = t.tickLength, x, y, z, A;
                if (!t.show || t.ticks.length == 0) continue;
                m.lineWidth = 1;
                if (t.direction == "x") {
                    x = 0;
                    if (w == "full") y = t.position == "top" ? 0 : s; else y = v.top - q.top + (t.position == "top" ? v.height : 0);
                } else {
                    y = 0;
                    if (w == "full") x = t.position == "left" ? 0 : r; else x = v.left - q.left + (t.position == "left" ? v.width : 0);
                }
                if (!t.innermost) {
                    m.strokeStyle = t.options.color;
                    m.beginPath();
                    z = A = 0;
                    if (t.direction == "x") z = r + 1; else A = s + 1;
                    if (m.lineWidth == 1) {
                        if (t.direction == "x") {
                            y = Math.floor(y) + .5;
                        } else {
                            x = Math.floor(x) + .5;
                        }
                    }
                    m.moveTo(x, y);
                    m.lineTo(x + z, y + A);
                    m.stroke();
                }
                m.strokeStyle = t.options.tickColor;
                m.beginPath();
                for (b = 0; b < t.ticks.length; ++b) {
                    var C = t.ticks[b].v;
                    z = A = 0;
                    if (isNaN(C) || C < t.min || C > t.max || w == "full" && (typeof d == "object" && d[t.position] > 0 || d > 0) && (C == t.min || C == t.max)) continue;
                    if (t.direction == "x") {
                        x = t.p2c(C);
                        A = w == "full" ? -s : w;
                        if (t.position == "top") A = -A;
                    } else {
                        y = t.p2c(C);
                        z = w == "full" ? -r : w;
                        if (t.position == "left") z = -z;
                    }
                    if (m.lineWidth == 1) {
                        if (t.direction == "x") x = Math.floor(x) + .5; else y = Math.floor(y) + .5;
                    }
                    m.moveTo(x, y);
                    m.lineTo(x + z, y + A);
                }
                m.stroke();
            }
            if (d) {
                e = i.grid.borderColor;
                if (typeof d == "object" || typeof e == "object") {
                    if (typeof d !== "object") {
                        d = {
                            top: d,
                            right: d,
                            bottom: d,
                            left: d
                        };
                    }
                    if (typeof e !== "object") {
                        e = {
                            top: e,
                            right: e,
                            bottom: e,
                            left: e
                        };
                    }
                    if (d.top > 0) {
                        m.strokeStyle = e.top;
                        m.lineWidth = d.top;
                        m.beginPath();
                        m.moveTo(0 - d.left, 0 - d.top / 2);
                        m.lineTo(r, 0 - d.top / 2);
                        m.stroke();
                    }
                    if (d.right > 0) {
                        m.strokeStyle = e.right;
                        m.lineWidth = d.right;
                        m.beginPath();
                        m.moveTo(r + d.right / 2, 0 - d.top);
                        m.lineTo(r + d.right / 2, s);
                        m.stroke();
                    }
                    if (d.bottom > 0) {
                        m.strokeStyle = e.bottom;
                        m.lineWidth = d.bottom;
                        m.beginPath();
                        m.moveTo(r + d.right, s + d.bottom / 2);
                        m.lineTo(0, s + d.bottom / 2);
                        m.stroke();
                    }
                    if (d.left > 0) {
                        m.strokeStyle = e.left;
                        m.lineWidth = d.left;
                        m.beginPath();
                        m.moveTo(0 - d.left / 2, s + d.bottom);
                        m.lineTo(0 - d.left / 2, 0);
                        m.stroke();
                    }
                } else {
                    m.lineWidth = d;
                    m.strokeStyle = i.grid.borderColor;
                    m.strokeRect(-d / 2, -d / 2, r + d, s + d);
                }
            }
            m.restore();
        }
        function Y() {
            a.each(B(), function(a, b) {
                var c = b.box, d = b.direction + "Axis " + b.direction + b.n + "Axis", e = "flot-" + b.direction + "-axis flot-" + b.direction + b.n + "-axis " + d, f = b.options.font || "flot-tick-label tickLabel", g, h, i, k, l;
                j.removeText(e);
                if (!b.show || b.ticks.length == 0) return;
                for (var m = 0; m < b.ticks.length; ++m) {
                    g = b.ticks[m];
                    if (!g.label || g.v < b.min || g.v > b.max) continue;
                    if (b.direction == "x") {
                        k = "center";
                        h = q.left + b.p2c(g.v);
                        if (b.position == "bottom") {
                            i = c.top + c.padding;
                        } else {
                            i = c.top + c.height - c.padding;
                            l = "bottom";
                        }
                    } else {
                        l = "middle";
                        i = q.top + b.p2c(g.v);
                        if (b.position == "left") {
                            h = c.left + c.width - c.padding;
                            k = "right";
                        } else {
                            h = c.left + c.padding;
                        }
                    }
                    j.addText(e, h, i, g.label, f, null, null, k, l);
                }
            });
        }
        function Z(a) {
            if (a.lines.show) $(a);
            if (a.bars.show) ba(a);
            if (a.points.show) _(a);
        }
        function $(a) {
            function b(a, b, c, d, e) {
                var f = a.points, g = a.pointsize, h = null, i = null;
                m.beginPath();
                for (var j = g; j < f.length; j += g) {
                    var k = f[j - g], l = f[j - g + 1], n = f[j], o = f[j + 1];
                    if (k == null || n == null) continue;
                    if (l <= o && l < e.min) {
                        if (o < e.min) continue;
                        k = (e.min - l) / (o - l) * (n - k) + k;
                        l = e.min;
                    } else if (o <= l && o < e.min) {
                        if (l < e.min) continue;
                        n = (e.min - l) / (o - l) * (n - k) + k;
                        o = e.min;
                    }
                    if (l >= o && l > e.max) {
                        if (o > e.max) continue;
                        k = (e.max - l) / (o - l) * (n - k) + k;
                        l = e.max;
                    } else if (o >= l && o > e.max) {
                        if (l > e.max) continue;
                        n = (e.max - l) / (o - l) * (n - k) + k;
                        o = e.max;
                    }
                    if (k <= n && k < d.min) {
                        if (n < d.min) continue;
                        l = (d.min - k) / (n - k) * (o - l) + l;
                        k = d.min;
                    } else if (n <= k && n < d.min) {
                        if (k < d.min) continue;
                        o = (d.min - k) / (n - k) * (o - l) + l;
                        n = d.min;
                    }
                    if (k >= n && k > d.max) {
                        if (n > d.max) continue;
                        l = (d.max - k) / (n - k) * (o - l) + l;
                        k = d.max;
                    } else if (n >= k && n > d.max) {
                        if (k > d.max) continue;
                        o = (d.max - k) / (n - k) * (o - l) + l;
                        n = d.max;
                    }
                    if (k != h || l != i) m.moveTo(d.p2c(k) + b, e.p2c(l) + c);
                    h = n;
                    i = o;
                    m.lineTo(d.p2c(n) + b, e.p2c(o) + c);
                }
                m.stroke();
            }
            function c(a, b, c) {
                var d = a.points, e = a.pointsize, f = Math.min(Math.max(0, c.min), c.max), g = 0, h, i = false, j = 1, k = 0, l = 0;
                while (true) {
                    if (e > 0 && g > d.length + e) break;
                    g += e;
                    var n = d[g - e], o = d[g - e + j], p = d[g], q = d[g + j];
                    if (i) {
                        if (e > 0 && n != null && p == null) {
                            l = g;
                            e = -e;
                            j = 2;
                            continue;
                        }
                        if (e < 0 && g == k + e) {
                            m.fill();
                            i = false;
                            e = -e;
                            j = 1;
                            g = k = l + e;
                            continue;
                        }
                    }
                    if (n == null || p == null) continue;
                    if (n <= p && n < b.min) {
                        if (p < b.min) continue;
                        o = (b.min - n) / (p - n) * (q - o) + o;
                        n = b.min;
                    } else if (p <= n && p < b.min) {
                        if (n < b.min) continue;
                        q = (b.min - n) / (p - n) * (q - o) + o;
                        p = b.min;
                    }
                    if (n >= p && n > b.max) {
                        if (p > b.max) continue;
                        o = (b.max - n) / (p - n) * (q - o) + o;
                        n = b.max;
                    } else if (p >= n && p > b.max) {
                        if (n > b.max) continue;
                        q = (b.max - n) / (p - n) * (q - o) + o;
                        p = b.max;
                    }
                    if (!i) {
                        m.beginPath();
                        m.moveTo(b.p2c(n), c.p2c(f));
                        i = true;
                    }
                    if (o >= c.max && q >= c.max) {
                        m.lineTo(b.p2c(n), c.p2c(c.max));
                        m.lineTo(b.p2c(p), c.p2c(c.max));
                        continue;
                    } else if (o <= c.min && q <= c.min) {
                        m.lineTo(b.p2c(n), c.p2c(c.min));
                        m.lineTo(b.p2c(p), c.p2c(c.min));
                        continue;
                    }
                    var r = n, s = p;
                    if (o <= q && o < c.min && q >= c.min) {
                        n = (c.min - o) / (q - o) * (p - n) + n;
                        o = c.min;
                    } else if (q <= o && q < c.min && o >= c.min) {
                        p = (c.min - o) / (q - o) * (p - n) + n;
                        q = c.min;
                    }
                    if (o >= q && o > c.max && q <= c.max) {
                        n = (c.max - o) / (q - o) * (p - n) + n;
                        o = c.max;
                    } else if (q >= o && q > c.max && o <= c.max) {
                        p = (c.max - o) / (q - o) * (p - n) + n;
                        q = c.max;
                    }
                    if (n != r) {
                        m.lineTo(b.p2c(r), c.p2c(o));
                    }
                    m.lineTo(b.p2c(n), c.p2c(o));
                    m.lineTo(b.p2c(p), c.p2c(q));
                    if (p != s) {
                        m.lineTo(b.p2c(p), c.p2c(q));
                        m.lineTo(b.p2c(s), c.p2c(q));
                    }
                }
            }
            m.save();
            m.translate(q.left, q.top);
            m.lineJoin = "round";
            var d = a.lines.lineWidth, e = a.shadowSize;
            if (d > 0 && e > 0) {
                m.lineWidth = e;
                m.strokeStyle = "rgba(0,0,0,0.1)";
                var f = Math.PI / 18;
                b(a.datapoints, Math.sin(f) * (d / 2 + e / 2), Math.cos(f) * (d / 2 + e / 2), a.xaxis, a.yaxis);
                m.lineWidth = e / 2;
                b(a.datapoints, Math.sin(f) * (d / 2 + e / 4), Math.cos(f) * (d / 2 + e / 4), a.xaxis, a.yaxis);
            }
            m.lineWidth = d;
            m.strokeStyle = a.color;
            var g = ca(a.lines, a.color, 0, s);
            if (g) {
                m.fillStyle = g;
                c(a.datapoints, a.xaxis, a.yaxis);
            }
            if (d > 0) b(a.datapoints, 0, 0, a.xaxis, a.yaxis);
            m.restore();
        }
        function _(a) {
            function b(a, b, c, d, e, f, g, h) {
                var i = a.points, j = a.pointsize;
                for (var k = 0; k < i.length; k += j) {
                    var l = i[k], n = i[k + 1];
                    if (l == null || l < f.min || l > f.max || n < g.min || n > g.max) continue;
                    m.beginPath();
                    l = f.p2c(l);
                    n = g.p2c(n) + d;
                    if (h == "circle") m.arc(l, n, b, 0, e ? Math.PI : Math.PI * 2, false); else h(m, l, n, b, e);
                    m.closePath();
                    if (c) {
                        m.fillStyle = c;
                        m.fill();
                    }
                    m.stroke();
                }
            }
            m.save();
            m.translate(q.left, q.top);
            var c = a.points.lineWidth, d = a.shadowSize, e = a.points.radius, f = a.points.symbol;
            if (c == 0) c = 1e-4;
            if (c > 0 && d > 0) {
                var g = d / 2;
                m.lineWidth = g;
                m.strokeStyle = "rgba(0,0,0,0.1)";
                b(a.datapoints, e, null, g + g / 2, true, a.xaxis, a.yaxis, f);
                m.strokeStyle = "rgba(0,0,0,0.2)";
                b(a.datapoints, e, null, g / 2, true, a.xaxis, a.yaxis, f);
            }
            m.lineWidth = c;
            m.strokeStyle = a.color;
            b(a.datapoints, e, ca(a.points, a.color), 0, false, a.xaxis, a.yaxis, f);
            m.restore();
        }
        function aa(a, b, c, d, e, f, g, h, i, j, k) {
            var l, m, n, o, p, q, r, s, t;
            if (j) {
                s = q = r = true;
                p = false;
                l = c;
                m = a;
                o = b + d;
                n = b + e;
                if (m < l) {
                    t = m;
                    m = l;
                    l = t;
                    p = true;
                    q = false;
                }
            } else {
                p = q = r = true;
                s = false;
                l = a + d;
                m = a + e;
                n = c;
                o = b;
                if (o < n) {
                    t = o;
                    o = n;
                    n = t;
                    s = true;
                    r = false;
                }
            }
            if (m < g.min || l > g.max || o < h.min || n > h.max) return;
            if (l < g.min) {
                l = g.min;
                p = false;
            }
            if (m > g.max) {
                m = g.max;
                q = false;
            }
            if (n < h.min) {
                n = h.min;
                s = false;
            }
            if (o > h.max) {
                o = h.max;
                r = false;
            }
            l = g.p2c(l);
            n = h.p2c(n);
            m = g.p2c(m);
            o = h.p2c(o);
            if (f) {
                i.fillStyle = f(n, o);
                i.fillRect(l, o, m - l, n - o);
            }
            if (k > 0 && (p || q || r || s)) {
                i.beginPath();
                i.moveTo(l, n);
                if (p) i.lineTo(l, o); else i.moveTo(l, o);
                if (r) i.lineTo(m, o); else i.moveTo(m, o);
                if (q) i.lineTo(m, n); else i.moveTo(m, n);
                if (s) i.lineTo(l, n); else i.moveTo(l, n);
                i.stroke();
            }
        }
        function ba(a) {
            function b(b, c, d, e, f, g) {
                var h = b.points, i = b.pointsize;
                for (var j = 0; j < h.length; j += i) {
                    if (h[j] == null) continue;
                    aa(h[j], h[j + 1], h[j + 2], c, d, e, f, g, m, a.bars.horizontal, a.bars.lineWidth);
                }
            }
            m.save();
            m.translate(q.left, q.top);
            m.lineWidth = a.bars.lineWidth;
            m.strokeStyle = a.color;
            var c;
            switch (a.bars.align) {
              case "left":
                c = 0;
                break;

              case "right":
                c = -a.bars.barWidth;
                break;

              default:
                c = -a.bars.barWidth / 2;
            }
            var d = a.bars.fill ? function(b, c) {
                return ca(a.bars, a.color, b, c);
            } : null;
            b(a.datapoints, c, c + a.bars.barWidth, d, a.xaxis, a.yaxis);
            m.restore();
        }
        function ca(b, c, d, e) {
            var f = b.fill;
            if (!f) return null;
            if (b.fillColor) return sa(b.fillColor, d, e, c);
            var g = a.color.parse(c);
            g.a = typeof f == "number" ? f : .4;
            g.normalize();
            return g.toString();
        }
        function da() {
            if (i.legend.container != null) {
                a(i.legend.container).html("");
            } else {
                b.find(".legend").remove();
            }
            if (!i.legend.show) {
                return;
            }
            var c = [], d = [], e = false, f = i.legend.labelFormatter, g, j;
            for (var k = 0; k < h.length; ++k) {
                g = h[k];
                if (g.label) {
                    j = f ? f(g.label, g) : g.label;
                    if (j) {
                        d.push({
                            label: j,
                            color: g.color
                        });
                    }
                }
            }
            if (i.legend.sorted) {
                if (a.isFunction(i.legend.sorted)) {
                    d.sort(i.legend.sorted);
                } else if (i.legend.sorted == "reverse") {
                    d.reverse();
                } else {
                    var l = i.legend.sorted != "descending";
                    d.sort(function(a, b) {
                        return a.label == b.label ? 0 : a.label < b.label != l ? 1 : -1;
                    });
                }
            }
            for (var k = 0; k < d.length; ++k) {
                var m = d[k];
                if (k % i.legend.noColumns == 0) {
                    if (e) c.push("</tr>");
                    c.push("<tr>");
                    e = true;
                }
                c.push('<td class="legendColorBox"><div style="border:1px solid ' + i.legend.labelBoxBorderColor + ';padding:1px"><div style="width:4px;height:0;border:5px solid ' + m.color + ';overflow:hidden"></div></div></td>' + '<td class="legendLabel">' + m.label + "</td>");
            }
            if (e) c.push("</tr>");
            if (c.length == 0) return;
            var n = '<table style="font-size:smaller;color:' + i.grid.color + '">' + c.join("") + "</table>";
            if (i.legend.container != null) a(i.legend.container).html(n); else {
                var o = "", p = i.legend.position, r = i.legend.margin;
                if (r[0] == null) r = [ r, r ];
                if (p.charAt(0) == "n") o += "top:" + (r[1] + q.top) + "px;"; else if (p.charAt(0) == "s") o += "bottom:" + (r[1] + q.bottom) + "px;";
                if (p.charAt(1) == "e") o += "right:" + (r[0] + q.right) + "px;"; else if (p.charAt(1) == "w") o += "left:" + (r[0] + q.left) + "px;";
                var s = a('<div class="legend">' + n.replace('style="', 'style="position:absolute;' + o + ";") + "</div>").appendTo(b);
                if (i.legend.backgroundOpacity != 0) {
                    var t = i.legend.backgroundColor;
                    if (t == null) {
                        t = i.grid.backgroundColor;
                        if (t && typeof t == "string") t = a.color.parse(t); else t = a.color.extract(s, "background-color");
                        t.a = 1;
                        t = t.toString();
                    }
                    var u = s.children();
                    a('<div style="position:absolute;width:' + u.width() + "px;height:" + u.height() + "px;" + o + "background-color:" + t + ';"> </div>').prependTo(s).css("opacity", i.legend.backgroundOpacity);
                }
            }
        }
        var ea = [], fa = null;
        function ga(a, b, c) {
            var d = i.grid.mouseActiveRadius, e = d * d + 1, f = null, g = false, j, k, l;
            for (j = h.length - 1; j >= 0; --j) {
                if (!c(h[j])) continue;
                var m = h[j], n = m.xaxis, o = m.yaxis, p = m.datapoints.points, q = n.c2p(a), r = o.c2p(b), s = d / n.scale, t = d / o.scale;
                l = m.datapoints.pointsize;
                if (n.options.inverseTransform) s = Number.MAX_VALUE;
                if (o.options.inverseTransform) t = Number.MAX_VALUE;
                if (m.lines.show || m.points.show) {
                    for (k = 0; k < p.length; k += l) {
                        var u = p[k], v = p[k + 1];
                        if (u == null) continue;
                        if (u - q > s || u - q < -s || v - r > t || v - r < -t) continue;
                        var w = Math.abs(n.p2c(u) - a), x = Math.abs(o.p2c(v) - b), y = w * w + x * x;
                        if (y < e) {
                            e = y;
                            f = [ j, k / l ];
                        }
                    }
                }
                if (m.bars.show && !f) {
                    var z, A;
                    switch (m.bars.align) {
                      case "left":
                        z = 0;
                        break;

                      case "right":
                        z = -m.bars.barWidth;
                        break;

                      default:
                        z = -m.bars.barWidth / 2;
                    }
                    A = z + m.bars.barWidth;
                    for (k = 0; k < p.length; k += l) {
                        var u = p[k], v = p[k + 1], B = p[k + 2];
                        if (u == null) continue;
                        if (h[j].bars.horizontal ? q <= Math.max(B, u) && q >= Math.min(B, u) && r >= v + z && r <= v + A : q >= u + z && q <= u + A && r >= Math.min(B, v) && r <= Math.max(B, v)) f = [ j, k / l ];
                    }
                }
            }
            if (f) {
                j = f[0];
                k = f[1];
                l = h[j].datapoints.pointsize;
                return {
                    datapoint: h[j].datapoints.points.slice(k * l, (k + 1) * l),
                    dataIndex: k,
                    series: h[j],
                    seriesIndex: j
                };
            }
            return null;
        }
        function ha(a) {
            if (i.grid.hoverable) ka("plothover", a, function(a) {
                return a["hoverable"] != false;
            });
        }
        function ia(a) {
            if (i.grid.hoverable) ka("plothover", a, function(a) {
                return false;
            });
        }
        function ja(a) {
            ka("plotclick", a, function(a) {
                return a["clickable"] != false;
            });
        }
        function ka(a, c, d) {
            var e = l.offset(), f = c.pageX - e.left - q.left, g = c.pageY - e.top - q.top, h = C({
                left: f,
                top: g
            });
            h.pageX = c.pageX;
            h.pageY = c.pageY;
            var j = ga(f, g, d);
            if (j) {
                j.pageX = parseInt(j.series.xaxis.p2c(j.datapoint[0]) + e.left + q.left, 10);
                j.pageY = parseInt(j.series.yaxis.p2c(j.datapoint[1]) + e.top + q.top, 10);
            }
            if (i.grid.autoHighlight) {
                for (var k = 0; k < ea.length; ++k) {
                    var m = ea[k];
                    if (m.auto == a && !(j && m.series == j.series && m.point[0] == j.datapoint[0] && m.point[1] == j.datapoint[1])) oa(m.series, m.point);
                }
                if (j) na(j.series, j.datapoint, a);
            }
            b.trigger(a, [ h, j ]);
        }
        function la() {
            var a = i.interaction.redrawOverlayInterval;
            if (a == -1) {
                ma();
                return;
            }
            if (!fa) fa = setTimeout(ma, a);
        }
        function ma() {
            fa = null;
            n.save();
            k.clear();
            n.translate(q.left, q.top);
            var a, b;
            for (a = 0; a < ea.length; ++a) {
                b = ea[a];
                if (b.series.bars.show) ra(b.series, b.point); else qa(b.series, b.point);
            }
            n.restore();
            v(t.drawOverlay, [ n ]);
        }
        function na(a, b, c) {
            if (typeof a == "number") a = h[a];
            if (typeof b == "number") {
                var d = a.datapoints.pointsize;
                b = a.datapoints.points.slice(d * b, d * (b + 1));
            }
            var e = pa(a, b);
            if (e == -1) {
                ea.push({
                    series: a,
                    point: b,
                    auto: c
                });
                la();
            } else if (!c) ea[e].auto = false;
        }
        function oa(a, b) {
            if (a == null && b == null) {
                ea = [];
                la();
                return;
            }
            if (typeof a == "number") a = h[a];
            if (typeof b == "number") {
                var c = a.datapoints.pointsize;
                b = a.datapoints.points.slice(c * b, c * (b + 1));
            }
            var d = pa(a, b);
            if (d != -1) {
                ea.splice(d, 1);
                la();
            }
        }
        function pa(a, b) {
            for (var c = 0; c < ea.length; ++c) {
                var d = ea[c];
                if (d.series == a && d.point[0] == b[0] && d.point[1] == b[1]) return c;
            }
            return -1;
        }
        function qa(b, c) {
            var d = c[0], e = c[1], f = b.xaxis, g = b.yaxis, h = typeof b.highlightColor === "string" ? b.highlightColor : a.color.parse(b.color).scale("a", .5).toString();
            if (d < f.min || d > f.max || e < g.min || e > g.max) return;
            var i = b.points.radius + b.points.lineWidth / 2;
            n.lineWidth = i;
            n.strokeStyle = h;
            var j = 1.5 * i;
            d = f.p2c(d);
            e = g.p2c(e);
            n.beginPath();
            if (b.points.symbol == "circle") n.arc(d, e, j, 0, 2 * Math.PI, false); else b.points.symbol(n, d, e, j, false);
            n.closePath();
            n.stroke();
        }
        function ra(b, c) {
            var d = typeof b.highlightColor === "string" ? b.highlightColor : a.color.parse(b.color).scale("a", .5).toString(), e = d, f;
            switch (b.bars.align) {
              case "left":
                f = 0;
                break;

              case "right":
                f = -b.bars.barWidth;
                break;

              default:
                f = -b.bars.barWidth / 2;
            }
            n.lineWidth = b.bars.lineWidth;
            n.strokeStyle = d;
            aa(c[0], c[1], c[2] || 0, f, f + b.bars.barWidth, function() {
                return e;
            }, b.xaxis, b.yaxis, n, b.bars.horizontal, b.bars.lineWidth);
        }
        function sa(b, c, d, e) {
            if (typeof b == "string") return b; else {
                var f = m.createLinearGradient(0, d, 0, c);
                for (var g = 0, h = b.colors.length; g < h; ++g) {
                    var i = b.colors[g];
                    if (typeof i != "string") {
                        var j = a.color.parse(e);
                        if (i.brightness != null) j = j.scale("rgb", i.brightness);
                        if (i.opacity != null) j.a *= i.opacity;
                        i = j.toString();
                    }
                    f.addColorStop(g / (h - 1), i);
                }
                return f;
            }
        }
    }
    a.plot = function(b, c, e) {
        var f = new d(a(b), c, e, a.plot.plugins);
        return f;
    };
    a.plot.version = "0.8.3";
    a.plot.plugins = [];
    a.fn.plot = function(b, c) {
        return this.each(function() {
            a.plot(this, b, c);
        });
    };
    function e(a, b) {
        return b * Math.floor(a / b);
    }
})(jQuery);

(function(a, b, c) {
    "$:nomunge";
    var d = [], e = a.resize = a.extend(a.resize, {}), f, g = false, h = "setTimeout", i = "resize", j = i + "-special-event", k = "pendingDelay", l = "activeDelay", m = "throttleWindow";
    e[k] = 200;
    e[l] = 20;
    e[m] = true;
    a.event.special[i] = {
        setup: function() {
            if (!e[m] && this[h]) {
                return false;
            }
            var b = a(this);
            d.push(this);
            b.data(j, {
                w: b.width(),
                h: b.height()
            });
            if (d.length === 1) {
                f = c;
                n();
            }
        },
        teardown: function() {
            if (!e[m] && this[h]) {
                return false;
            }
            var b = a(this);
            for (var c = d.length - 1; c >= 0; c--) {
                if (d[c] == this) {
                    d.splice(c, 1);
                    break;
                }
            }
            b.removeData(j);
            if (!d.length) {
                if (g) {
                    cancelAnimationFrame(f);
                } else {
                    clearTimeout(f);
                }
                f = null;
            }
        },
        add: function(b) {
            if (!e[m] && this[h]) {
                return false;
            }
            var d;
            function f(b, e, f) {
                var g = a(this), h = g.data(j) || {};
                h.w = e !== c ? e : g.width();
                h.h = f !== c ? f : g.height();
                d.apply(this, arguments);
            }
            if (a.isFunction(b)) {
                d = b;
                return f;
            } else {
                d = b.handler;
                b.handler = f;
            }
        }
    };
    function n(c) {
        if (g === true) {
            g = c || 1;
        }
        for (var h = d.length - 1; h >= 0; h--) {
            var l = a(d[h]);
            if (l[0] == b || l.is(":visible")) {
                var m = l.width(), o = l.height(), p = l.data(j);
                if (p && (m !== p.w || o !== p.h)) {
                    l.trigger(i, [ p.w = m, p.h = o ]);
                    g = c || true;
                }
            } else {
                p = l.data(j);
                p.w = 0;
                p.h = 0;
            }
        }
        if (f !== null) {
            if (g && (c == null || c - g < 1e3)) {
                f = b.requestAnimationFrame(n);
            } else {
                f = setTimeout(n, e[k]);
                g = false;
            }
        }
    }
    if (!b.requestAnimationFrame) {
        b.requestAnimationFrame = function() {
            return b.webkitRequestAnimationFrame || b.mozRequestAnimationFrame || b.oRequestAnimationFrame || b.msRequestAnimationFrame || function(a, c) {
                return b.setTimeout(function() {
                    a(new Date().getTime());
                }, e[l]);
            };
        }();
    }
    if (!b.cancelAnimationFrame) {
        b.cancelAnimationFrame = function() {
            return b.webkitCancelRequestAnimationFrame || b.mozCancelRequestAnimationFrame || b.oCancelRequestAnimationFrame || b.msCancelRequestAnimationFrame || clearTimeout;
        }();
    }
})(jQuery, this);

(function(a) {
    var b = {};
    function c(a) {
        function b() {
            var b = a.getPlaceholder();
            if (b.width() == 0 || b.height() == 0) return;
            a.resize();
            a.setupGrid();
            a.draw();
        }
        function c(a, c) {
            a.getPlaceholder().resize(b);
        }
        function d(a, c) {
            a.getPlaceholder().unbind("resize", b);
        }
        a.hooks.bindEvents.push(c);
        a.hooks.shutdown.push(d);
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "resize",
        version: "1.0"
    });
})(jQuery);

(function(a) {
    function b(b) {
        var c = {
            first: {
                x: -1,
                y: -1
            },
            second: {
                x: -1,
                y: -1
            },
            show: false,
            active: false
        };
        var d = {};
        var e = null;
        function f(a) {
            if (c.active) {
                m(a);
                b.getPlaceholder().trigger("plotselecting", [ i() ]);
            }
        }
        function g(b) {
            if (b.which != 1) return;
            document.body.focus();
            if (document.onselectstart !== undefined && d.onselectstart == null) {
                d.onselectstart = document.onselectstart;
                document.onselectstart = function() {
                    return false;
                };
            }
            if (document.ondrag !== undefined && d.ondrag == null) {
                d.ondrag = document.ondrag;
                document.ondrag = function() {
                    return false;
                };
            }
            l(c.first, b);
            c.active = true;
            e = function(a) {
                h(a);
            };
            a(document).one("mouseup", e);
        }
        function h(a) {
            e = null;
            if (document.onselectstart !== undefined) document.onselectstart = d.onselectstart;
            if (document.ondrag !== undefined) document.ondrag = d.ondrag;
            c.active = false;
            m(a);
            if (q()) j(); else {
                b.getPlaceholder().trigger("plotunselected", []);
                b.getPlaceholder().trigger("plotselecting", [ null ]);
            }
            return false;
        }
        function i() {
            if (!q()) return null;
            if (!c.show) return null;
            var d = {}, e = c.first, f = c.second;
            a.each(b.getAxes(), function(a, b) {
                if (b.used) {
                    var c = b.c2p(e[b.direction]), g = b.c2p(f[b.direction]);
                    d[a] = {
                        from: Math.min(c, g),
                        to: Math.max(c, g)
                    };
                }
            });
            return d;
        }
        function j() {
            var a = i();
            b.getPlaceholder().trigger("plotselected", [ a ]);
            if (a.xaxis && a.yaxis) b.getPlaceholder().trigger("selected", [ {
                x1: a.xaxis.from,
                y1: a.yaxis.from,
                x2: a.xaxis.to,
                y2: a.yaxis.to
            } ]);
        }
        function k(a, b, c) {
            return b < a ? a : b > c ? c : b;
        }
        function l(a, d) {
            var e = b.getOptions();
            var f = b.getPlaceholder().offset();
            var g = b.getPlotOffset();
            a.x = k(0, d.pageX - f.left - g.left, b.width());
            a.y = k(0, d.pageY - f.top - g.top, b.height());
            if (e.selection.mode == "y") a.x = a == c.first ? 0 : b.width();
            if (e.selection.mode == "x") a.y = a == c.first ? 0 : b.height();
        }
        function m(a) {
            if (a.pageX == null) return;
            l(c.second, a);
            if (q()) {
                c.show = true;
                b.triggerRedrawOverlay();
            } else n(true);
        }
        function n(a) {
            if (c.show) {
                c.show = false;
                b.triggerRedrawOverlay();
                if (!a) b.getPlaceholder().trigger("plotunselected", []);
            }
        }
        function o(a, c) {
            var d, e, f, g, h = b.getAxes();
            for (var i in h) {
                d = h[i];
                if (d.direction == c) {
                    g = c + d.n + "axis";
                    if (!a[g] && d.n == 1) g = c + "axis";
                    if (a[g]) {
                        e = a[g].from;
                        f = a[g].to;
                        break;
                    }
                }
            }
            if (!a[g]) {
                d = c == "x" ? b.getXAxes()[0] : b.getYAxes()[0];
                e = a[c + "1"];
                f = a[c + "2"];
            }
            if (e != null && f != null && e > f) {
                var j = e;
                e = f;
                f = j;
            }
            return {
                from: e,
                to: f,
                axis: d
            };
        }
        function p(a, d) {
            var e, f, g = b.getOptions();
            if (g.selection.mode == "y") {
                c.first.x = 0;
                c.second.x = b.width();
            } else {
                f = o(a, "x");
                c.first.x = f.axis.p2c(f.from);
                c.second.x = f.axis.p2c(f.to);
            }
            if (g.selection.mode == "x") {
                c.first.y = 0;
                c.second.y = b.height();
            } else {
                f = o(a, "y");
                c.first.y = f.axis.p2c(f.from);
                c.second.y = f.axis.p2c(f.to);
            }
            c.show = true;
            b.triggerRedrawOverlay();
            if (!d && q()) j();
        }
        function q() {
            var a = b.getOptions().selection.minSize;
            return Math.abs(c.second.x - c.first.x) >= a && Math.abs(c.second.y - c.first.y) >= a;
        }
        b.clearSelection = n;
        b.setSelection = p;
        b.getSelection = i;
        b.hooks.bindEvents.push(function(a, b) {
            var c = a.getOptions();
            if (c.selection.mode != null) {
                b.mousemove(f);
                b.mousedown(g);
            }
        });
        b.hooks.drawOverlay.push(function(b, d) {
            if (c.show && q()) {
                var e = b.getPlotOffset();
                var f = b.getOptions();
                d.save();
                d.translate(e.left, e.top);
                var g = a.color.parse(f.selection.color);
                d.strokeStyle = g.scale("a", .8).toString();
                d.lineWidth = 1;
                d.lineJoin = f.selection.shape;
                d.fillStyle = g.scale("a", .4).toString();
                var h = Math.min(c.first.x, c.second.x) + .5, i = Math.min(c.first.y, c.second.y) + .5, j = Math.abs(c.second.x - c.first.x) - 1, k = Math.abs(c.second.y - c.first.y) - 1;
                d.fillRect(h, i, j, k);
                d.strokeRect(h, i, j, k);
                d.restore();
            }
        });
        b.hooks.shutdown.push(function(b, c) {
            c.unbind("mousemove", f);
            c.unbind("mousedown", g);
            if (e) a(document).unbind("mouseup", e);
        });
    }
    a.plot.plugins.push({
        init: b,
        options: {
            selection: {
                mode: null,
                color: "#e8cfac",
                shape: "round",
                minSize: 5
            }
        },
        name: "selection",
        version: "1.1"
    });
})(jQuery);

(function(a) {
    var b = {
        crosshair: {
            mode: null,
            color: "rgba(170, 0, 0, 0.80)",
            lineWidth: 1
        }
    };
    function c(a) {
        var b = {
            x: -1,
            y: -1,
            locked: false
        };
        a.setCrosshair = function e(c) {
            if (!c) b.x = -1; else {
                var d = a.p2c(c);
                b.x = Math.max(0, Math.min(d.left, a.width()));
                b.y = Math.max(0, Math.min(d.top, a.height()));
            }
            a.triggerRedrawOverlay();
        };
        a.clearCrosshair = a.setCrosshair;
        a.lockCrosshair = function f(c) {
            if (c) a.setCrosshair(c);
            b.locked = true;
        };
        a.unlockCrosshair = function g() {
            b.locked = false;
        };
        function c(c) {
            if (b.locked) return;
            if (b.x != -1) {
                b.x = -1;
                a.triggerRedrawOverlay();
            }
        }
        function d(c) {
            if (b.locked) return;
            if (a.getSelection && a.getSelection()) {
                b.x = -1;
                return;
            }
            var d = a.offset();
            b.x = Math.max(0, Math.min(c.pageX - d.left, a.width()));
            b.y = Math.max(0, Math.min(c.pageY - d.top, a.height()));
            a.triggerRedrawOverlay();
        }
        a.hooks.bindEvents.push(function(a, b) {
            if (!a.getOptions().crosshair.mode) return;
            b.mouseout(c);
            b.mousemove(d);
        });
        a.hooks.drawOverlay.push(function(a, c) {
            var d = a.getOptions().crosshair;
            if (!d.mode) return;
            var e = a.getPlotOffset();
            c.save();
            c.translate(e.left, e.top);
            if (b.x != -1) {
                var f = a.getOptions().crosshair.lineWidth % 2 ? .5 : 0;
                c.strokeStyle = d.color;
                c.lineWidth = d.lineWidth;
                c.lineJoin = "round";
                c.beginPath();
                if (d.mode.indexOf("x") != -1) {
                    var g = Math.floor(b.x) + f;
                    c.moveTo(g, 0);
                    c.lineTo(g, a.height());
                }
                if (d.mode.indexOf("y") != -1) {
                    var h = Math.floor(b.y) + f;
                    c.moveTo(0, h);
                    c.lineTo(a.width(), h);
                }
                c.stroke();
            }
            c.restore();
        });
        a.hooks.shutdown.push(function(a, b) {
            b.unbind("mouseout", c);
            b.unbind("mousemove", d);
        });
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "crosshair",
        version: "1.0"
    });
})(jQuery);

(function(a) {
    function b(e) {
        var j, k = this, l = e.data || {};
        if (l.elem) k = e.dragTarget = l.elem, e.dragProxy = i.proxy || k, e.cursorOffsetX = l.pageX - l.left, 
        e.cursorOffsetY = l.pageY - l.top, e.offsetX = e.pageX - e.cursorOffsetX, e.offsetY = e.pageY - e.cursorOffsetY; else if (i.dragging || l.which > 0 && e.which != l.which || a(e.target).is(l.not)) return;
        switch (e.type) {
          case "mousedown":
            return a.extend(l, a(k).offset(), {
                elem: k,
                target: e.target,
                pageX: e.pageX,
                pageY: e.pageY
            }), g.add(document, "mousemove mouseup", b, l), f(k, !1), i.dragging = null, !1;

          case !i.dragging && "mousemove":
            if (d(e.pageX - l.pageX) + d(e.pageY - l.pageY) < l.distance) break;
            e.target = l.target, j = c(e, "dragstart", k), j !== !1 && (i.dragging = k, i.proxy = e.dragProxy = a(j || k)[0]);

          case "mousemove":
            if (i.dragging) {
                if (j = c(e, "drag", k), h.drop && (h.drop.allowed = j !== !1, h.drop.handler(e)), 
                j !== !1) break;
                e.type = "mouseup";
            }

          case "mouseup":
            g.remove(document, "mousemove mouseup", b), i.dragging && (h.drop && h.drop.handler(e), 
            c(e, "dragend", k)), f(k, !0), i.dragging = i.proxy = l.elem = !1;
        }
        return !0;
    }
    function c(b, c, d) {
        b.type = c;
        var e = a.event.dispatch.call(d, b);
        return e === !1 ? !1 : e || b.result;
    }
    function d(a) {
        return Math.pow(a, 2);
    }
    function e() {
        return i.dragging === !1;
    }
    function f(a, b) {
        a && (a.unselectable = b ? "off" : "on", a.onselectstart = function() {
            return b;
        }, a.style && (a.style.MozUserSelect = b ? "" : "none"));
    }
    a.fn.drag = function(a, b, c) {
        return b && this.bind("dragstart", a), c && this.bind("dragend", c), a ? this.bind("drag", b ? b : a) : this.trigger("drag");
    };
    var g = a.event, h = g.special, i = h.drag = {
        not: ":input",
        distance: 0,
        which: 1,
        dragging: !1,
        setup: function(c) {
            c = a.extend({
                distance: i.distance,
                which: i.which,
                not: i.not
            }, c || {}), c.distance = d(c.distance), g.add(this, "mousedown", b, c), this.attachEvent && this.attachEvent("ondragstart", e);
        },
        teardown: function() {
            g.remove(this, "mousedown", b), this === i.dragging && (i.dragging = i.proxy = !1), 
            f(this, !0), this.detachEvent && this.detachEvent("ondragstart", e);
        }
    };
    h.dragstart = h.dragend = {
        setup: function() {},
        teardown: function() {}
    };
})(jQuery);

(function(a) {
    function b(b) {
        var c = b || window.event, d = [].slice.call(arguments, 1), e = 0, f = 0, g = 0, b = a.event.fix(c);
        b.type = "mousewheel";
        c.wheelDelta && (e = c.wheelDelta / 120);
        c.detail && (e = -c.detail / 3);
        g = e;
        void 0 !== c.axis && c.axis === c.HORIZONTAL_AXIS && (g = 0, f = -1 * e);
        void 0 !== c.wheelDeltaY && (g = c.wheelDeltaY / 120);
        void 0 !== c.wheelDeltaX && (f = -1 * c.wheelDeltaX / 120);
        d.unshift(b, e, f, g);
        return (a.event.dispatch || a.event.handle).apply(this, d);
    }
    var c = [ "DOMMouseScroll", "mousewheel" ];
    if (a.event.fixHooks) for (var d = c.length; d; ) a.event.fixHooks[c[--d]] = a.event.mouseHooks;
    a.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener) for (var a = c.length; a; ) this.addEventListener(c[--a], b, !1); else this.onmousewheel = b;
        },
        teardown: function() {
            if (this.removeEventListener) for (var a = c.length; a; ) this.removeEventListener(c[--a], b, !1); else this.onmousewheel = null;
        }
    };
    a.fn.extend({
        mousewheel: function(a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel");
        },
        unmousewheel: function(a) {
            return this.unbind("mousewheel", a);
        }
    });
})(jQuery);

(function(a) {
    var b = {
        xaxis: {
            zoomRange: null,
            panRange: null
        },
        zoom: {
            interactive: false,
            trigger: "dblclick",
            amount: 1.5
        },
        pan: {
            interactive: false,
            cursor: "move",
            frameRate: 20
        }
    };
    function c(b) {
        function c(a, c) {
            var d = b.offset();
            d.left = a.pageX - d.left;
            d.top = a.pageY - d.top;
            if (c) b.zoomOut({
                center: d
            }); else b.zoom({
                center: d
            });
        }
        function d(a, b) {
            a.preventDefault();
            c(a, b < 0);
            return false;
        }
        var e = "default", f = 0, g = 0, h = null;
        function i(a) {
            if (a.which != 1) return false;
            var c = b.getPlaceholder().css("cursor");
            if (c) e = c;
            b.getPlaceholder().css("cursor", b.getOptions().pan.cursor);
            f = a.pageX;
            g = a.pageY;
        }
        function j(a) {
            var c = b.getOptions().pan.frameRate;
            if (h || !c) return;
            h = setTimeout(function() {
                b.pan({
                    left: f - a.pageX,
                    top: g - a.pageY
                });
                f = a.pageX;
                g = a.pageY;
                h = null;
            }, 1 / c * 1e3);
        }
        function k(a) {
            if (h) {
                clearTimeout(h);
                h = null;
            }
            b.getPlaceholder().css("cursor", e);
            b.pan({
                left: f - a.pageX,
                top: g - a.pageY
            });
        }
        function l(a, b) {
            var e = a.getOptions();
            if (e.zoom.interactive) {
                b[e.zoom.trigger](c);
                b.mousewheel(d);
            }
            if (e.pan.interactive) {
                b.bind("dragstart", {
                    distance: 10
                }, i);
                b.bind("drag", j);
                b.bind("dragend", k);
            }
        }
        b.zoomOut = function(a) {
            if (!a) a = {};
            if (!a.amount) a.amount = b.getOptions().zoom.amount;
            a.amount = 1 / a.amount;
            b.zoom(a);
        };
        b.zoom = function(c) {
            if (!c) c = {};
            var d = c.center, e = c.amount || b.getOptions().zoom.amount, f = b.width(), g = b.height();
            if (!d) d = {
                left: f / 2,
                top: g / 2
            };
            var h = d.left / f, i = d.top / g, j = {
                x: {
                    min: d.left - h * f / e,
                    max: d.left + (1 - h) * f / e
                },
                y: {
                    min: d.top - i * g / e,
                    max: d.top + (1 - i) * g / e
                }
            };
            a.each(b.getAxes(), function(a, b) {
                var c = b.options, d = j[b.direction].min, f = j[b.direction].max, g = c.zoomRange, h = c.panRange;
                if (g === false) return;
                d = b.c2p(d);
                f = b.c2p(f);
                if (d > f) {
                    var i = d;
                    d = f;
                    f = i;
                }
                if (h) {
                    if (h[0] != null && d < h[0]) {
                        d = h[0];
                    }
                    if (h[1] != null && f > h[1]) {
                        f = h[1];
                    }
                }
                var k = f - d;
                if (g && (g[0] != null && k < g[0] && e > 1 || g[1] != null && k > g[1] && e < 1)) return;
                c.min = d;
                c.max = f;
            });
            b.setupGrid();
            b.draw();
            if (!c.preventEvent) b.getPlaceholder().trigger("plotzoom", [ b, c ]);
        };
        b.pan = function(c) {
            var d = {
                x: +c.left,
                y: +c.top
            };
            if (isNaN(d.x)) d.x = 0;
            if (isNaN(d.y)) d.y = 0;
            a.each(b.getAxes(), function(a, b) {
                var c = b.options, e, f, g = d[b.direction];
                e = b.c2p(b.p2c(b.min) + g), f = b.c2p(b.p2c(b.max) + g);
                var h = c.panRange;
                if (h === false) return;
                if (h) {
                    if (h[0] != null && h[0] > e) {
                        g = h[0] - e;
                        e += g;
                        f += g;
                    }
                    if (h[1] != null && h[1] < f) {
                        g = h[1] - f;
                        e += g;
                        f += g;
                    }
                }
                c.min = e;
                c.max = f;
            });
            b.setupGrid();
            b.draw();
            if (!c.preventEvent) b.getPlaceholder().trigger("plotpan", [ b, c ]);
        };
        function m(a, b) {
            b.unbind(a.getOptions().zoom.trigger, c);
            b.unbind("mousewheel", d);
            b.unbind("dragstart", i);
            b.unbind("drag", j);
            b.unbind("dragend", k);
            if (h) clearTimeout(h);
        }
        b.hooks.bindEvents.push(l);
        b.hooks.shutdown.push(m);
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "navigate",
        version: "1.3"
    });
})(jQuery);

(function(a) {
    var b = {};
    function c(b) {
        var c = false;
        function d(a) {
            var c = b.getData();
            for (var d = 0; d < c.length; d++) {
                if (c[d].label == a) {
                    return c[d];
                }
            }
            return null;
        }
        function e(a, c) {
            var e = d(a);
            if (!e) {
                return;
            }
            var g = b.getOptions();
            var h = false;
            if (typeof e.points.oldShow === "undefined") {
                e.points.oldShow = false;
            }
            if (typeof e.lines.oldShow === "undefined") {
                e.lines.oldShow = false;
            }
            if (typeof e.bars.oldShow === "undefined") {
                e.bars.oldShow = false;
            }
            if (e.points.show && !e.points.oldShow) {
                e.points.show = false;
                e.points.oldShow = true;
                h = true;
            }
            if (e.lines.show && !e.lines.oldShow) {
                e.lines.show = false;
                e.lines.oldShow = true;
                h = true;
            }
            if (e.bars.show && !e.bars.oldShow) {
                e.bars.show = false;
                e.bars.oldShow = true;
                h = true;
            }
            if (h) {
                e.oldColor = e.color;
                e.color = "#fff";
                f(g, a, true);
            } else {
                var i = false;
                if (!e.points.show && e.points.oldShow) {
                    e.points.show = true;
                    e.points.oldShow = false;
                    i = true;
                }
                if (!e.lines.show && e.lines.oldShow) {
                    e.lines.show = true;
                    e.lines.oldShow = false;
                    i = true;
                }
                if (!e.bars.show && e.bars.oldShow) {
                    e.bars.show = true;
                    e.bars.oldShow = false;
                    i = true;
                }
                if (i) {
                    e.color = e.oldColor;
                    f(g, a, false);
                }
            }
            b.setData(b.getData());
            b.setupGrid();
            b.draw();
        }
        function f(a, b, c) {
            if (!a.legend.hidden) {
                a.legend.hidden = [];
            }
            var d = a.legend.hidden.indexOf(b);
            if (c) {
                if (d < 0) {
                    a.legend.hidden.push(b);
                }
            } else {
                if (d > -1) {
                    a.legend.hidden.splice(d, 1);
                }
            }
        }
        function g(b) {
            b.mouseenter(function() {
                a(this).css("cursor", "pointer");
            }).mouseleave(function() {
                a(this).css("cursor", "default");
            }).unbind("click").click(function() {
                e(a(this).parent().text());
            });
        }
        function h(a) {
            var b = a.getOptions();
            if (!b.legend.hideable) {
                return;
            }
            var d = a.getPlaceholder();
            g(d.find(".graphlabel"));
            g(d.find(".legendColorBox"));
            if (!c) {
                c = true;
                if (b.legend.hidden) {
                    for (var f = 0; f < b.legend.hidden.length; f++) {
                        e(b.legend.hidden[f], true);
                    }
                }
            }
        }
        function i(a, b) {
            if (!b.legend.hideable) {
                return;
            }
            b.legend.labelFormatter = function(a, b) {
                return '<span class="graphlabel">' + a + "</span>";
            };
        }
        function j(a, b, c) {
            var d = a.getOptions();
            if (!d.legend.hideable) {
                return;
            }
            if (d.legend.hidden && d.legend.hidden.indexOf(b.label) > -1) {
                var e = false;
                if (b.points.show) {
                    b.points.show = false;
                    b.points.oldShow = true;
                    e = true;
                }
                if (b.lines.show) {
                    b.lines.show = false;
                    b.lines.oldShow = true;
                    e = true;
                }
                if (b.bars.show) {
                    b.bars.show = false;
                    b.bars.oldShow = true;
                    e = true;
                }
                if (e) {
                    b.oldColor = b.color;
                    b.color = "#fff";
                }
            }
            if (!b.points.show && !b.lines.show && !b.bars.show) {
                b.datapoints.format = [ null, null ];
            }
        }
        b.hooks.processOptions.push(i);
        b.hooks.draw.push(function(a, b) {
            h(a);
        });
        b.hooks.processDatapoints.push(j);
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "hiddenGraphs",
        version: "1.1"
    });
})(jQuery);

(function(a) {
    var b = {
        series: {
            stack: null
        }
    };
    function c(a) {
        function b(a, b) {
            var c = null;
            for (var d = 0; d < b.length; ++d) {
                if (a == b[d]) break;
                if (b[d].stack == a.stack && (b[d].points.show || b[d].lines.show || b[d].bars.show)) c = b[d];
            }
            return c;
        }
        function c(a, c, d) {
            if (c.stack == null || c.stack === false) return;
            var e = b(c, a.getData());
            if (!e) return;
            if (!c.points.show && !c.lines.show && !c.bars.show) {
                return;
            }
            var f = d.pointsize, g = d.points, h = e.datapoints.pointsize, i = e.datapoints.points, j = [], k, l, m, n, o, p, q = c.lines.show, r = c.bars.horizontal, s = f > 2 && (r ? d.format[2].x : d.format[2].y), t = q && c.lines.steps, u = true, v = r ? 1 : 0, w = r ? 0 : 1, x = 0, y = 0, z, A;
            while (true) {
                if (x >= g.length) break;
                z = j.length;
                if (g[x] == null) {
                    for (A = 0; A < f; ++A) j.push(g[x + A]);
                    x += f;
                } else if (y >= i.length) {
                    if (!q) {
                        for (A = 0; A < f; ++A) j.push(g[x + A]);
                    }
                    x += f;
                } else if (i[y] == null) {
                    for (A = 0; A < f; ++A) j.push(null);
                    u = true;
                    y += h;
                } else {
                    k = g[x + v];
                    l = g[x + w];
                    n = i[y + v];
                    o = i[y + w];
                    p = 0;
                    if (k == n) {
                        for (A = 0; A < f; ++A) j.push(g[x + A]);
                        j[z + w] += o;
                        p = o;
                        x += f;
                        y += h;
                    } else if (k > n) {
                        if (q && x > 0 && g[x - f] != null) {
                            m = l + (g[x - f + w] - l) * (n - k) / (g[x - f + v] - k);
                            j.push(n);
                            j.push(m + o);
                            for (A = 2; A < f; ++A) j.push(g[x + A]);
                            p = o;
                        }
                        y += h;
                    } else {
                        if (u && q) {
                            x += f;
                            continue;
                        }
                        for (A = 0; A < f; ++A) j.push(g[x + A]);
                        if (q && y > 0 && i[y - h] != null) p = o + (i[y - h + w] - o) * (k - n) / (i[y - h + v] - n);
                        j[z + w] += p;
                        x += f;
                    }
                    u = false;
                    if (z != j.length && s) j[z + 2] += p;
                }
                if (t && z != j.length && z > 0 && j[z] != null && j[z] != j[z - f] && j[z + 1] != j[z - f + 1]) {
                    for (A = 0; A < f; ++A) j[z + f + A] = j[z + A];
                    j[z + 1] = j[z - f + 1];
                }
            }
            d.points = j;
        }
        a.hooks.processDatapoints.push(c);
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "stack",
        version: "1.2"
    });
})(jQuery);

(function(a) {
    var b = {
        grid: {
            canvasText: {
                show: false,
                font: "sans 8px",
                series: null,
                seriesFont: "sans 8px",
                lineBreaks: {
                    show: false,
                    marginTop: 3,
                    marginBottom: 5,
                    lineSpacing: 1
                }
            }
        }
    };
    function c(b) {
        var c = {};
        c.font = "sans";
        c.fontSize = 8;
        c.letters = {
            " ": {
                width: 16,
                points: []
            },
            "!": {
                width: 10,
                points: [ [ 5, 21 ], [ 5, 7 ], [ -1, -1 ], [ 5, 2 ], [ 4, 1 ], [ 5, 0 ], [ 6, 1 ], [ 5, 2 ] ]
            },
            '"': {
                width: 16,
                points: [ [ 4, 21 ], [ 4, 14 ], [ -1, -1 ], [ 12, 21 ], [ 12, 14 ] ]
            },
            "#": {
                width: 21,
                points: [ [ 11, 25 ], [ 4, -7 ], [ -1, -1 ], [ 17, 25 ], [ 10, -7 ], [ -1, -1 ], [ 4, 12 ], [ 18, 12 ], [ -1, -1 ], [ 3, 6 ], [ 17, 6 ] ]
            },
            $: {
                width: 20,
                points: [ [ 8, 25 ], [ 8, -4 ], [ -1, -1 ], [ 12, 25 ], [ 12, -4 ], [ -1, -1 ], [ 17, 18 ], [ 15, 20 ], [ 12, 21 ], [ 8, 21 ], [ 5, 20 ], [ 3, 18 ], [ 3, 16 ], [ 4, 14 ], [ 5, 13 ], [ 7, 12 ], [ 13, 10 ], [ 15, 9 ], [ 16, 8 ], [ 17, 6 ], [ 17, 3 ], [ 15, 1 ], [ 12, 0 ], [ 8, 0 ], [ 5, 1 ], [ 3, 3 ] ]
            },
            "%": {
                width: 24,
                points: [ [ 21, 21 ], [ 3, 0 ], [ -1, -1 ], [ 8, 21 ], [ 10, 19 ], [ 10, 17 ], [ 9, 15 ], [ 7, 14 ], [ 5, 14 ], [ 3, 16 ], [ 3, 18 ], [ 4, 20 ], [ 6, 21 ], [ 8, 21 ], [ 10, 20 ], [ 13, 19 ], [ 16, 19 ], [ 19, 20 ], [ 21, 21 ], [ -1, -1 ], [ 17, 7 ], [ 15, 6 ], [ 14, 4 ], [ 14, 2 ], [ 16, 0 ], [ 18, 0 ], [ 20, 1 ], [ 21, 3 ], [ 21, 5 ], [ 19, 7 ], [ 17, 7 ] ]
            },
            "&": {
                width: 26,
                points: [ [ 23, 12 ], [ 23, 13 ], [ 22, 14 ], [ 21, 14 ], [ 20, 13 ], [ 19, 11 ], [ 17, 6 ], [ 15, 3 ], [ 13, 1 ], [ 11, 0 ], [ 7, 0 ], [ 5, 1 ], [ 4, 2 ], [ 3, 4 ], [ 3, 6 ], [ 4, 8 ], [ 5, 9 ], [ 12, 13 ], [ 13, 14 ], [ 14, 16 ], [ 14, 18 ], [ 13, 20 ], [ 11, 21 ], [ 9, 20 ], [ 8, 18 ], [ 8, 16 ], [ 9, 13 ], [ 11, 10 ], [ 16, 3 ], [ 18, 1 ], [ 20, 0 ], [ 22, 0 ], [ 23, 1 ], [ 23, 2 ] ]
            },
            "'": {
                width: 10,
                points: [ [ 5, 19 ], [ 4, 20 ], [ 5, 21 ], [ 6, 20 ], [ 6, 18 ], [ 5, 16 ], [ 4, 15 ] ]
            },
            "(": {
                width: 14,
                points: [ [ 11, 25 ], [ 9, 23 ], [ 7, 20 ], [ 5, 16 ], [ 4, 11 ], [ 4, 7 ], [ 5, 2 ], [ 7, -2 ], [ 9, -5 ], [ 11, -7 ] ]
            },
            ")": {
                width: 14,
                points: [ [ 3, 25 ], [ 5, 23 ], [ 7, 20 ], [ 9, 16 ], [ 10, 11 ], [ 10, 7 ], [ 9, 2 ], [ 7, -2 ], [ 5, -5 ], [ 3, -7 ] ]
            },
            "*": {
                width: 16,
                points: [ [ 8, 21 ], [ 8, 9 ], [ -1, -1 ], [ 3, 18 ], [ 13, 12 ], [ -1, -1 ], [ 13, 18 ], [ 3, 12 ] ]
            },
            "+": {
                width: 26,
                points: [ [ 13, 18 ], [ 13, 0 ], [ -1, -1 ], [ 4, 9 ], [ 22, 9 ] ]
            },
            ",": {
                width: 10,
                points: [ [ 6, 1 ], [ 5, 0 ], [ 4, 1 ], [ 5, 2 ], [ 6, 1 ], [ 6, -1 ], [ 5, -3 ], [ 4, -4 ] ]
            },
            "-": {
                width: 26,
                points: [ [ 4, 9 ], [ 22, 9 ] ]
            },
            ".": {
                width: 10,
                points: [ [ 5, 2 ], [ 4, 1 ], [ 5, 0 ], [ 6, 1 ], [ 5, 2 ] ]
            },
            "/": {
                width: 22,
                points: [ [ 20, 25 ], [ 2, -7 ] ]
            },
            "0": {
                width: 20,
                points: [ [ 9, 21 ], [ 6, 20 ], [ 4, 17 ], [ 3, 12 ], [ 3, 9 ], [ 4, 4 ], [ 6, 1 ], [ 9, 0 ], [ 11, 0 ], [ 14, 1 ], [ 16, 4 ], [ 17, 9 ], [ 17, 12 ], [ 16, 17 ], [ 14, 20 ], [ 11, 21 ], [ 9, 21 ] ]
            },
            "1": {
                width: 20,
                points: [ [ 6, 17 ], [ 8, 18 ], [ 11, 21 ], [ 11, 0 ] ]
            },
            "2": {
                width: 20,
                points: [ [ 4, 16 ], [ 4, 17 ], [ 5, 19 ], [ 6, 20 ], [ 8, 21 ], [ 12, 21 ], [ 14, 20 ], [ 15, 19 ], [ 16, 17 ], [ 16, 15 ], [ 15, 13 ], [ 13, 10 ], [ 3, 0 ], [ 17, 0 ] ]
            },
            "3": {
                width: 20,
                points: [ [ 5, 21 ], [ 16, 21 ], [ 10, 13 ], [ 13, 13 ], [ 15, 12 ], [ 16, 11 ], [ 17, 8 ], [ 17, 6 ], [ 16, 3 ], [ 14, 1 ], [ 11, 0 ], [ 8, 0 ], [ 5, 1 ], [ 4, 2 ], [ 3, 4 ] ]
            },
            "4": {
                width: 20,
                points: [ [ 13, 21 ], [ 3, 7 ], [ 18, 7 ], [ -1, -1 ], [ 13, 21 ], [ 13, 0 ] ]
            },
            "5": {
                width: 20,
                points: [ [ 15, 21 ], [ 5, 21 ], [ 4, 12 ], [ 5, 13 ], [ 8, 14 ], [ 11, 14 ], [ 14, 13 ], [ 16, 11 ], [ 17, 8 ], [ 17, 6 ], [ 16, 3 ], [ 14, 1 ], [ 11, 0 ], [ 8, 0 ], [ 5, 1 ], [ 4, 2 ], [ 3, 4 ] ]
            },
            "6": {
                width: 20,
                points: [ [ 16, 18 ], [ 15, 20 ], [ 12, 21 ], [ 10, 21 ], [ 7, 20 ], [ 5, 17 ], [ 4, 12 ], [ 4, 7 ], [ 5, 3 ], [ 7, 1 ], [ 10, 0 ], [ 11, 0 ], [ 14, 1 ], [ 16, 3 ], [ 17, 6 ], [ 17, 7 ], [ 16, 10 ], [ 14, 12 ], [ 11, 13 ], [ 10, 13 ], [ 7, 12 ], [ 5, 10 ], [ 4, 7 ] ]
            },
            "7": {
                width: 20,
                points: [ [ 17, 21 ], [ 7, 0 ], [ -1, -1 ], [ 3, 21 ], [ 17, 21 ] ]
            },
            "8": {
                width: 20,
                points: [ [ 8, 21 ], [ 5, 20 ], [ 4, 18 ], [ 4, 16 ], [ 5, 14 ], [ 7, 13 ], [ 11, 12 ], [ 14, 11 ], [ 16, 9 ], [ 17, 7 ], [ 17, 4 ], [ 16, 2 ], [ 15, 1 ], [ 12, 0 ], [ 8, 0 ], [ 5, 1 ], [ 4, 2 ], [ 3, 4 ], [ 3, 7 ], [ 4, 9 ], [ 6, 11 ], [ 9, 12 ], [ 13, 13 ], [ 15, 14 ], [ 16, 16 ], [ 16, 18 ], [ 15, 20 ], [ 12, 21 ], [ 8, 21 ] ]
            },
            "9": {
                width: 20,
                points: [ [ 16, 14 ], [ 15, 11 ], [ 13, 9 ], [ 10, 8 ], [ 9, 8 ], [ 6, 9 ], [ 4, 11 ], [ 3, 14 ], [ 3, 15 ], [ 4, 18 ], [ 6, 20 ], [ 9, 21 ], [ 10, 21 ], [ 13, 20 ], [ 15, 18 ], [ 16, 14 ], [ 16, 9 ], [ 15, 4 ], [ 13, 1 ], [ 10, 0 ], [ 8, 0 ], [ 5, 1 ], [ 4, 3 ] ]
            },
            ":": {
                width: 10,
                points: [ [ 5, 14 ], [ 4, 13 ], [ 5, 12 ], [ 6, 13 ], [ 5, 14 ], [ -1, -1 ], [ 5, 2 ], [ 4, 1 ], [ 5, 0 ], [ 6, 1 ], [ 5, 2 ] ]
            },
            ";": {
                width: 10,
                points: [ [ 5, 14 ], [ 4, 13 ], [ 5, 12 ], [ 6, 13 ], [ 5, 14 ], [ -1, -1 ], [ 6, 1 ], [ 5, 0 ], [ 4, 1 ], [ 5, 2 ], [ 6, 1 ], [ 6, -1 ], [ 5, -3 ], [ 4, -4 ] ]
            },
            "<": {
                width: 24,
                points: [ [ 20, 18 ], [ 4, 9 ], [ 20, 0 ] ]
            },
            "=": {
                width: 26,
                points: [ [ 4, 12 ], [ 22, 12 ], [ -1, -1 ], [ 4, 6 ], [ 22, 6 ] ]
            },
            ">": {
                width: 24,
                points: [ [ 4, 18 ], [ 20, 9 ], [ 4, 0 ] ]
            },
            "": {
                width: 24,
                points: [ [ 4, 18 ], [ 20, 12 ], [ 4, 7 ], [ -1, -1 ], [ 4, 2 ], [ 20, 2 ] ]
            },
            "?": {
                width: 18,
                points: [ [ 3, 16 ], [ 3, 17 ], [ 4, 19 ], [ 5, 20 ], [ 7, 21 ], [ 11, 21 ], [ 13, 20 ], [ 14, 19 ], [ 15, 17 ], [ 15, 15 ], [ 14, 13 ], [ 13, 12 ], [ 9, 10 ], [ 9, 7 ], [ -1, -1 ], [ 9, 2 ], [ 8, 1 ], [ 9, 0 ], [ 10, 1 ], [ 9, 2 ] ]
            },
            "@": {
                width: 27,
                points: [ [ 18, 13 ], [ 17, 15 ], [ 15, 16 ], [ 12, 16 ], [ 10, 15 ], [ 9, 14 ], [ 8, 11 ], [ 8, 8 ], [ 9, 6 ], [ 11, 5 ], [ 14, 5 ], [ 16, 6 ], [ 17, 8 ], [ -1, -1 ], [ 12, 16 ], [ 10, 14 ], [ 9, 11 ], [ 9, 8 ], [ 10, 6 ], [ 11, 5 ], [ -1, -1 ], [ 18, 16 ], [ 17, 8 ], [ 17, 6 ], [ 19, 5 ], [ 21, 5 ], [ 23, 7 ], [ 24, 10 ], [ 24, 12 ], [ 23, 15 ], [ 22, 17 ], [ 20, 19 ], [ 18, 20 ], [ 15, 21 ], [ 12, 21 ], [ 9, 20 ], [ 7, 19 ], [ 5, 17 ], [ 4, 15 ], [ 3, 12 ], [ 3, 9 ], [ 4, 6 ], [ 5, 4 ], [ 7, 2 ], [ 9, 1 ], [ 12, 0 ], [ 15, 0 ], [ 18, 1 ], [ 20, 2 ], [ 21, 3 ], [ -1, -1 ], [ 19, 16 ], [ 18, 8 ], [ 18, 6 ], [ 19, 5 ] ]
            },
            A: {
                width: 18,
                points: [ [ 9, 21 ], [ 1, 0 ], [ -1, -1 ], [ 9, 21 ], [ 17, 0 ], [ -1, -1 ], [ 4, 7 ], [ 14, 7 ] ]
            },
            B: {
                width: 21,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 13, 21 ], [ 16, 20 ], [ 17, 19 ], [ 18, 17 ], [ 18, 15 ], [ 17, 13 ], [ 16, 12 ], [ 13, 11 ], [ -1, -1 ], [ 4, 11 ], [ 13, 11 ], [ 16, 10 ], [ 17, 9 ], [ 18, 7 ], [ 18, 4 ], [ 17, 2 ], [ 16, 1 ], [ 13, 0 ], [ 4, 0 ] ]
            },
            C: {
                width: 21,
                points: [ [ 18, 16 ], [ 17, 18 ], [ 15, 20 ], [ 13, 21 ], [ 9, 21 ], [ 7, 20 ], [ 5, 18 ], [ 4, 16 ], [ 3, 13 ], [ 3, 8 ], [ 4, 5 ], [ 5, 3 ], [ 7, 1 ], [ 9, 0 ], [ 13, 0 ], [ 15, 1 ], [ 17, 3 ], [ 18, 5 ] ]
            },
            D: {
                width: 21,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 11, 21 ], [ 14, 20 ], [ 16, 18 ], [ 17, 16 ], [ 18, 13 ], [ 18, 8 ], [ 17, 5 ], [ 16, 3 ], [ 14, 1 ], [ 11, 0 ], [ 4, 0 ] ]
            },
            E: {
                width: 19,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 17, 21 ], [ -1, -1 ], [ 4, 11 ], [ 12, 11 ], [ -1, -1 ], [ 4, 0 ], [ 17, 0 ] ]
            },
            F: {
                width: 18,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 17, 21 ], [ -1, -1 ], [ 4, 11 ], [ 12, 11 ] ]
            },
            G: {
                width: 21,
                points: [ [ 18, 16 ], [ 17, 18 ], [ 15, 20 ], [ 13, 21 ], [ 9, 21 ], [ 7, 20 ], [ 5, 18 ], [ 4, 16 ], [ 3, 13 ], [ 3, 8 ], [ 4, 5 ], [ 5, 3 ], [ 7, 1 ], [ 9, 0 ], [ 13, 0 ], [ 15, 1 ], [ 17, 3 ], [ 18, 5 ], [ 18, 8 ], [ -1, -1 ], [ 13, 8 ], [ 18, 8 ] ]
            },
            H: {
                width: 22,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 18, 21 ], [ 18, 0 ], [ -1, -1 ], [ 4, 11 ], [ 18, 11 ] ]
            },
            I: {
                width: 8,
                points: [ [ 4, 21 ], [ 4, 0 ] ]
            },
            J: {
                width: 16,
                points: [ [ 12, 21 ], [ 12, 5 ], [ 11, 2 ], [ 10, 1 ], [ 8, 0 ], [ 6, 0 ], [ 4, 1 ], [ 3, 2 ], [ 2, 5 ], [ 2, 7 ] ]
            },
            K: {
                width: 21,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 18, 21 ], [ 4, 7 ], [ -1, -1 ], [ 9, 12 ], [ 18, 0 ] ]
            },
            L: {
                width: 17,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 0 ], [ 16, 0 ] ]
            },
            M: {
                width: 24,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 12, 0 ], [ -1, -1 ], [ 20, 21 ], [ 12, 0 ], [ -1, -1 ], [ 20, 21 ], [ 20, 0 ] ]
            },
            N: {
                width: 22,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 18, 0 ], [ -1, -1 ], [ 18, 21 ], [ 18, 0 ] ]
            },
            O: {
                width: 22,
                points: [ [ 9, 21 ], [ 7, 20 ], [ 5, 18 ], [ 4, 16 ], [ 3, 13 ], [ 3, 8 ], [ 4, 5 ], [ 5, 3 ], [ 7, 1 ], [ 9, 0 ], [ 13, 0 ], [ 15, 1 ], [ 17, 3 ], [ 18, 5 ], [ 19, 8 ], [ 19, 13 ], [ 18, 16 ], [ 17, 18 ], [ 15, 20 ], [ 13, 21 ], [ 9, 21 ] ]
            },
            P: {
                width: 21,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 13, 21 ], [ 16, 20 ], [ 17, 19 ], [ 18, 17 ], [ 18, 14 ], [ 17, 12 ], [ 16, 11 ], [ 13, 10 ], [ 4, 10 ] ]
            },
            Q: {
                width: 22,
                points: [ [ 9, 21 ], [ 7, 20 ], [ 5, 18 ], [ 4, 16 ], [ 3, 13 ], [ 3, 8 ], [ 4, 5 ], [ 5, 3 ], [ 7, 1 ], [ 9, 0 ], [ 13, 0 ], [ 15, 1 ], [ 17, 3 ], [ 18, 5 ], [ 19, 8 ], [ 19, 13 ], [ 18, 16 ], [ 17, 18 ], [ 15, 20 ], [ 13, 21 ], [ 9, 21 ], [ -1, -1 ], [ 12, 4 ], [ 18, -2 ] ]
            },
            R: {
                width: 21,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 21 ], [ 13, 21 ], [ 16, 20 ], [ 17, 19 ], [ 18, 17 ], [ 18, 15 ], [ 17, 13 ], [ 16, 12 ], [ 13, 11 ], [ 4, 11 ], [ -1, -1 ], [ 11, 11 ], [ 18, 0 ] ]
            },
            S: {
                width: 20,
                points: [ [ 17, 18 ], [ 15, 20 ], [ 12, 21 ], [ 8, 21 ], [ 5, 20 ], [ 3, 18 ], [ 3, 16 ], [ 4, 14 ], [ 5, 13 ], [ 7, 12 ], [ 13, 10 ], [ 15, 9 ], [ 16, 8 ], [ 17, 6 ], [ 17, 3 ], [ 15, 1 ], [ 12, 0 ], [ 8, 0 ], [ 5, 1 ], [ 3, 3 ] ]
            },
            T: {
                width: 16,
                points: [ [ 8, 21 ], [ 8, 0 ], [ -1, -1 ], [ 1, 21 ], [ 15, 21 ] ]
            },
            U: {
                width: 22,
                points: [ [ 4, 21 ], [ 4, 6 ], [ 5, 3 ], [ 7, 1 ], [ 10, 0 ], [ 12, 0 ], [ 15, 1 ], [ 17, 3 ], [ 18, 6 ], [ 18, 21 ] ]
            },
            V: {
                width: 18,
                points: [ [ 1, 21 ], [ 9, 0 ], [ -1, -1 ], [ 17, 21 ], [ 9, 0 ] ]
            },
            W: {
                width: 24,
                points: [ [ 2, 21 ], [ 7, 0 ], [ -1, -1 ], [ 12, 21 ], [ 7, 0 ], [ -1, -1 ], [ 12, 21 ], [ 17, 0 ], [ -1, -1 ], [ 22, 21 ], [ 17, 0 ] ]
            },
            X: {
                width: 20,
                points: [ [ 3, 21 ], [ 17, 0 ], [ -1, -1 ], [ 17, 21 ], [ 3, 0 ] ]
            },
            Y: {
                width: 18,
                points: [ [ 1, 21 ], [ 9, 11 ], [ 9, 0 ], [ -1, -1 ], [ 17, 21 ], [ 9, 11 ] ]
            },
            Z: {
                width: 20,
                points: [ [ 17, 21 ], [ 3, 0 ], [ -1, -1 ], [ 3, 21 ], [ 17, 21 ], [ -1, -1 ], [ 3, 0 ], [ 17, 0 ] ]
            },
            "[": {
                width: 14,
                points: [ [ 4, 25 ], [ 4, -7 ], [ -1, -1 ], [ 5, 25 ], [ 5, -7 ], [ -1, -1 ], [ 4, 25 ], [ 11, 25 ], [ -1, -1 ], [ 4, -7 ], [ 11, -7 ] ]
            },
            "\\": {
                width: 14,
                points: [ [ 0, 21 ], [ 14, -3 ] ]
            },
            "]": {
                width: 14,
                points: [ [ 9, 25 ], [ 9, -7 ], [ -1, -1 ], [ 10, 25 ], [ 10, -7 ], [ -1, -1 ], [ 3, 25 ], [ 10, 25 ], [ -1, -1 ], [ 3, -7 ], [ 10, -7 ] ]
            },
            "^": {
                width: 16,
                points: [ [ 6, 15 ], [ 8, 18 ], [ 10, 15 ], [ -1, -1 ], [ 3, 12 ], [ 8, 17 ], [ 13, 12 ], [ -1, -1 ], [ 8, 17 ], [ 8, 0 ] ]
            },
            _: {
                width: 16,
                points: [ [ 0, -2 ], [ 16, -2 ] ]
            },
            "`": {
                width: 10,
                points: [ [ 6, 21 ], [ 5, 20 ], [ 4, 18 ], [ 4, 16 ], [ 5, 15 ], [ 6, 16 ], [ 5, 17 ] ]
            },
            a: {
                width: 19,
                points: [ [ 15, 14 ], [ 15, 0 ], [ -1, -1 ], [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            b: {
                width: 19,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 11 ], [ 6, 13 ], [ 8, 14 ], [ 11, 14 ], [ 13, 13 ], [ 15, 11 ], [ 16, 8 ], [ 16, 6 ], [ 15, 3 ], [ 13, 1 ], [ 11, 0 ], [ 8, 0 ], [ 6, 1 ], [ 4, 3 ] ]
            },
            c: {
                width: 18,
                points: [ [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            d: {
                width: 19,
                points: [ [ 15, 21 ], [ 15, 0 ], [ -1, -1 ], [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            e: {
                width: 18,
                points: [ [ 3, 8 ], [ 15, 8 ], [ 15, 10 ], [ 14, 12 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            f: {
                width: 12,
                points: [ [ 10, 21 ], [ 8, 21 ], [ 6, 20 ], [ 5, 17 ], [ 5, 0 ], [ -1, -1 ], [ 2, 14 ], [ 9, 14 ] ]
            },
            g: {
                width: 19,
                points: [ [ 15, 14 ], [ 15, -2 ], [ 14, -5 ], [ 13, -6 ], [ 11, -7 ], [ 8, -7 ], [ 6, -6 ], [ -1, -1 ], [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            h: {
                width: 19,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 4, 10 ], [ 7, 13 ], [ 9, 14 ], [ 12, 14 ], [ 14, 13 ], [ 15, 10 ], [ 15, 0 ] ]
            },
            i: {
                width: 8,
                points: [ [ 3, 21 ], [ 4, 20 ], [ 5, 21 ], [ 4, 22 ], [ 3, 21 ], [ -1, -1 ], [ 4, 14 ], [ 4, 0 ] ]
            },
            j: {
                width: 10,
                points: [ [ 5, 21 ], [ 6, 20 ], [ 7, 21 ], [ 6, 22 ], [ 5, 21 ], [ -1, -1 ], [ 6, 14 ], [ 6, -3 ], [ 5, -6 ], [ 3, -7 ], [ 1, -7 ] ]
            },
            k: {
                width: 17,
                points: [ [ 4, 21 ], [ 4, 0 ], [ -1, -1 ], [ 14, 14 ], [ 4, 4 ], [ -1, -1 ], [ 8, 8 ], [ 15, 0 ] ]
            },
            l: {
                width: 8,
                points: [ [ 4, 21 ], [ 4, 0 ] ]
            },
            m: {
                width: 30,
                points: [ [ 4, 14 ], [ 4, 0 ], [ -1, -1 ], [ 4, 10 ], [ 7, 13 ], [ 9, 14 ], [ 12, 14 ], [ 14, 13 ], [ 15, 10 ], [ 15, 0 ], [ -1, -1 ], [ 15, 10 ], [ 18, 13 ], [ 20, 14 ], [ 23, 14 ], [ 25, 13 ], [ 26, 10 ], [ 26, 0 ] ]
            },
            n: {
                width: 19,
                points: [ [ 4, 14 ], [ 4, 0 ], [ -1, -1 ], [ 4, 10 ], [ 7, 13 ], [ 9, 14 ], [ 12, 14 ], [ 14, 13 ], [ 15, 10 ], [ 15, 0 ] ]
            },
            o: {
                width: 19,
                points: [ [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ], [ 16, 6 ], [ 16, 8 ], [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ] ]
            },
            p: {
                width: 19,
                points: [ [ 4, 14 ], [ 4, -7 ], [ -1, -1 ], [ 4, 11 ], [ 6, 13 ], [ 8, 14 ], [ 11, 14 ], [ 13, 13 ], [ 15, 11 ], [ 16, 8 ], [ 16, 6 ], [ 15, 3 ], [ 13, 1 ], [ 11, 0 ], [ 8, 0 ], [ 6, 1 ], [ 4, 3 ] ]
            },
            q: {
                width: 19,
                points: [ [ 15, 14 ], [ 15, -7 ], [ -1, -1 ], [ 15, 11 ], [ 13, 13 ], [ 11, 14 ], [ 8, 14 ], [ 6, 13 ], [ 4, 11 ], [ 3, 8 ], [ 3, 6 ], [ 4, 3 ], [ 6, 1 ], [ 8, 0 ], [ 11, 0 ], [ 13, 1 ], [ 15, 3 ] ]
            },
            r: {
                width: 13,
                points: [ [ 4, 14 ], [ 4, 0 ], [ -1, -1 ], [ 4, 8 ], [ 5, 11 ], [ 7, 13 ], [ 9, 14 ], [ 12, 14 ] ]
            },
            s: {
                width: 17,
                points: [ [ 14, 11 ], [ 13, 13 ], [ 10, 14 ], [ 7, 14 ], [ 4, 13 ], [ 3, 11 ], [ 4, 9 ], [ 6, 8 ], [ 11, 7 ], [ 13, 6 ], [ 14, 4 ], [ 14, 3 ], [ 13, 1 ], [ 10, 0 ], [ 7, 0 ], [ 4, 1 ], [ 3, 3 ] ]
            },
            t: {
                width: 12,
                points: [ [ 5, 21 ], [ 5, 4 ], [ 6, 1 ], [ 8, 0 ], [ 10, 0 ], [ -1, -1 ], [ 2, 14 ], [ 9, 14 ] ]
            },
            u: {
                width: 19,
                points: [ [ 4, 14 ], [ 4, 4 ], [ 5, 1 ], [ 7, 0 ], [ 10, 0 ], [ 12, 1 ], [ 15, 4 ], [ -1, -1 ], [ 15, 14 ], [ 15, 0 ] ]
            },
            v: {
                width: 16,
                points: [ [ 2, 14 ], [ 8, 0 ], [ -1, -1 ], [ 14, 14 ], [ 8, 0 ] ]
            },
            w: {
                width: 22,
                points: [ [ 3, 14 ], [ 7, 0 ], [ -1, -1 ], [ 11, 14 ], [ 7, 0 ], [ -1, -1 ], [ 11, 14 ], [ 15, 0 ], [ -1, -1 ], [ 19, 14 ], [ 15, 0 ] ]
            },
            x: {
                width: 17,
                points: [ [ 3, 14 ], [ 14, 0 ], [ -1, -1 ], [ 14, 14 ], [ 3, 0 ] ]
            },
            y: {
                width: 16,
                points: [ [ 2, 14 ], [ 8, 0 ], [ -1, -1 ], [ 14, 14 ], [ 8, 0 ], [ 6, -4 ], [ 4, -6 ], [ 2, -7 ], [ 1, -7 ] ]
            },
            z: {
                width: 17,
                points: [ [ 14, 14 ], [ 3, 0 ], [ -1, -1 ], [ 3, 14 ], [ 14, 14 ], [ -1, -1 ], [ 3, 0 ], [ 14, 0 ] ]
            },
            "{": {
                width: 14,
                points: [ [ 9, 25 ], [ 7, 24 ], [ 6, 23 ], [ 5, 21 ], [ 5, 19 ], [ 6, 17 ], [ 7, 16 ], [ 8, 14 ], [ 8, 12 ], [ 6, 10 ], [ -1, -1 ], [ 7, 24 ], [ 6, 22 ], [ 6, 20 ], [ 7, 18 ], [ 8, 17 ], [ 9, 15 ], [ 9, 13 ], [ 8, 11 ], [ 4, 9 ], [ 8, 7 ], [ 9, 5 ], [ 9, 3 ], [ 8, 1 ], [ 7, 0 ], [ 6, -2 ], [ 6, -4 ], [ 7, -6 ], [ -1, -1 ], [ 6, 8 ], [ 8, 6 ], [ 8, 4 ], [ 7, 2 ], [ 6, 1 ], [ 5, -1 ], [ 5, -3 ], [ 6, -5 ], [ 7, -6 ], [ 9, -7 ] ]
            },
            "|": {
                width: 8,
                points: [ [ 4, 25 ], [ 4, -7 ] ]
            },
            "}": {
                width: 14,
                points: [ [ 5, 25 ], [ 7, 24 ], [ 8, 23 ], [ 9, 21 ], [ 9, 19 ], [ 8, 17 ], [ 7, 16 ], [ 6, 14 ], [ 6, 12 ], [ 8, 10 ], [ -1, -1 ], [ 7, 24 ], [ 8, 22 ], [ 8, 20 ], [ 7, 18 ], [ 6, 17 ], [ 5, 15 ], [ 5, 13 ], [ 6, 11 ], [ 10, 9 ], [ 6, 7 ], [ 5, 5 ], [ 5, 3 ], [ 6, 1 ], [ 7, 0 ], [ 8, -2 ], [ 8, -4 ], [ 7, -6 ], [ -1, -1 ], [ 8, 8 ], [ 6, 6 ], [ 6, 4 ], [ 7, 2 ], [ 8, 1 ], [ 9, -1 ], [ 9, -3 ], [ 8, -5 ], [ 7, -6 ], [ 5, -7 ] ]
            },
            "~": {
                width: 24,
                points: [ [ 3, 6 ], [ 3, 8 ], [ 4, 11 ], [ 6, 12 ], [ 8, 12 ], [ 10, 11 ], [ 14, 8 ], [ 16, 7 ], [ 18, 7 ], [ 20, 8 ], [ 21, 10 ], [ -1, -1 ], [ 3, 8 ], [ 4, 10 ], [ 6, 11 ], [ 8, 11 ], [ 10, 10 ], [ 14, 7 ], [ 16, 6 ], [ 18, 6 ], [ 20, 7 ], [ 21, 10 ], [ 21, 12 ] ]
            }
        };
        c.letter = function(a) {
            return c.letters[a];
        };
        c.ascent = function() {
            var a = c.fontName;
            var b = c.fontSize;
            return b;
        };
        c.descent = function() {
            var a = c.fontName;
            var b = c.fontSize;
            return 7 * b / 25;
        };
        c.measure = function(a) {
            var b = c.fontName;
            var d = c.fontSize;
            var e = 0;
            var f = a.length;
            for (i = 0; i < f; i++) {
                var g = c.letter(a.charAt(i));
                if (g) e += g.width * d / 25;
            }
            return e;
        };
        c.fontFamily = function(a) {
            var b = a.match(/ [0-9]?[0-9]px/gi);
            var d = a.match(/^[a-z]* /gi);
            c.fontName = d;
            c.fontSize = parseInt(b[0].replace("px", "").replace(" ", ""));
            return true;
        };
        function d(a) {
            if (typeof a !== "string") return a;
            a = a.replace(/<(?:.|\n)*?>/gm, "");
            a = a.replace(/&Uuml;/g, "");
            a = a.replace(/&uuml;/g, "");
            a = a.replace(/&Ouml;/g, "");
            a = a.replace(/&ouml;/g, "");
            a = a.replace(/&Auml;/g, "");
            a = a.replace(/&auml;/g, "");
            a = a.replace(/&szlig;/g, "");
            a = a.replace(/&nbsp;/g, " ");
            return a;
        }
        function e(a, b) {
            var c = a.getOptions();
            if (c.grid.canvasText.show) {
                if (c.legend.container == null) a.insertLegendCanvasText(b);
            }
        }
        b.insertLegendCanvasText = function(e) {
            var f = b.getOptions();
            var g = b.getData();
            var h = b.getPlotOffset();
            var i = b.height();
            var j = b.width();
            if (!f.legend.show) return;
            var k = f.legend.labelFormatter, l, m, n, o;
            n = 0;
            o = 0;
            for (var p = 0; p < g.length; ++p) {
                l = g[p];
                m = l.label;
                if (!m) {
                    continue;
                }
                if (k) {
                    m = k(m, l);
                }
                m = d(m);
                labelWidth = c.measure(m);
                if (labelWidth > n) {
                    n = labelWidth;
                }
            }
            LEGEND_BOX_WIDTH = 22;
            LEGEND_BOX_LINE_HEIGHT = 18;
            n = n + LEGEND_BOX_WIDTH;
            o = g.length * LEGEND_BOX_LINE_HEIGHT;
            var q, r;
            if (f.legend.container != null) {
                q = a(f.legend.container).offset().left;
                r = a(f.legend.container).offset().top;
            } else {
                var s = "", t = f.legend.position, u = f.legend.margin;
                if (u[0] == null) u = [ u, u ];
                if (t.charAt(0) == "n") {
                    r = Math.round(h.top + f.grid.borderWidth + u[1]);
                } else if (t.charAt(0) == "s") {
                    r = Math.round(h.top + f.grid.borderWidth + i - u[0] - o);
                }
                if (t.charAt(1) == "e") {
                    q = Math.round(h.left + f.grid.borderWidth + j - u[0] - n);
                } else if (t.charAt(1) == "w") {
                    q = Math.round(h.left + f.grid.borderWidth + u[0]);
                }
                if (f.legend.backgroundOpacity != 0) {
                    var v = f.legend.backgroundColor;
                    if (v == null) {
                        v = f.grid.backgroundColor;
                    }
                    if (v && typeof v == "string") {
                        e.globalAlpha = f.legend.backgroundOpacity;
                        e.fillStyle = v;
                        e.fillRect(q, r, n, o);
                        e.globalAlpha = 1;
                    }
                }
            }
            var w, x;
            for (var p = 0; p < g.length; ++p) {
                l = g[p];
                m = l.label;
                if (!m) {
                    continue;
                }
                if (k) {
                    m = k(m, l);
                }
                m = d(m);
                x = r + p * 18;
                e.fillStyle = f.legend.labelBoxBorderColor;
                e.fillRect(q, x, 18, 14);
                e.fillStyle = "#FFF";
                e.fillRect(q + 1, x + 1, 16, 12);
                e.fillStyle = l.color;
                e.fillRect(q + 2, x + 2, 14, 10);
                w = q + 22;
                x = x + c.ascent() + 2;
                e.fillStyle = "#545454";
                e.fillText(m, w, x);
            }
        };
        b.hooks.draw.push(e);
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "flot.canvas.text",
        version: "0.1hc"
    });
})(jQuery);

(function(a) {
    function b(a) {
        var b;
        var c;
        var d;
        var e;
        var f = 1;
        var g = false;
        function h(a, d, f) {
            var g = null;
            if (i(d)) {
                p(d);
                j(a);
                l(a);
                o(d);
                if (c >= 2) {
                    var h = q(d);
                    var k = 0;
                    var m = r();
                    if (s(h)) {
                        k = -1 * t(b, h - 1, Math.floor(c / 2) - 1) - m;
                    } else {
                        k = t(b, Math.ceil(c / 2), h - 2) + m + e * 2;
                    }
                    g = u(f, d, k);
                    f.points = g;
                }
            }
            return g;
        }
        function i(a) {
            return a.bars != null && a.bars.show && a.bars.order != null;
        }
        function j(a) {
            var b = g ? a.getPlaceholder().innerHeight() : a.getPlaceholder().innerWidth();
            var c = g ? k(a.getData(), 1) : k(a.getData(), 0);
            var d = c[1] - c[0];
            f = d / b;
        }
        function k(a, b) {
            var c = new Array();
            for (var d = 0; d < a.length; d++) {
                c[0] = a[d].data[0][b];
                c[1] = a[d].data[a[d].data.length - 1][b];
            }
            return c;
        }
        function l(a) {
            b = m(a.getData());
            c = b.length;
        }
        function m(a) {
            var b = new Array();
            for (var c = 0; c < a.length; c++) {
                if (a[c].bars.order != null && a[c].bars.show) {
                    b.push(a[c]);
                }
            }
            return b.sort(n);
        }
        function n(a, b) {
            var c = a.bars.order;
            var d = b.bars.order;
            return c < d ? -1 : c > d ? 1 : 0;
        }
        function o(a) {
            d = a.bars.lineWidth ? a.bars.lineWidth : 2;
            e = d * f;
        }
        function p(a) {
            if (a.bars.horizontal) {
                g = true;
            }
        }
        function q(a) {
            var c = 0;
            for (var d = 0; d < b.length; ++d) {
                if (a == b[d]) {
                    c = d;
                    break;
                }
            }
            return c + 1;
        }
        function r() {
            var a = 0;
            if (c % 2 != 0) a = b[Math.ceil(c / 2)].bars.barWidth / 2;
            return a;
        }
        function s(a) {
            return a <= Math.ceil(c / 2);
        }
        function t(a, b, c) {
            var d = 0;
            for (var f = b; f <= c; f++) {
                d += a[f].bars.barWidth + e * 2;
            }
            return d;
        }
        function u(a, b, c) {
            var d = a.pointsize;
            var e = a.points;
            var f = 0;
            for (var h = g ? 1 : 0; h < e.length; h += d) {
                e[h] += c;
                b.data[f][3] = e[h];
                f++;
            }
            return e;
        }
        a.hooks.processDatapoints.push(h);
    }
    var c = {
        series: {
            bars: {
                order: null
            }
        }
    };
    a.plot.plugins.push({
        init: b,
        options: c,
        name: "orderBars",
        version: "0.2"
    });
})(jQuery);

(function(a) {
    var b = {
        canvas: true
    };
    var c, d, e;
    var f = Object.prototype.hasOwnProperty;
    function g(b, g) {
        var h = g.Canvas;
        if (c == null) {
            d = h.prototype.getTextInfo, e = h.prototype.addText, c = h.prototype.render;
        }
        h.prototype.render = function() {
            if (!b.getOptions().canvas) {
                return c.call(this);
            }
            var a = this.context, d = this._textCache;
            a.save();
            a.textBaseline = "middle";
            for (var e in d) {
                if (f.call(d, e)) {
                    var g = d[e];
                    for (var h in g) {
                        if (f.call(g, h)) {
                            var i = g[h], j = true;
                            for (var k in i) {
                                if (f.call(i, k)) {
                                    var l = i[k], m = l.positions, n = l.lines;
                                    if (j) {
                                        a.fillStyle = l.font.color;
                                        a.font = l.font.definition;
                                        j = false;
                                    }
                                    for (var o = 0, p; p = m[o]; o++) {
                                        if (p.active) {
                                            for (var q = 0, r; r = p.lines[q]; q++) {
                                                a.fillText(n[q].text, r[0], r[1]);
                                            }
                                        } else {
                                            m.splice(o--, 1);
                                        }
                                    }
                                    if (m.length == 0) {
                                        delete i[k];
                                    }
                                }
                            }
                        }
                    }
                }
            }
            a.restore();
        };
        h.prototype.getTextInfo = function(c, e, f, g, h) {
            if (!b.getOptions().canvas) {
                return d.call(this, c, e, f, g, h);
            }
            var i, j, k, l;
            e = "" + e;
            if (typeof f === "object") {
                i = f.style + " " + f.variant + " " + f.weight + " " + f.size + "px " + f.family;
            } else {
                i = f;
            }
            j = this._textCache[c];
            if (j == null) {
                j = this._textCache[c] = {};
            }
            k = j[i];
            if (k == null) {
                k = j[i] = {};
            }
            l = k[e];
            if (l == null) {
                var m = this.context;
                if (typeof f !== "object") {
                    var n = a("<div>&nbsp;</div>").css("position", "absolute").addClass(typeof f === "string" ? f : null).appendTo(this.getTextLayer(c));
                    f = {
                        lineHeight: n.height(),
                        style: n.css("font-style"),
                        variant: n.css("font-variant"),
                        weight: n.css("font-weight"),
                        family: n.css("font-family"),
                        color: n.css("color")
                    };
                    f.size = n.css("line-height", 1).height();
                    n.remove();
                }
                i = f.style + " " + f.variant + " " + f.weight + " " + f.size + "px " + f.family;
                l = k[e] = {
                    width: 0,
                    height: 0,
                    positions: [],
                    lines: [],
                    font: {
                        definition: i,
                        color: f.color
                    }
                };
                m.save();
                m.font = i;
                var o = (e + "").replace(/<br ?\/?>|\r\n|\r/g, "\n").split("\n");
                for (var p = 0; p < o.length; ++p) {
                    var q = o[p], r = m.measureText(q);
                    l.width = Math.max(r.width, l.width);
                    l.height += f.lineHeight;
                    l.lines.push({
                        text: q,
                        width: r.width,
                        height: f.lineHeight
                    });
                }
                m.restore();
            }
            return l;
        };
        h.prototype.addText = function(a, c, d, f, g, h, i, j, k) {
            if (!b.getOptions().canvas) {
                return e.call(this, a, c, d, f, g, h, i, j, k);
            }
            var l = this.getTextInfo(a, f, g, h, i), m = l.positions, n = l.lines;
            d += l.height / n.length / 2;
            if (k == "middle") {
                d = Math.round(d - l.height / 2);
            } else if (k == "bottom") {
                d = Math.round(d - l.height);
            } else {
                d = Math.round(d);
            }
            if (!!(window.opera && window.opera.version().split(".")[0] < 12)) {
                d -= 2;
            }
            for (var o = 0, p; p = m[o]; o++) {
                if (p.x == c && p.y == d) {
                    p.active = true;
                    return;
                }
            }
            p = {
                active: true,
                lines: [],
                x: c,
                y: d
            };
            m.push(p);
            for (var o = 0, q; q = n[o]; o++) {
                if (j == "center") {
                    p.lines.push([ Math.round(c - q.width / 2), d ]);
                } else if (j == "right") {
                    p.lines.push([ Math.round(c - q.width), d ]);
                } else {
                    p.lines.push([ Math.round(c), d ]);
                }
                d += q.height;
            }
        };
    }
    a.plot.plugins.push({
        init: g,
        options: b,
        name: "canvas",
        version: "1.0"
    });
})(jQuery);

(function(a) {
    var b = {
        xaxis: {
            timezone: null,
            timeformat: null,
            twelveHourClock: false,
            monthNames: null
        }
    };
    function c(a, b) {
        return b * Math.floor(a / b);
    }
    function d(a, b, c, d) {
        if (typeof a.strftime == "function") {
            return a.strftime(b);
        }
        var e = function(a, b) {
            a = "" + a;
            b = "" + (b == null ? "0" : b);
            return a.length == 1 ? b + a : a;
        };
        var f = [];
        var g = false;
        var h = a.getHours();
        var i = h < 12;
        if (c == null) {
            c = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
        }
        if (d == null) {
            d = [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ];
        }
        var j;
        if (h > 12) {
            j = h - 12;
        } else if (h == 0) {
            j = 12;
        } else {
            j = h;
        }
        for (var k = 0; k < b.length; ++k) {
            var l = b.charAt(k);
            if (g) {
                switch (l) {
                  case "a":
                    l = "" + d[a.getDay()];
                    break;

                  case "b":
                    l = "" + c[a.getMonth()];
                    break;

                  case "d":
                    l = e(a.getDate());
                    break;

                  case "e":
                    l = e(a.getDate(), " ");
                    break;

                  case "h":
                  case "H":
                    l = e(h);
                    break;

                  case "I":
                    l = e(j);
                    break;

                  case "l":
                    l = e(j, " ");
                    break;

                  case "m":
                    l = e(a.getMonth() + 1);
                    break;

                  case "M":
                    l = e(a.getMinutes());
                    break;

                  case "q":
                    l = "" + (Math.floor(a.getMonth() / 3) + 1);
                    break;

                  case "S":
                    l = e(a.getSeconds());
                    break;

                  case "y":
                    l = e(a.getFullYear() % 100);
                    break;

                  case "Y":
                    l = "" + a.getFullYear();
                    break;

                  case "p":
                    l = i ? "" + "am" : "" + "pm";
                    break;

                  case "P":
                    l = i ? "" + "AM" : "" + "PM";
                    break;

                  case "w":
                    l = "" + a.getDay();
                    break;
                }
                f.push(l);
                g = false;
            } else {
                if (l == "%") {
                    g = true;
                } else {
                    f.push(l);
                }
            }
        }
        return f.join("");
    }
    function e(a) {
        function b(a, b, c, d) {
            a[b] = function() {
                return c[d].apply(c, arguments);
            };
        }
        var c = {
            date: a
        };
        if (a.strftime != undefined) {
            b(c, "strftime", a, "strftime");
        }
        b(c, "getTime", a, "getTime");
        b(c, "setTime", a, "setTime");
        var d = [ "Date", "Day", "FullYear", "Hours", "Milliseconds", "Minutes", "Month", "Seconds" ];
        for (var e = 0; e < d.length; e++) {
            b(c, "get" + d[e], a, "getUTC" + d[e]);
            b(c, "set" + d[e], a, "setUTC" + d[e]);
        }
        return c;
    }
    function f(a, b) {
        if (b.timezone == "browser") {
            return new Date(a);
        } else if (!b.timezone || b.timezone == "utc") {
            return e(new Date(a));
        } else if (typeof timezoneJS != "undefined" && typeof timezoneJS.Date != "undefined") {
            var c = new timezoneJS.Date();
            c.setTimezone(b.timezone);
            c.setTime(a);
            return c;
        } else {
            return e(new Date(a));
        }
    }
    var g = {
        second: 1e3,
        minute: 60 * 1e3,
        hour: 60 * 60 * 1e3,
        day: 24 * 60 * 60 * 1e3,
        month: 30 * 24 * 60 * 60 * 1e3,
        quarter: 3 * 30 * 24 * 60 * 60 * 1e3,
        year: 365.2425 * 24 * 60 * 60 * 1e3
    };
    var h = [ [ 1, "second" ], [ 2, "second" ], [ 5, "second" ], [ 10, "second" ], [ 30, "second" ], [ 1, "minute" ], [ 2, "minute" ], [ 5, "minute" ], [ 10, "minute" ], [ 30, "minute" ], [ 1, "hour" ], [ 2, "hour" ], [ 4, "hour" ], [ 8, "hour" ], [ 12, "hour" ], [ 1, "day" ], [ 2, "day" ], [ 3, "day" ], [ .25, "month" ], [ .5, "month" ], [ 1, "month" ], [ 2, "month" ] ];
    var i = h.concat([ [ 3, "month" ], [ 6, "month" ], [ 1, "year" ] ]);
    var j = h.concat([ [ 1, "quarter" ], [ 2, "quarter" ], [ 1, "year" ] ]);
    function k(b) {
        b.hooks.processOptions.push(function(b, e) {
            a.each(b.getAxes(), function(a, b) {
                var e = b.options;
                if (e.mode == "time") {
                    b.tickGenerator = function(a) {
                        var b = [];
                        var d = f(a.min, e);
                        var h = 0;
                        var k = e.tickSize && e.tickSize[1] === "quarter" || e.minTickSize && e.minTickSize[1] === "quarter" ? j : i;
                        if (e.minTickSize != null) {
                            if (typeof e.tickSize == "number") {
                                h = e.tickSize;
                            } else {
                                h = e.minTickSize[0] * g[e.minTickSize[1]];
                            }
                        }
                        for (var l = 0; l < k.length - 1; ++l) {
                            if (a.delta < (k[l][0] * g[k[l][1]] + k[l + 1][0] * g[k[l + 1][1]]) / 2 && k[l][0] * g[k[l][1]] >= h) {
                                break;
                            }
                        }
                        var m = k[l][0];
                        var n = k[l][1];
                        if (n == "year") {
                            if (e.minTickSize != null && e.minTickSize[1] == "year") {
                                m = Math.floor(e.minTickSize[0]);
                            } else {
                                var o = Math.pow(10, Math.floor(Math.log(a.delta / g.year) / Math.LN10));
                                var p = a.delta / g.year / o;
                                if (p < 1.5) {
                                    m = 1;
                                } else if (p < 3) {
                                    m = 2;
                                } else if (p < 7.5) {
                                    m = 5;
                                } else {
                                    m = 10;
                                }
                                m *= o;
                            }
                            if (m < 1) {
                                m = 1;
                            }
                        }
                        a.tickSize = e.tickSize || [ m, n ];
                        var q = a.tickSize[0];
                        n = a.tickSize[1];
                        var r = q * g[n];
                        if (n == "second") {
                            d.setSeconds(c(d.getSeconds(), q));
                        } else if (n == "minute") {
                            d.setMinutes(c(d.getMinutes(), q));
                        } else if (n == "hour") {
                            d.setHours(c(d.getHours(), q));
                        } else if (n == "month") {
                            d.setMonth(c(d.getMonth(), q));
                        } else if (n == "quarter") {
                            d.setMonth(3 * c(d.getMonth() / 3, q));
                        } else if (n == "year") {
                            d.setFullYear(c(d.getFullYear(), q));
                        }
                        d.setMilliseconds(0);
                        if (r >= g.minute) {
                            d.setSeconds(0);
                        }
                        if (r >= g.hour) {
                            d.setMinutes(0);
                        }
                        if (r >= g.day) {
                            d.setHours(0);
                        }
                        if (r >= g.day * 4) {
                            d.setDate(1);
                        }
                        if (r >= g.month * 2) {
                            d.setMonth(c(d.getMonth(), 3));
                        }
                        if (r >= g.quarter * 2) {
                            d.setMonth(c(d.getMonth(), 6));
                        }
                        if (r >= g.year) {
                            d.setMonth(0);
                        }
                        var s = 0;
                        var t = Number.NaN;
                        var u;
                        do {
                            u = t;
                            t = d.getTime();
                            b.push(t);
                            if (n == "month" || n == "quarter") {
                                if (q < 1) {
                                    d.setDate(1);
                                    var v = d.getTime();
                                    d.setMonth(d.getMonth() + (n == "quarter" ? 3 : 1));
                                    var w = d.getTime();
                                    d.setTime(t + s * g.hour + (w - v) * q);
                                    s = d.getHours();
                                    d.setHours(0);
                                } else {
                                    d.setMonth(d.getMonth() + q * (n == "quarter" ? 3 : 1));
                                }
                            } else if (n == "year") {
                                d.setFullYear(d.getFullYear() + q);
                            } else {
                                d.setTime(t + r);
                            }
                        } while (t < a.max && t != u);
                        return b;
                    };
                    b.tickFormatter = function(a, b) {
                        var c = f(a, b.options);
                        if (e.timeformat != null) {
                            return d(c, e.timeformat, e.monthNames, e.dayNames);
                        }
                        var h = b.options.tickSize && b.options.tickSize[1] == "quarter" || b.options.minTickSize && b.options.minTickSize[1] == "quarter";
                        var i = b.tickSize[0] * g[b.tickSize[1]];
                        var j = b.max - b.min;
                        var k = e.twelveHourClock ? " %p" : "";
                        var l = e.twelveHourClock ? "%I" : "%H";
                        var m;
                        if (i < g.minute) {
                            m = l + ":%M:%S" + k;
                        } else if (i < g.day) {
                            if (j < 2 * g.day) {
                                m = l + ":%M" + k;
                            } else {
                                m = "%b %d " + l + ":%M" + k;
                            }
                        } else if (i < g.month) {
                            m = "%b %d";
                        } else if (h && i < g.quarter || !h && i < g.year) {
                            if (j < g.year) {
                                m = "%b";
                            } else {
                                m = "%b %Y";
                            }
                        } else if (h && i < g.year) {
                            if (j < g.year) {
                                m = "Q%q";
                            } else {
                                m = "Q%q %Y";
                            }
                        } else {
                            m = "%Y";
                        }
                        var n = d(c, m, e.monthNames, e.dayNames);
                        return n;
                    };
                }
            });
        });
    }
    a.plot.plugins.push({
        init: k,
        options: b,
        name: "time",
        version: "1.0"
    });
    a.plot.formatDate = d;
    a.plot.dateGenerator = f;
})(jQuery);

(function(a) {
    var b = {
        series: {
            curvedLines: {
                active: false,
                apply: false,
                fit: false,
                curvePointFactor: 20,
                fitPointDist: undefined
            }
        }
    };
    function c(a) {
        a.hooks.processOptions.push(b);
        function b(a, b) {
            if (b.series.curvedLines.active) {
                a.hooks.processDatapoints.unshift(c);
            }
        }
        function c(a, b, c) {
            var e = c.points.length / c.pointsize;
            var f = .5;
            if (b.curvedLines.apply == true && b.originSeries === undefined && e > 1 + f) {
                if (b.lines.fill) {
                    var g = d(c, b.curvedLines, 1), h = d(c, b.curvedLines, 2);
                    c.pointsize = 3;
                    c.points = [];
                    var i = 0;
                    var j = 0;
                    var k = 0;
                    var l = 2;
                    while (k < g.length || i < h.length) {
                        if (g[k] == h[i]) {
                            c.points[j] = g[k];
                            c.points[j + 1] = g[k + 1];
                            c.points[j + 2] = h[i + 1];
                            i += l;
                            k += l;
                        } else if (g[k] < h[i]) {
                            c.points[j] = g[k];
                            c.points[j + 1] = g[k + 1];
                            c.points[j + 2] = j > 0 ? c.points[j - 1] : null;
                            k += l;
                        } else {
                            c.points[j] = h[i];
                            c.points[j + 1] = j > 1 ? c.points[j - 2] : null;
                            c.points[j + 2] = h[i + 1];
                            i += l;
                        }
                        j += 3;
                    }
                } else if (b.lines.lineWidth > 0) {
                    c.points = d(c, b.curvedLines, 1);
                    c.pointsize = 2;
                }
            }
        }
        function d(a, b, c) {
            var d = a.points, e = a.pointsize;
            var f = b.curvePointFactor * (d.length / e);
            var g = new Array();
            var h = new Array();
            var i = -1;
            var j = -1;
            var k = 0;
            if (b.fit) {
                var l;
                if (typeof b.fitPointDist == "undefined") {
                    var m = d[0];
                    var n = d[d.length - e];
                    l = (n - m) / (500 * 100);
                } else {
                    l = b.fitPointDist;
                }
                for (var o = 0; o < d.length; o += e) {
                    var p;
                    var q;
                    i = o;
                    j = o + c;
                    p = d[i] - l;
                    q = d[i] + l;
                    var r = 2;
                    while (p == d[i] || q == d[i]) {
                        p = d[i] - l * r;
                        q = d[i] + l * r;
                        r++;
                    }
                    g[k] = p;
                    h[k] = d[j];
                    k++;
                    g[k] = d[i];
                    h[k] = d[j];
                    k++;
                    g[k] = q;
                    h[k] = d[j];
                    k++;
                }
            } else {
                for (var o = 0; o < d.length; o += e) {
                    i = o;
                    j = o + c;
                    g[k] = d[i];
                    h[k] = d[j];
                    k++;
                }
            }
            var s = g.length;
            var t = new Array();
            var u = new Array();
            t[0] = 0;
            t[s - 1] = 0;
            u[0] = 0;
            for (var o = 1; o < s - 1; ++o) {
                var v = g[o + 1] - g[o - 1];
                if (v == 0) {
                    return [];
                }
                var w = (g[o] - g[o - 1]) / v;
                var x = w * t[o - 1] + 2;
                t[o] = (w - 1) / x;
                u[o] = (h[o + 1] - h[o]) / (g[o + 1] - g[o]) - (h[o] - h[o - 1]) / (g[o] - g[o - 1]);
                u[o] = (6 * u[o] / (g[o + 1] - g[o - 1]) - w * u[o - 1]) / x;
            }
            for (var k = s - 2; k >= 0; --k) {
                t[k] = t[k] * t[k + 1] + u[k];
            }
            var y = (g[s - 1] - g[0]) / (f - 1);
            var z = new Array();
            var A = new Array();
            var B = new Array();
            z[0] = g[0];
            A[0] = h[0];
            B.push(z[0]);
            B.push(A[0]);
            for (k = 1; k < f; ++k) {
                z[k] = z[0] + k * y;
                var C = s - 1;
                var D = 0;
                while (C - D > 1) {
                    var E = Math.round((C + D) / 2);
                    if (g[E] > z[k]) {
                        C = E;
                    } else {
                        D = E;
                    }
                }
                var F = g[C] - g[D];
                if (F == 0) {
                    return [];
                }
                var G = (g[C] - z[k]) / F;
                var H = (z[k] - g[D]) / F;
                A[k] = G * h[D] + H * h[C] + ((G * G * G - G) * t[D] + (H * H * H - H) * t[C]) * (F * F) / 6;
                B.push(z[k]);
                B.push(A[k]);
            }
            return B;
        }
    }
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "curvedLines",
        version: "0.5"
    });
})(jQuery);

!function(a, b, c) {
    var d = a.L, e = {};
    e.version = "0.7.3", "object" == typeof module && "object" == typeof module.exports ? module.exports = e : "function" == typeof define && define.amd && define(e), 
    e.noConflict = function() {
        return a.L = d, this;
    }, a.L = e, e.Util = {
        extend: function(a) {
            var b, c, d, e, f = Array.prototype.slice.call(arguments, 1);
            for (c = 0, d = f.length; d > c; c++) {
                e = f[c] || {};
                for (b in e) e.hasOwnProperty(b) && (a[b] = e[b]);
            }
            return a;
        },
        bind: function(a, b) {
            var c = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;
            return function() {
                return a.apply(b, c || arguments);
            };
        },
        stamp: function() {
            var a = 0, b = "_leaflet_id";
            return function(c) {
                return c[b] = c[b] || ++a, c[b];
            };
        }(),
        invokeEach: function(a, b, c) {
            var d, e;
            if ("object" == typeof a) {
                e = Array.prototype.slice.call(arguments, 3);
                for (d in a) b.apply(c, [ d, a[d] ].concat(e));
                return !0;
            }
            return !1;
        },
        limitExecByInterval: function(a, b, c) {
            var d, e;
            return function f() {
                var g = arguments;
                return d ? void (e = !0) : (d = !0, setTimeout(function() {
                    d = !1, e && (f.apply(c, g), e = !1);
                }, b), void a.apply(c, g));
            };
        },
        falseFn: function() {
            return !1;
        },
        formatNum: function(a, b) {
            var c = Math.pow(10, b || 5);
            return Math.round(a * c) / c;
        },
        trim: function(a) {
            return a.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "");
        },
        splitWords: function(a) {
            return e.Util.trim(a).split(/\s+/);
        },
        setOptions: function(a, b) {
            return a.options = e.extend({}, a.options, b), a.options;
        },
        getParamString: function(a, b, c) {
            var d = [];
            for (var e in a) d.push(encodeURIComponent(c ? e.toUpperCase() : e) + "=" + encodeURIComponent(a[e]));
            return (b && -1 !== b.indexOf("?") ? "&" : "?") + d.join("&");
        },
        template: function(a, b) {
            return a.replace(/\{ *([\w_]+) *\}/g, function(a, d) {
                var e = b[d];
                if (e === c) throw new Error("No value provided for variable " + a);
                return "function" == typeof e && (e = e(b)), e;
            });
        },
        isArray: Array.isArray || function(a) {
            return "[object Array]" === Object.prototype.toString.call(a);
        },
        emptyImageUrl: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
    }, function() {
        function b(b) {
            var c, d, e = [ "webkit", "moz", "o", "ms" ];
            for (c = 0; c < e.length && !d; c++) d = a[e[c] + b];
            return d;
        }
        function c(b) {
            var c = +new Date(), e = Math.max(0, 16 - (c - d));
            return d = c + e, a.setTimeout(b, e);
        }
        var d = 0, f = a.requestAnimationFrame || b("RequestAnimationFrame") || c, g = a.cancelAnimationFrame || b("CancelAnimationFrame") || b("CancelRequestAnimationFrame") || function(b) {
            a.clearTimeout(b);
        };
        e.Util.requestAnimFrame = function(b, d, g, h) {
            return b = e.bind(b, d), g && f === c ? void b() : f.call(a, b, h);
        }, e.Util.cancelAnimFrame = function(b) {
            b && g.call(a, b);
        };
    }(), e.extend = e.Util.extend, e.bind = e.Util.bind, e.stamp = e.Util.stamp, e.setOptions = e.Util.setOptions, 
    e.Class = function() {}, e.Class.extend = function(a) {
        var b = function() {
            this.initialize && this.initialize.apply(this, arguments), this._initHooks && this.callInitHooks();
        }, c = function() {};
        c.prototype = this.prototype;
        var d = new c();
        d.constructor = b, b.prototype = d;
        for (var f in this) this.hasOwnProperty(f) && "prototype" !== f && (b[f] = this[f]);
        a.statics && (e.extend(b, a.statics), delete a.statics), a.includes && (e.Util.extend.apply(null, [ d ].concat(a.includes)), 
        delete a.includes), a.options && d.options && (a.options = e.extend({}, d.options, a.options)), 
        e.extend(d, a), d._initHooks = [];
        var g = this;
        return b.__super__ = g.prototype, d.callInitHooks = function() {
            if (!this._initHooksCalled) {
                g.prototype.callInitHooks && g.prototype.callInitHooks.call(this), this._initHooksCalled = !0;
                for (var a = 0, b = d._initHooks.length; b > a; a++) d._initHooks[a].call(this);
            }
        }, b;
    }, e.Class.include = function(a) {
        e.extend(this.prototype, a);
    }, e.Class.mergeOptions = function(a) {
        e.extend(this.prototype.options, a);
    }, e.Class.addInitHook = function(a) {
        var b = Array.prototype.slice.call(arguments, 1), c = "function" == typeof a ? a : function() {
            this[a].apply(this, b);
        };
        this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(c);
    };
    var f = "_leaflet_events";
    e.Mixin = {}, e.Mixin.Events = {
        addEventListener: function(a, b, c) {
            if (e.Util.invokeEach(a, this.addEventListener, this, b, c)) return this;
            var d, g, h, i, j, k, l, m = this[f] = this[f] || {}, n = c && c !== this && e.stamp(c);
            for (a = e.Util.splitWords(a), d = 0, g = a.length; g > d; d++) h = {
                action: b,
                context: c || this
            }, i = a[d], n ? (j = i + "_idx", k = j + "_len", l = m[j] = m[j] || {}, l[n] || (l[n] = [], 
            m[k] = (m[k] || 0) + 1), l[n].push(h)) : (m[i] = m[i] || [], m[i].push(h));
            return this;
        },
        hasEventListeners: function(a) {
            var b = this[f];
            return !!b && (a in b && b[a].length > 0 || a + "_idx" in b && b[a + "_idx_len"] > 0);
        },
        removeEventListener: function(a, b, c) {
            if (!this[f]) return this;
            if (!a) return this.clearAllEventListeners();
            if (e.Util.invokeEach(a, this.removeEventListener, this, b, c)) return this;
            var d, g, h, i, j, k, l, m, n, o = this[f], p = c && c !== this && e.stamp(c);
            for (a = e.Util.splitWords(a), d = 0, g = a.length; g > d; d++) if (h = a[d], k = h + "_idx", 
            l = k + "_len", m = o[k], b) {
                if (i = p && m ? m[p] : o[h]) {
                    for (j = i.length - 1; j >= 0; j--) i[j].action !== b || c && i[j].context !== c || (n = i.splice(j, 1), 
                    n[0].action = e.Util.falseFn);
                    c && m && 0 === i.length && (delete m[p], o[l]--);
                }
            } else delete o[h], delete o[k], delete o[l];
            return this;
        },
        clearAllEventListeners: function() {
            return delete this[f], this;
        },
        fireEvent: function(a, b) {
            if (!this.hasEventListeners(a)) return this;
            var c, d, g, h, i, j = e.Util.extend({}, b, {
                type: a,
                target: this
            }), k = this[f];
            if (k[a]) for (c = k[a].slice(), d = 0, g = c.length; g > d; d++) c[d].action.call(c[d].context, j);
            h = k[a + "_idx"];
            for (i in h) if (c = h[i].slice()) for (d = 0, g = c.length; g > d; d++) c[d].action.call(c[d].context, j);
            return this;
        },
        addOneTimeEventListener: function(a, b, c) {
            if (e.Util.invokeEach(a, this.addOneTimeEventListener, this, b, c)) return this;
            var d = e.bind(function() {
                this.removeEventListener(a, b, c).removeEventListener(a, d, c);
            }, this);
            return this.addEventListener(a, b, c).addEventListener(a, d, c);
        }
    }, e.Mixin.Events.on = e.Mixin.Events.addEventListener, e.Mixin.Events.off = e.Mixin.Events.removeEventListener, 
    e.Mixin.Events.once = e.Mixin.Events.addOneTimeEventListener, e.Mixin.Events.fire = e.Mixin.Events.fireEvent, 
    function() {
        var d = "ActiveXObject" in a, f = d && !b.addEventListener, g = navigator.userAgent.toLowerCase(), h = -1 !== g.indexOf("webkit"), i = -1 !== g.indexOf("chrome"), j = -1 !== g.indexOf("phantom"), k = -1 !== g.indexOf("android"), l = -1 !== g.search("android [23]"), m = -1 !== g.indexOf("gecko"), n = typeof orientation != c + "", o = a.navigator && a.navigator.msPointerEnabled && a.navigator.msMaxTouchPoints && !a.PointerEvent, p = a.PointerEvent && a.navigator.pointerEnabled && a.navigator.maxTouchPoints || o, q = "devicePixelRatio" in a && a.devicePixelRatio > 1 || "matchMedia" in a && a.matchMedia("(min-resolution:144dpi)") && a.matchMedia("(min-resolution:144dpi)").matches, r = b.documentElement, s = d && "transition" in r.style, t = "WebKitCSSMatrix" in a && "m11" in new a.WebKitCSSMatrix() && !l, u = "MozPerspective" in r.style, v = "OTransition" in r.style, w = !a.L_DISABLE_3D && (s || t || u || v) && !j, x = !a.L_NO_TOUCH && !j && function() {
            var a = "ontouchstart";
            if (p || a in r) return !0;
            var c = b.createElement("div"), d = !1;
            return c.setAttribute ? (c.setAttribute(a, "return;"), "function" == typeof c[a] && (d = !0), 
            c.removeAttribute(a), c = null, d) : !1;
        }();
        e.Browser = {
            ie: d,
            ielt9: f,
            webkit: h,
            gecko: m && !h && !a.opera && !d,
            android: k,
            android23: l,
            chrome: i,
            ie3d: s,
            webkit3d: t,
            gecko3d: u,
            opera3d: v,
            any3d: w,
            mobile: n,
            mobileWebkit: n && h,
            mobileWebkit3d: n && t,
            mobileOpera: n && a.opera,
            touch: x,
            msPointer: o,
            pointer: p,
            retina: q
        };
    }(), e.Point = function(a, b, c) {
        this.x = c ? Math.round(a) : a, this.y = c ? Math.round(b) : b;
    }, e.Point.prototype = {
        clone: function() {
            return new e.Point(this.x, this.y);
        },
        add: function(a) {
            return this.clone()._add(e.point(a));
        },
        _add: function(a) {
            return this.x += a.x, this.y += a.y, this;
        },
        subtract: function(a) {
            return this.clone()._subtract(e.point(a));
        },
        _subtract: function(a) {
            return this.x -= a.x, this.y -= a.y, this;
        },
        divideBy: function(a) {
            return this.clone()._divideBy(a);
        },
        _divideBy: function(a) {
            return this.x /= a, this.y /= a, this;
        },
        multiplyBy: function(a) {
            return this.clone()._multiplyBy(a);
        },
        _multiplyBy: function(a) {
            return this.x *= a, this.y *= a, this;
        },
        round: function() {
            return this.clone()._round();
        },
        _round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
        },
        floor: function() {
            return this.clone()._floor();
        },
        _floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
        },
        distanceTo: function(a) {
            a = e.point(a);
            var b = a.x - this.x, c = a.y - this.y;
            return Math.sqrt(b * b + c * c);
        },
        equals: function(a) {
            return a = e.point(a), a.x === this.x && a.y === this.y;
        },
        contains: function(a) {
            return a = e.point(a), Math.abs(a.x) <= Math.abs(this.x) && Math.abs(a.y) <= Math.abs(this.y);
        },
        toString: function() {
            return "Point(" + e.Util.formatNum(this.x) + ", " + e.Util.formatNum(this.y) + ")";
        }
    }, e.point = function(a, b, d) {
        return a instanceof e.Point ? a : e.Util.isArray(a) ? new e.Point(a[0], a[1]) : a === c || null === a ? a : new e.Point(a, b, d);
    }, e.Bounds = function(a, b) {
        if (a) for (var c = b ? [ a, b ] : a, d = 0, e = c.length; e > d; d++) this.extend(c[d]);
    }, e.Bounds.prototype = {
        extend: function(a) {
            return a = e.point(a), this.min || this.max ? (this.min.x = Math.min(a.x, this.min.x), 
            this.max.x = Math.max(a.x, this.max.x), this.min.y = Math.min(a.y, this.min.y), 
            this.max.y = Math.max(a.y, this.max.y)) : (this.min = a.clone(), this.max = a.clone()), 
            this;
        },
        getCenter: function(a) {
            return new e.Point((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, a);
        },
        getBottomLeft: function() {
            return new e.Point(this.min.x, this.max.y);
        },
        getTopRight: function() {
            return new e.Point(this.max.x, this.min.y);
        },
        getSize: function() {
            return this.max.subtract(this.min);
        },
        contains: function(a) {
            var b, c;
            return a = "number" == typeof a[0] || a instanceof e.Point ? e.point(a) : e.bounds(a), 
            a instanceof e.Bounds ? (b = a.min, c = a.max) : b = c = a, b.x >= this.min.x && c.x <= this.max.x && b.y >= this.min.y && c.y <= this.max.y;
        },
        intersects: function(a) {
            a = e.bounds(a);
            var b = this.min, c = this.max, d = a.min, f = a.max, g = f.x >= b.x && d.x <= c.x, h = f.y >= b.y && d.y <= c.y;
            return g && h;
        },
        isValid: function() {
            return !(!this.min || !this.max);
        }
    }, e.bounds = function(a, b) {
        return !a || a instanceof e.Bounds ? a : new e.Bounds(a, b);
    }, e.Transformation = function(a, b, c, d) {
        this._a = a, this._b = b, this._c = c, this._d = d;
    }, e.Transformation.prototype = {
        transform: function(a, b) {
            return this._transform(a.clone(), b);
        },
        _transform: function(a, b) {
            return b = b || 1, a.x = b * (this._a * a.x + this._b), a.y = b * (this._c * a.y + this._d), 
            a;
        },
        untransform: function(a, b) {
            return b = b || 1, new e.Point((a.x / b - this._b) / this._a, (a.y / b - this._d) / this._c);
        }
    }, e.DomUtil = {
        get: function(a) {
            return "string" == typeof a ? b.getElementById(a) : a;
        },
        getStyle: function(a, c) {
            var d = a.style[c];
            if (!d && a.currentStyle && (d = a.currentStyle[c]), (!d || "auto" === d) && b.defaultView) {
                var e = b.defaultView.getComputedStyle(a, null);
                d = e ? e[c] : null;
            }
            return "auto" === d ? null : d;
        },
        getViewportOffset: function(a) {
            var c, d = 0, f = 0, g = a, h = b.body, i = b.documentElement;
            do {
                if (d += g.offsetTop || 0, f += g.offsetLeft || 0, d += parseInt(e.DomUtil.getStyle(g, "borderTopWidth"), 10) || 0, 
                f += parseInt(e.DomUtil.getStyle(g, "borderLeftWidth"), 10) || 0, c = e.DomUtil.getStyle(g, "position"), 
                g.offsetParent === h && "absolute" === c) break;
                if ("fixed" === c) {
                    d += h.scrollTop || i.scrollTop || 0, f += h.scrollLeft || i.scrollLeft || 0;
                    break;
                }
                if ("relative" === c && !g.offsetLeft) {
                    var j = e.DomUtil.getStyle(g, "width"), k = e.DomUtil.getStyle(g, "max-width"), l = g.getBoundingClientRect();
                    ("none" !== j || "none" !== k) && (f += l.left + g.clientLeft), d += l.top + (h.scrollTop || i.scrollTop || 0);
                    break;
                }
                g = g.offsetParent;
            } while (g);
            g = a;
            do {
                if (g === h) break;
                d -= g.scrollTop || 0, f -= g.scrollLeft || 0, g = g.parentNode;
            } while (g);
            return new e.Point(f, d);
        },
        documentIsLtr: function() {
            return e.DomUtil._docIsLtrCached || (e.DomUtil._docIsLtrCached = !0, e.DomUtil._docIsLtr = "ltr" === e.DomUtil.getStyle(b.body, "direction")), 
            e.DomUtil._docIsLtr;
        },
        create: function(a, c, d) {
            var e = b.createElement(a);
            return e.className = c, d && d.appendChild(e), e;
        },
        hasClass: function(a, b) {
            if (a.classList !== c) return a.classList.contains(b);
            var d = e.DomUtil._getClass(a);
            return d.length > 0 && new RegExp("(^|\\s)" + b + "(\\s|$)").test(d);
        },
        addClass: function(a, b) {
            if (a.classList !== c) for (var d = e.Util.splitWords(b), f = 0, g = d.length; g > f; f++) a.classList.add(d[f]); else if (!e.DomUtil.hasClass(a, b)) {
                var h = e.DomUtil._getClass(a);
                e.DomUtil._setClass(a, (h ? h + " " : "") + b);
            }
        },
        removeClass: function(a, b) {
            a.classList !== c ? a.classList.remove(b) : e.DomUtil._setClass(a, e.Util.trim((" " + e.DomUtil._getClass(a) + " ").replace(" " + b + " ", " ")));
        },
        _setClass: function(a, b) {
            a.className.baseVal === c ? a.className = b : a.className.baseVal = b;
        },
        _getClass: function(a) {
            return a.className.baseVal === c ? a.className : a.className.baseVal;
        },
        setOpacity: function(a, b) {
            if ("opacity" in a.style) a.style.opacity = b; else if ("filter" in a.style) {
                var c = !1, d = "DXImageTransform.Microsoft.Alpha";
                try {
                    c = a.filters.item(d);
                } catch (e) {
                    if (1 === b) return;
                }
                b = Math.round(100 * b), c ? (c.Enabled = 100 !== b, c.Opacity = b) : a.style.filter += " progid:" + d + "(opacity=" + b + ")";
            }
        },
        testProp: function(a) {
            for (var c = b.documentElement.style, d = 0; d < a.length; d++) if (a[d] in c) return a[d];
            return !1;
        },
        getTranslateString: function(a) {
            var b = e.Browser.webkit3d, c = "translate" + (b ? "3d" : "") + "(", d = (b ? ",0" : "") + ")";
            return c + a.x + "px," + a.y + "px" + d;
        },
        getScaleString: function(a, b) {
            var c = e.DomUtil.getTranslateString(b.add(b.multiplyBy(-1 * a))), d = " scale(" + a + ") ";
            return c + d;
        },
        setPosition: function(a, b, c) {
            a._leaflet_pos = b, !c && e.Browser.any3d ? a.style[e.DomUtil.TRANSFORM] = e.DomUtil.getTranslateString(b) : (a.style.left = b.x + "px", 
            a.style.top = b.y + "px");
        },
        getPosition: function(a) {
            return a._leaflet_pos;
        }
    }, e.DomUtil.TRANSFORM = e.DomUtil.testProp([ "transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform" ]), 
    e.DomUtil.TRANSITION = e.DomUtil.testProp([ "webkitTransition", "transition", "OTransition", "MozTransition", "msTransition" ]), 
    e.DomUtil.TRANSITION_END = "webkitTransition" === e.DomUtil.TRANSITION || "OTransition" === e.DomUtil.TRANSITION ? e.DomUtil.TRANSITION + "End" : "transitionend", 
    function() {
        if ("onselectstart" in b) e.extend(e.DomUtil, {
            disableTextSelection: function() {
                e.DomEvent.on(a, "selectstart", e.DomEvent.preventDefault);
            },
            enableTextSelection: function() {
                e.DomEvent.off(a, "selectstart", e.DomEvent.preventDefault);
            }
        }); else {
            var c = e.DomUtil.testProp([ "userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect" ]);
            e.extend(e.DomUtil, {
                disableTextSelection: function() {
                    if (c) {
                        var a = b.documentElement.style;
                        this._userSelect = a[c], a[c] = "none";
                    }
                },
                enableTextSelection: function() {
                    c && (b.documentElement.style[c] = this._userSelect, delete this._userSelect);
                }
            });
        }
        e.extend(e.DomUtil, {
            disableImageDrag: function() {
                e.DomEvent.on(a, "dragstart", e.DomEvent.preventDefault);
            },
            enableImageDrag: function() {
                e.DomEvent.off(a, "dragstart", e.DomEvent.preventDefault);
            }
        });
    }(), e.LatLng = function(a, b, d) {
        if (a = parseFloat(a), b = parseFloat(b), isNaN(a) || isNaN(b)) throw new Error("Invalid LatLng object: (" + a + ", " + b + ")");
        this.lat = a, this.lng = b, d !== c && (this.alt = parseFloat(d));
    }, e.extend(e.LatLng, {
        DEG_TO_RAD: Math.PI / 180,
        RAD_TO_DEG: 180 / Math.PI,
        MAX_MARGIN: 1e-9
    }), e.LatLng.prototype = {
        equals: function(a) {
            if (!a) return !1;
            a = e.latLng(a);
            var b = Math.max(Math.abs(this.lat - a.lat), Math.abs(this.lng - a.lng));
            return b <= e.LatLng.MAX_MARGIN;
        },
        toString: function(a) {
            return "LatLng(" + e.Util.formatNum(this.lat, a) + ", " + e.Util.formatNum(this.lng, a) + ")";
        },
        distanceTo: function(a) {
            a = e.latLng(a);
            var b = 6378137, c = e.LatLng.DEG_TO_RAD, d = (a.lat - this.lat) * c, f = (a.lng - this.lng) * c, g = this.lat * c, h = a.lat * c, i = Math.sin(d / 2), j = Math.sin(f / 2), k = i * i + j * j * Math.cos(g) * Math.cos(h);
            return 2 * b * Math.atan2(Math.sqrt(k), Math.sqrt(1 - k));
        },
        wrap: function(a, b) {
            var c = this.lng;
            return a = a || -180, b = b || 180, c = (c + b) % (b - a) + (a > c || c === b ? b : a), 
            new e.LatLng(this.lat, c);
        }
    }, e.latLng = function(a, b) {
        return a instanceof e.LatLng ? a : e.Util.isArray(a) ? "number" == typeof a[0] || "string" == typeof a[0] ? new e.LatLng(a[0], a[1], a[2]) : null : a === c || null === a ? a : "object" == typeof a && "lat" in a ? new e.LatLng(a.lat, "lng" in a ? a.lng : a.lon) : b === c ? null : new e.LatLng(a, b);
    }, e.LatLngBounds = function(a, b) {
        if (a) for (var c = b ? [ a, b ] : a, d = 0, e = c.length; e > d; d++) this.extend(c[d]);
    }, e.LatLngBounds.prototype = {
        extend: function(a) {
            if (!a) return this;
            var b = e.latLng(a);
            return a = null !== b ? b : e.latLngBounds(a), a instanceof e.LatLng ? this._southWest || this._northEast ? (this._southWest.lat = Math.min(a.lat, this._southWest.lat), 
            this._southWest.lng = Math.min(a.lng, this._southWest.lng), this._northEast.lat = Math.max(a.lat, this._northEast.lat), 
            this._northEast.lng = Math.max(a.lng, this._northEast.lng)) : (this._southWest = new e.LatLng(a.lat, a.lng), 
            this._northEast = new e.LatLng(a.lat, a.lng)) : a instanceof e.LatLngBounds && (this.extend(a._southWest), 
            this.extend(a._northEast)), this;
        },
        pad: function(a) {
            var b = this._southWest, c = this._northEast, d = Math.abs(b.lat - c.lat) * a, f = Math.abs(b.lng - c.lng) * a;
            return new e.LatLngBounds(new e.LatLng(b.lat - d, b.lng - f), new e.LatLng(c.lat + d, c.lng + f));
        },
        getCenter: function() {
            return new e.LatLng((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2);
        },
        getSouthWest: function() {
            return this._southWest;
        },
        getNorthEast: function() {
            return this._northEast;
        },
        getNorthWest: function() {
            return new e.LatLng(this.getNorth(), this.getWest());
        },
        getSouthEast: function() {
            return new e.LatLng(this.getSouth(), this.getEast());
        },
        getWest: function() {
            return this._southWest.lng;
        },
        getSouth: function() {
            return this._southWest.lat;
        },
        getEast: function() {
            return this._northEast.lng;
        },
        getNorth: function() {
            return this._northEast.lat;
        },
        contains: function(a) {
            a = "number" == typeof a[0] || a instanceof e.LatLng ? e.latLng(a) : e.latLngBounds(a);
            var b, c, d = this._southWest, f = this._northEast;
            return a instanceof e.LatLngBounds ? (b = a.getSouthWest(), c = a.getNorthEast()) : b = c = a, 
            b.lat >= d.lat && c.lat <= f.lat && b.lng >= d.lng && c.lng <= f.lng;
        },
        intersects: function(a) {
            a = e.latLngBounds(a);
            var b = this._southWest, c = this._northEast, d = a.getSouthWest(), f = a.getNorthEast(), g = f.lat >= b.lat && d.lat <= c.lat, h = f.lng >= b.lng && d.lng <= c.lng;
            return g && h;
        },
        toBBoxString: function() {
            return [ this.getWest(), this.getSouth(), this.getEast(), this.getNorth() ].join(",");
        },
        equals: function(a) {
            return a ? (a = e.latLngBounds(a), this._southWest.equals(a.getSouthWest()) && this._northEast.equals(a.getNorthEast())) : !1;
        },
        isValid: function() {
            return !(!this._southWest || !this._northEast);
        }
    }, e.latLngBounds = function(a, b) {
        return !a || a instanceof e.LatLngBounds ? a : new e.LatLngBounds(a, b);
    }, e.Projection = {}, e.Projection.SphericalMercator = {
        MAX_LATITUDE: 85.0511287798,
        project: function(a) {
            var b = e.LatLng.DEG_TO_RAD, c = this.MAX_LATITUDE, d = Math.max(Math.min(c, a.lat), -c), f = a.lng * b, g = d * b;
            return g = Math.log(Math.tan(Math.PI / 4 + g / 2)), new e.Point(f, g);
        },
        unproject: function(a) {
            var b = e.LatLng.RAD_TO_DEG, c = a.x * b, d = (2 * Math.atan(Math.exp(a.y)) - Math.PI / 2) * b;
            return new e.LatLng(d, c);
        }
    }, e.Projection.LonLat = {
        project: function(a) {
            return new e.Point(a.lng, a.lat);
        },
        unproject: function(a) {
            return new e.LatLng(a.y, a.x);
        }
    }, e.CRS = {
        latLngToPoint: function(a, b) {
            var c = this.projection.project(a), d = this.scale(b);
            return this.transformation._transform(c, d);
        },
        pointToLatLng: function(a, b) {
            var c = this.scale(b), d = this.transformation.untransform(a, c);
            return this.projection.unproject(d);
        },
        project: function(a) {
            return this.projection.project(a);
        },
        scale: function(a) {
            return 256 * Math.pow(2, a);
        },
        getSize: function(a) {
            var b = this.scale(a);
            return e.point(b, b);
        }
    }, e.CRS.Simple = e.extend({}, e.CRS, {
        projection: e.Projection.LonLat,
        transformation: new e.Transformation(1, 0, -1, 0),
        scale: function(a) {
            return Math.pow(2, a);
        }
    }), e.CRS.EPSG3857 = e.extend({}, e.CRS, {
        code: "EPSG:3857",
        projection: e.Projection.SphericalMercator,
        transformation: new e.Transformation(.5 / Math.PI, .5, -.5 / Math.PI, .5),
        project: function(a) {
            var b = this.projection.project(a), c = 6378137;
            return b.multiplyBy(c);
        }
    }), e.CRS.EPSG900913 = e.extend({}, e.CRS.EPSG3857, {
        code: "EPSG:900913"
    }), e.CRS.EPSG4326 = e.extend({}, e.CRS, {
        code: "EPSG:4326",
        projection: e.Projection.LonLat,
        transformation: new e.Transformation(1 / 360, .5, -1 / 360, .5)
    }), e.Map = e.Class.extend({
        includes: e.Mixin.Events,
        options: {
            crs: e.CRS.EPSG3857,
            fadeAnimation: e.DomUtil.TRANSITION && !e.Browser.android23,
            trackResize: !0,
            markerZoomAnimation: e.DomUtil.TRANSITION && e.Browser.any3d
        },
        initialize: function(a, b) {
            b = e.setOptions(this, b), this._initContainer(a), this._initLayout(), this._onResize = e.bind(this._onResize, this), 
            this._initEvents(), b.maxBounds && this.setMaxBounds(b.maxBounds), b.center && b.zoom !== c && this.setView(e.latLng(b.center), b.zoom, {
                reset: !0
            }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._tileLayersNum = 0, 
            this.callInitHooks(), this._addLayers(b.layers);
        },
        setView: function(a, b) {
            return b = b === c ? this.getZoom() : b, this._resetView(e.latLng(a), this._limitZoom(b)), 
            this;
        },
        setZoom: function(a, b) {
            return this._loaded ? this.setView(this.getCenter(), a, {
                zoom: b
            }) : (this._zoom = this._limitZoom(a), this);
        },
        zoomIn: function(a, b) {
            return this.setZoom(this._zoom + (a || 1), b);
        },
        zoomOut: function(a, b) {
            return this.setZoom(this._zoom - (a || 1), b);
        },
        setZoomAround: function(a, b, c) {
            var d = this.getZoomScale(b), f = this.getSize().divideBy(2), g = a instanceof e.Point ? a : this.latLngToContainerPoint(a), h = g.subtract(f).multiplyBy(1 - 1 / d), i = this.containerPointToLatLng(f.add(h));
            return this.setView(i, b, {
                zoom: c
            });
        },
        fitBounds: function(a, b) {
            b = b || {}, a = a.getBounds ? a.getBounds() : e.latLngBounds(a);
            var c = e.point(b.paddingTopLeft || b.padding || [ 0, 0 ]), d = e.point(b.paddingBottomRight || b.padding || [ 0, 0 ]), f = this.getBoundsZoom(a, !1, c.add(d)), g = d.subtract(c).divideBy(2), h = this.project(a.getSouthWest(), f), i = this.project(a.getNorthEast(), f), j = this.unproject(h.add(i).divideBy(2).add(g), f);
            return f = b && b.maxZoom ? Math.min(b.maxZoom, f) : f, this.setView(j, f, b);
        },
        fitWorld: function(a) {
            return this.fitBounds([ [ -90, -180 ], [ 90, 180 ] ], a);
        },
        panTo: function(a, b) {
            return this.setView(a, this._zoom, {
                pan: b
            });
        },
        panBy: function(a) {
            return this.fire("movestart"), this._rawPanBy(e.point(a)), this.fire("move"), this.fire("moveend");
        },
        setMaxBounds: function(a) {
            return a = e.latLngBounds(a), this.options.maxBounds = a, a ? (this._loaded && this._panInsideMaxBounds(), 
            this.on("moveend", this._panInsideMaxBounds, this)) : this.off("moveend", this._panInsideMaxBounds, this);
        },
        panInsideBounds: function(a, b) {
            var c = this.getCenter(), d = this._limitCenter(c, this._zoom, a);
            return c.equals(d) ? this : this.panTo(d, b);
        },
        addLayer: function(a) {
            var b = e.stamp(a);
            return this._layers[b] ? this : (this._layers[b] = a, !a.options || isNaN(a.options.maxZoom) && isNaN(a.options.minZoom) || (this._zoomBoundLayers[b] = a, 
            this._updateZoomLevels()), this.options.zoomAnimation && e.TileLayer && a instanceof e.TileLayer && (this._tileLayersNum++, 
            this._tileLayersToLoad++, a.on("load", this._onTileLayerLoad, this)), this._loaded && this._layerAdd(a), 
            this);
        },
        removeLayer: function(a) {
            var b = e.stamp(a);
            return this._layers[b] ? (this._loaded && a.onRemove(this), delete this._layers[b], 
            this._loaded && this.fire("layerremove", {
                layer: a
            }), this._zoomBoundLayers[b] && (delete this._zoomBoundLayers[b], this._updateZoomLevels()), 
            this.options.zoomAnimation && e.TileLayer && a instanceof e.TileLayer && (this._tileLayersNum--, 
            this._tileLayersToLoad--, a.off("load", this._onTileLayerLoad, this)), this) : this;
        },
        hasLayer: function(a) {
            return a ? e.stamp(a) in this._layers : !1;
        },
        eachLayer: function(a, b) {
            for (var c in this._layers) a.call(b, this._layers[c]);
            return this;
        },
        invalidateSize: function(a) {
            if (!this._loaded) return this;
            a = e.extend({
                animate: !1,
                pan: !0
            }, a === !0 ? {
                animate: !0
            } : a);
            var b = this.getSize();
            this._sizeChanged = !0, this._initialCenter = null;
            var c = this.getSize(), d = b.divideBy(2).round(), f = c.divideBy(2).round(), g = d.subtract(f);
            return g.x || g.y ? (a.animate && a.pan ? this.panBy(g) : (a.pan && this._rawPanBy(g), 
            this.fire("move"), a.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(e.bind(this.fire, this, "moveend"), 200)) : this.fire("moveend")), 
            this.fire("resize", {
                oldSize: b,
                newSize: c
            })) : this;
        },
        addHandler: function(a, b) {
            if (!b) return this;
            var c = this[a] = new b(this);
            return this._handlers.push(c), this.options[a] && c.enable(), this;
        },
        remove: function() {
            this._loaded && this.fire("unload"), this._initEvents("off");
            try {
                delete this._container._leaflet;
            } catch (a) {
                this._container._leaflet = c;
            }
            return this._clearPanes(), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), 
            this;
        },
        getCenter: function() {
            return this._checkIfLoaded(), this._initialCenter && !this._moved() ? this._initialCenter : this.layerPointToLatLng(this._getCenterLayerPoint());
        },
        getZoom: function() {
            return this._zoom;
        },
        getBounds: function() {
            var a = this.getPixelBounds(), b = this.unproject(a.getBottomLeft()), c = this.unproject(a.getTopRight());
            return new e.LatLngBounds(b, c);
        },
        getMinZoom: function() {
            return this.options.minZoom === c ? this._layersMinZoom === c ? 0 : this._layersMinZoom : this.options.minZoom;
        },
        getMaxZoom: function() {
            return this.options.maxZoom === c ? this._layersMaxZoom === c ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom;
        },
        getBoundsZoom: function(a, b, c) {
            a = e.latLngBounds(a);
            var d, f = this.getMinZoom() - (b ? 1 : 0), g = this.getMaxZoom(), h = this.getSize(), i = a.getNorthWest(), j = a.getSouthEast(), k = !0;
            c = e.point(c || [ 0, 0 ]);
            do f++, d = this.project(j, f).subtract(this.project(i, f)).add(c), k = b ? d.x < h.x || d.y < h.y : h.contains(d); while (k && g >= f);
            return k && b ? null : b ? f : f - 1;
        },
        getSize: function() {
            return (!this._size || this._sizeChanged) && (this._size = new e.Point(this._container.clientWidth, this._container.clientHeight), 
            this._sizeChanged = !1), this._size.clone();
        },
        getPixelBounds: function() {
            var a = this._getTopLeftPoint();
            return new e.Bounds(a, a.add(this.getSize()));
        },
        getPixelOrigin: function() {
            return this._checkIfLoaded(), this._initialTopLeftPoint;
        },
        getPanes: function() {
            return this._panes;
        },
        getContainer: function() {
            return this._container;
        },
        getZoomScale: function(a) {
            var b = this.options.crs;
            return b.scale(a) / b.scale(this._zoom);
        },
        getScaleZoom: function(a) {
            return this._zoom + Math.log(a) / Math.LN2;
        },
        project: function(a, b) {
            return b = b === c ? this._zoom : b, this.options.crs.latLngToPoint(e.latLng(a), b);
        },
        unproject: function(a, b) {
            return b = b === c ? this._zoom : b, this.options.crs.pointToLatLng(e.point(a), b);
        },
        layerPointToLatLng: function(a) {
            var b = e.point(a).add(this.getPixelOrigin());
            return this.unproject(b);
        },
        latLngToLayerPoint: function(a) {
            var b = this.project(e.latLng(a))._round();
            return b._subtract(this.getPixelOrigin());
        },
        containerPointToLayerPoint: function(a) {
            return e.point(a).subtract(this._getMapPanePos());
        },
        layerPointToContainerPoint: function(a) {
            return e.point(a).add(this._getMapPanePos());
        },
        containerPointToLatLng: function(a) {
            var b = this.containerPointToLayerPoint(e.point(a));
            return this.layerPointToLatLng(b);
        },
        latLngToContainerPoint: function(a) {
            return this.layerPointToContainerPoint(this.latLngToLayerPoint(e.latLng(a)));
        },
        mouseEventToContainerPoint: function(a) {
            return e.DomEvent.getMousePosition(a, this._container);
        },
        mouseEventToLayerPoint: function(a) {
            return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a));
        },
        mouseEventToLatLng: function(a) {
            return this.layerPointToLatLng(this.mouseEventToLayerPoint(a));
        },
        _initContainer: function(a) {
            var b = this._container = e.DomUtil.get(a);
            if (!b) throw new Error("Map container not found.");
            if (b._leaflet) throw new Error("Map container is already initialized.");
            b._leaflet = !0;
        },
        _initLayout: function() {
            var a = this._container;
            e.DomUtil.addClass(a, "leaflet-container" + (e.Browser.touch ? " leaflet-touch" : "") + (e.Browser.retina ? " leaflet-retina" : "") + (e.Browser.ielt9 ? " leaflet-oldie" : "") + (this.options.fadeAnimation ? " leaflet-fade-anim" : ""));
            var b = e.DomUtil.getStyle(a, "position");
            "absolute" !== b && "relative" !== b && "fixed" !== b && (a.style.position = "relative"), 
            this._initPanes(), this._initControlPos && this._initControlPos();
        },
        _initPanes: function() {
            var a = this._panes = {};
            this._mapPane = a.mapPane = this._createPane("leaflet-map-pane", this._container), 
            this._tilePane = a.tilePane = this._createPane("leaflet-tile-pane", this._mapPane), 
            a.objectsPane = this._createPane("leaflet-objects-pane", this._mapPane), a.shadowPane = this._createPane("leaflet-shadow-pane"), 
            a.overlayPane = this._createPane("leaflet-overlay-pane"), a.markerPane = this._createPane("leaflet-marker-pane"), 
            a.popupPane = this._createPane("leaflet-popup-pane");
            var b = " leaflet-zoom-hide";
            this.options.markerZoomAnimation || (e.DomUtil.addClass(a.markerPane, b), e.DomUtil.addClass(a.shadowPane, b), 
            e.DomUtil.addClass(a.popupPane, b));
        },
        _createPane: function(a, b) {
            return e.DomUtil.create("div", a, b || this._panes.objectsPane);
        },
        _clearPanes: function() {
            this._container.removeChild(this._mapPane);
        },
        _addLayers: function(a) {
            a = a ? e.Util.isArray(a) ? a : [ a ] : [];
            for (var b = 0, c = a.length; c > b; b++) this.addLayer(a[b]);
        },
        _resetView: function(a, b, c, d) {
            var f = this._zoom !== b;
            d || (this.fire("movestart"), f && this.fire("zoomstart")), this._zoom = b, this._initialCenter = a, 
            this._initialTopLeftPoint = this._getNewTopLeftPoint(a), c ? this._initialTopLeftPoint._add(this._getMapPanePos()) : e.DomUtil.setPosition(this._mapPane, new e.Point(0, 0)), 
            this._tileLayersToLoad = this._tileLayersNum;
            var g = !this._loaded;
            this._loaded = !0, this.fire("viewreset", {
                hard: !c
            }), g && (this.fire("load"), this.eachLayer(this._layerAdd, this)), this.fire("move"), 
            (f || d) && this.fire("zoomend"), this.fire("moveend", {
                hard: !c
            });
        },
        _rawPanBy: function(a) {
            e.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(a));
        },
        _getZoomSpan: function() {
            return this.getMaxZoom() - this.getMinZoom();
        },
        _updateZoomLevels: function() {
            var a, b = 1 / 0, d = -1 / 0, e = this._getZoomSpan();
            for (a in this._zoomBoundLayers) {
                var f = this._zoomBoundLayers[a];
                isNaN(f.options.minZoom) || (b = Math.min(b, f.options.minZoom)), isNaN(f.options.maxZoom) || (d = Math.max(d, f.options.maxZoom));
            }
            a === c ? this._layersMaxZoom = this._layersMinZoom = c : (this._layersMaxZoom = d, 
            this._layersMinZoom = b), e !== this._getZoomSpan() && this.fire("zoomlevelschange");
        },
        _panInsideMaxBounds: function() {
            this.panInsideBounds(this.options.maxBounds);
        },
        _checkIfLoaded: function() {
            if (!this._loaded) throw new Error("Set map center and zoom first.");
        },
        _initEvents: function(b) {
            if (e.DomEvent) {
                b = b || "on", e.DomEvent[b](this._container, "click", this._onMouseClick, this);
                var c, d, f = [ "dblclick", "mousedown", "mouseup", "mouseenter", "mouseleave", "mousemove", "contextmenu" ];
                for (c = 0, d = f.length; d > c; c++) e.DomEvent[b](this._container, f[c], this._fireMouseEvent, this);
                this.options.trackResize && e.DomEvent[b](a, "resize", this._onResize, this);
            }
        },
        _onResize: function() {
            e.Util.cancelAnimFrame(this._resizeRequest), this._resizeRequest = e.Util.requestAnimFrame(function() {
                this.invalidateSize({
                    debounceMoveend: !0
                });
            }, this, !1, this._container);
        },
        _onMouseClick: function(a) {
            !this._loaded || !a._simulated && (this.dragging && this.dragging.moved() || this.boxZoom && this.boxZoom.moved()) || e.DomEvent._skipped(a) || (this.fire("preclick"), 
            this._fireMouseEvent(a));
        },
        _fireMouseEvent: function(a) {
            if (this._loaded && !e.DomEvent._skipped(a)) {
                var b = a.type;
                if (b = "mouseenter" === b ? "mouseover" : "mouseleave" === b ? "mouseout" : b, 
                this.hasEventListeners(b)) {
                    "contextmenu" === b && e.DomEvent.preventDefault(a);
                    var c = this.mouseEventToContainerPoint(a), d = this.containerPointToLayerPoint(c), f = this.layerPointToLatLng(d);
                    this.fire(b, {
                        latlng: f,
                        layerPoint: d,
                        containerPoint: c,
                        originalEvent: a
                    });
                }
            }
        },
        _onTileLayerLoad: function() {
            this._tileLayersToLoad--, this._tileLayersNum && !this._tileLayersToLoad && this.fire("tilelayersload");
        },
        _clearHandlers: function() {
            for (var a = 0, b = this._handlers.length; b > a; a++) this._handlers[a].disable();
        },
        whenReady: function(a, b) {
            return this._loaded ? a.call(b || this, this) : this.on("load", a, b), this;
        },
        _layerAdd: function(a) {
            a.onAdd(this), this.fire("layeradd", {
                layer: a
            });
        },
        _getMapPanePos: function() {
            return e.DomUtil.getPosition(this._mapPane);
        },
        _moved: function() {
            var a = this._getMapPanePos();
            return a && !a.equals([ 0, 0 ]);
        },
        _getTopLeftPoint: function() {
            return this.getPixelOrigin().subtract(this._getMapPanePos());
        },
        _getNewTopLeftPoint: function(a, b) {
            var c = this.getSize()._divideBy(2);
            return this.project(a, b)._subtract(c)._round();
        },
        _latLngToNewLayerPoint: function(a, b, c) {
            var d = this._getNewTopLeftPoint(c, b).add(this._getMapPanePos());
            return this.project(a, b)._subtract(d);
        },
        _getCenterLayerPoint: function() {
            return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
        },
        _getCenterOffset: function(a) {
            return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint());
        },
        _limitCenter: function(a, b, c) {
            if (!c) return a;
            var d = this.project(a, b), f = this.getSize().divideBy(2), g = new e.Bounds(d.subtract(f), d.add(f)), h = this._getBoundsOffset(g, c, b);
            return this.unproject(d.add(h), b);
        },
        _limitOffset: function(a, b) {
            if (!b) return a;
            var c = this.getPixelBounds(), d = new e.Bounds(c.min.add(a), c.max.add(a));
            return a.add(this._getBoundsOffset(d, b));
        },
        _getBoundsOffset: function(a, b, c) {
            var d = this.project(b.getNorthWest(), c).subtract(a.min), f = this.project(b.getSouthEast(), c).subtract(a.max), g = this._rebound(d.x, -f.x), h = this._rebound(d.y, -f.y);
            return new e.Point(g, h);
        },
        _rebound: function(a, b) {
            return a + b > 0 ? Math.round(a - b) / 2 : Math.max(0, Math.ceil(a)) - Math.max(0, Math.floor(b));
        },
        _limitZoom: function(a) {
            var b = this.getMinZoom(), c = this.getMaxZoom();
            return Math.max(b, Math.min(c, a));
        }
    }), e.map = function(a, b) {
        return new e.Map(a, b);
    }, e.Projection.Mercator = {
        MAX_LATITUDE: 85.0840591556,
        R_MINOR: 6356752.314245179,
        R_MAJOR: 6378137,
        project: function(a) {
            var b = e.LatLng.DEG_TO_RAD, c = this.MAX_LATITUDE, d = Math.max(Math.min(c, a.lat), -c), f = this.R_MAJOR, g = this.R_MINOR, h = a.lng * b * f, i = d * b, j = g / f, k = Math.sqrt(1 - j * j), l = k * Math.sin(i);
            l = Math.pow((1 - l) / (1 + l), .5 * k);
            var m = Math.tan(.5 * (.5 * Math.PI - i)) / l;
            return i = -f * Math.log(m), new e.Point(h, i);
        },
        unproject: function(a) {
            for (var b, c = e.LatLng.RAD_TO_DEG, d = this.R_MAJOR, f = this.R_MINOR, g = a.x * c / d, h = f / d, i = Math.sqrt(1 - h * h), j = Math.exp(-a.y / d), k = Math.PI / 2 - 2 * Math.atan(j), l = 15, m = 1e-7, n = l, o = .1; Math.abs(o) > m && --n > 0; ) b = i * Math.sin(k), 
            o = Math.PI / 2 - 2 * Math.atan(j * Math.pow((1 - b) / (1 + b), .5 * i)) - k, k += o;
            return new e.LatLng(k * c, g);
        }
    }, e.CRS.EPSG3395 = e.extend({}, e.CRS, {
        code: "EPSG:3395",
        projection: e.Projection.Mercator,
        transformation: function() {
            var a = e.Projection.Mercator, b = a.R_MAJOR, c = .5 / (Math.PI * b);
            return new e.Transformation(c, .5, -c, .5);
        }()
    }), e.TileLayer = e.Class.extend({
        includes: e.Mixin.Events,
        options: {
            minZoom: 0,
            maxZoom: 18,
            tileSize: 256,
            subdomains: "abc",
            errorTileUrl: "",
            attribution: "",
            zoomOffset: 0,
            opacity: 1,
            unloadInvisibleTiles: e.Browser.mobile,
            updateWhenIdle: e.Browser.mobile
        },
        initialize: function(a, b) {
            b = e.setOptions(this, b), b.detectRetina && e.Browser.retina && b.maxZoom > 0 && (b.tileSize = Math.floor(b.tileSize / 2), 
            b.zoomOffset++, b.minZoom > 0 && b.minZoom--, this.options.maxZoom--), b.bounds && (b.bounds = e.latLngBounds(b.bounds)), 
            this._url = a;
            var c = this.options.subdomains;
            "string" == typeof c && (this.options.subdomains = c.split(""));
        },
        onAdd: function(a) {
            this._map = a, this._animated = a._zoomAnimated, this._initContainer(), a.on({
                viewreset: this._reset,
                moveend: this._update
            }, this), this._animated && a.on({
                zoomanim: this._animateZoom,
                zoomend: this._endZoomAnim
            }, this), this.options.updateWhenIdle || (this._limitedUpdate = e.Util.limitExecByInterval(this._update, 150, this), 
            a.on("move", this._limitedUpdate, this)), this._reset(), this._update();
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        onRemove: function(a) {
            this._container.parentNode.removeChild(this._container), a.off({
                viewreset: this._reset,
                moveend: this._update
            }, this), this._animated && a.off({
                zoomanim: this._animateZoom,
                zoomend: this._endZoomAnim
            }, this), this.options.updateWhenIdle || a.off("move", this._limitedUpdate, this), 
            this._container = null, this._map = null;
        },
        bringToFront: function() {
            var a = this._map._panes.tilePane;
            return this._container && (a.appendChild(this._container), this._setAutoZIndex(a, Math.max)), 
            this;
        },
        bringToBack: function() {
            var a = this._map._panes.tilePane;
            return this._container && (a.insertBefore(this._container, a.firstChild), this._setAutoZIndex(a, Math.min)), 
            this;
        },
        getAttribution: function() {
            return this.options.attribution;
        },
        getContainer: function() {
            return this._container;
        },
        setOpacity: function(a) {
            return this.options.opacity = a, this._map && this._updateOpacity(), this;
        },
        setZIndex: function(a) {
            return this.options.zIndex = a, this._updateZIndex(), this;
        },
        setUrl: function(a, b) {
            return this._url = a, b || this.redraw(), this;
        },
        redraw: function() {
            return this._map && (this._reset({
                hard: !0
            }), this._update()), this;
        },
        _updateZIndex: function() {
            this._container && this.options.zIndex !== c && (this._container.style.zIndex = this.options.zIndex);
        },
        _setAutoZIndex: function(a, b) {
            var c, d, e, f = a.children, g = -b(1 / 0, -1 / 0);
            for (d = 0, e = f.length; e > d; d++) f[d] !== this._container && (c = parseInt(f[d].style.zIndex, 10), 
            isNaN(c) || (g = b(g, c)));
            this.options.zIndex = this._container.style.zIndex = (isFinite(g) ? g : 0) + b(1, -1);
        },
        _updateOpacity: function() {
            var a, b = this._tiles;
            if (e.Browser.ielt9) for (a in b) e.DomUtil.setOpacity(b[a], this.options.opacity); else e.DomUtil.setOpacity(this._container, this.options.opacity);
        },
        _initContainer: function() {
            var a = this._map._panes.tilePane;
            if (!this._container) {
                if (this._container = e.DomUtil.create("div", "leaflet-layer"), this._updateZIndex(), 
                this._animated) {
                    var b = "leaflet-tile-container";
                    this._bgBuffer = e.DomUtil.create("div", b, this._container), this._tileContainer = e.DomUtil.create("div", b, this._container);
                } else this._tileContainer = this._container;
                a.appendChild(this._container), this.options.opacity < 1 && this._updateOpacity();
            }
        },
        _reset: function(a) {
            for (var b in this._tiles) this.fire("tileunload", {
                tile: this._tiles[b]
            });
            this._tiles = {}, this._tilesToLoad = 0, this.options.reuseTiles && (this._unusedTiles = []), 
            this._tileContainer.innerHTML = "", this._animated && a && a.hard && this._clearBgBuffer(), 
            this._initContainer();
        },
        _getTileSize: function() {
            var a = this._map, b = a.getZoom() + this.options.zoomOffset, c = this.options.maxNativeZoom, d = this.options.tileSize;
            return c && b > c && (d = Math.round(a.getZoomScale(b) / a.getZoomScale(c) * d)), 
            d;
        },
        _update: function() {
            if (this._map) {
                var a = this._map, b = a.getPixelBounds(), c = a.getZoom(), d = this._getTileSize();
                if (!(c > this.options.maxZoom || c < this.options.minZoom)) {
                    var f = e.bounds(b.min.divideBy(d)._floor(), b.max.divideBy(d)._floor());
                    this._addTilesFromCenterOut(f), (this.options.unloadInvisibleTiles || this.options.reuseTiles) && this._removeOtherTiles(f);
                }
            }
        },
        _addTilesFromCenterOut: function(a) {
            var c, d, f, g = [], h = a.getCenter();
            for (c = a.min.y; c <= a.max.y; c++) for (d = a.min.x; d <= a.max.x; d++) f = new e.Point(d, c), 
            this._tileShouldBeLoaded(f) && g.push(f);
            var i = g.length;
            if (0 !== i) {
                g.sort(function(a, b) {
                    return a.distanceTo(h) - b.distanceTo(h);
                });
                var j = b.createDocumentFragment();
                for (this._tilesToLoad || this.fire("loading"), this._tilesToLoad += i, d = 0; i > d; d++) this._addTile(g[d], j);
                this._tileContainer.appendChild(j);
            }
        },
        _tileShouldBeLoaded: function(a) {
            if (a.x + ":" + a.y in this._tiles) return !1;
            var b = this.options;
            if (!b.continuousWorld) {
                var c = this._getWrapTileNum();
                if (b.noWrap && (a.x < 0 || a.x >= c.x) || a.y < 0 || a.y >= c.y) return !1;
            }
            if (b.bounds) {
                var d = b.tileSize, e = a.multiplyBy(d), f = e.add([ d, d ]), g = this._map.unproject(e), h = this._map.unproject(f);
                if (b.continuousWorld || b.noWrap || (g = g.wrap(), h = h.wrap()), !b.bounds.intersects([ g, h ])) return !1;
            }
            return !0;
        },
        _removeOtherTiles: function(a) {
            var b, c, d, e;
            for (e in this._tiles) b = e.split(":"), c = parseInt(b[0], 10), d = parseInt(b[1], 10), 
            (c < a.min.x || c > a.max.x || d < a.min.y || d > a.max.y) && this._removeTile(e);
        },
        _removeTile: function(a) {
            var b = this._tiles[a];
            this.fire("tileunload", {
                tile: b,
                url: b.src
            }), this.options.reuseTiles ? (e.DomUtil.removeClass(b, "leaflet-tile-loaded"), 
            this._unusedTiles.push(b)) : b.parentNode === this._tileContainer && this._tileContainer.removeChild(b), 
            e.Browser.android || (b.onload = null, b.src = e.Util.emptyImageUrl), delete this._tiles[a];
        },
        _addTile: function(a, b) {
            var c = this._getTilePos(a), d = this._getTile();
            e.DomUtil.setPosition(d, c, e.Browser.chrome), this._tiles[a.x + ":" + a.y] = d, 
            this._loadTile(d, a), d.parentNode !== this._tileContainer && b.appendChild(d);
        },
        _getZoomForUrl: function() {
            var a = this.options, b = this._map.getZoom();
            return a.zoomReverse && (b = a.maxZoom - b), b += a.zoomOffset, a.maxNativeZoom ? Math.min(b, a.maxNativeZoom) : b;
        },
        _getTilePos: function(a) {
            var b = this._map.getPixelOrigin(), c = this._getTileSize();
            return a.multiplyBy(c).subtract(b);
        },
        getTileUrl: function(a) {
            return e.Util.template(this._url, e.extend({
                s: this._getSubdomain(a),
                z: a.z,
                x: a.x,
                y: a.y
            }, this.options));
        },
        _getWrapTileNum: function() {
            var a = this._map.options.crs, b = a.getSize(this._map.getZoom());
            return b.divideBy(this._getTileSize())._floor();
        },
        _adjustTilePoint: function(a) {
            var b = this._getWrapTileNum();
            this.options.continuousWorld || this.options.noWrap || (a.x = (a.x % b.x + b.x) % b.x), 
            this.options.tms && (a.y = b.y - a.y - 1), a.z = this._getZoomForUrl();
        },
        _getSubdomain: function(a) {
            var b = Math.abs(a.x + a.y) % this.options.subdomains.length;
            return this.options.subdomains[b];
        },
        _getTile: function() {
            if (this.options.reuseTiles && this._unusedTiles.length > 0) {
                var a = this._unusedTiles.pop();
                return this._resetTile(a), a;
            }
            return this._createTile();
        },
        _resetTile: function() {},
        _createTile: function() {
            var a = e.DomUtil.create("img", "leaflet-tile");
            return a.style.width = a.style.height = this._getTileSize() + "px", a.galleryimg = "no", 
            a.onselectstart = a.onmousemove = e.Util.falseFn, e.Browser.ielt9 && this.options.opacity !== c && e.DomUtil.setOpacity(a, this.options.opacity), 
            e.Browser.mobileWebkit3d && (a.style.WebkitBackfaceVisibility = "hidden"), a;
        },
        _loadTile: function(a, b) {
            a._layer = this, a.onload = this._tileOnLoad, a.onerror = this._tileOnError, this._adjustTilePoint(b), 
            a.src = this.getTileUrl(b), this.fire("tileloadstart", {
                tile: a,
                url: a.src
            });
        },
        _tileLoaded: function() {
            this._tilesToLoad--, this._animated && e.DomUtil.addClass(this._tileContainer, "leaflet-zoom-animated"), 
            this._tilesToLoad || (this.fire("load"), this._animated && (clearTimeout(this._clearBgBufferTimer), 
            this._clearBgBufferTimer = setTimeout(e.bind(this._clearBgBuffer, this), 500)));
        },
        _tileOnLoad: function() {
            var a = this._layer;
            this.src !== e.Util.emptyImageUrl && (e.DomUtil.addClass(this, "leaflet-tile-loaded"), 
            a.fire("tileload", {
                tile: this,
                url: this.src
            })), a._tileLoaded();
        },
        _tileOnError: function() {
            var a = this._layer;
            a.fire("tileerror", {
                tile: this,
                url: this.src
            });
            var b = a.options.errorTileUrl;
            b && (this.src = b), a._tileLoaded();
        }
    }), e.tileLayer = function(a, b) {
        return new e.TileLayer(a, b);
    }, e.TileLayer.WMS = e.TileLayer.extend({
        defaultWmsParams: {
            service: "WMS",
            request: "GetMap",
            version: "1.1.1",
            layers: "",
            styles: "",
            format: "image/jpeg",
            transparent: !1
        },
        initialize: function(a, b) {
            this._url = a;
            var c = e.extend({}, this.defaultWmsParams), d = b.tileSize || this.options.tileSize;
            c.width = c.height = b.detectRetina && e.Browser.retina ? 2 * d : d;
            for (var f in b) this.options.hasOwnProperty(f) || "crs" === f || (c[f] = b[f]);
            this.wmsParams = c, e.setOptions(this, b);
        },
        onAdd: function(a) {
            this._crs = this.options.crs || a.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);
            var b = this._wmsVersion >= 1.3 ? "crs" : "srs";
            this.wmsParams[b] = this._crs.code, e.TileLayer.prototype.onAdd.call(this, a);
        },
        getTileUrl: function(a) {
            var b = this._map, c = this.options.tileSize, d = a.multiplyBy(c), f = d.add([ c, c ]), g = this._crs.project(b.unproject(d, a.z)), h = this._crs.project(b.unproject(f, a.z)), i = this._wmsVersion >= 1.3 && this._crs === e.CRS.EPSG4326 ? [ h.y, g.x, g.y, h.x ].join(",") : [ g.x, h.y, h.x, g.y ].join(","), j = e.Util.template(this._url, {
                s: this._getSubdomain(a)
            });
            return j + e.Util.getParamString(this.wmsParams, j, !0) + "&BBOX=" + i;
        },
        setParams: function(a, b) {
            return e.extend(this.wmsParams, a), b || this.redraw(), this;
        }
    }), e.tileLayer.wms = function(a, b) {
        return new e.TileLayer.WMS(a, b);
    }, e.TileLayer.Canvas = e.TileLayer.extend({
        options: {
            async: !1
        },
        initialize: function(a) {
            e.setOptions(this, a);
        },
        redraw: function() {
            this._map && (this._reset({
                hard: !0
            }), this._update());
            for (var a in this._tiles) this._redrawTile(this._tiles[a]);
            return this;
        },
        _redrawTile: function(a) {
            this.drawTile(a, a._tilePoint, this._map._zoom);
        },
        _createTile: function() {
            var a = e.DomUtil.create("canvas", "leaflet-tile");
            return a.width = a.height = this.options.tileSize, a.onselectstart = a.onmousemove = e.Util.falseFn, 
            a;
        },
        _loadTile: function(a, b) {
            a._layer = this, a._tilePoint = b, this._redrawTile(a), this.options.async || this.tileDrawn(a);
        },
        drawTile: function() {},
        tileDrawn: function(a) {
            this._tileOnLoad.call(a);
        }
    }), e.tileLayer.canvas = function(a) {
        return new e.TileLayer.Canvas(a);
    }, e.ImageOverlay = e.Class.extend({
        includes: e.Mixin.Events,
        options: {
            opacity: 1
        },
        initialize: function(a, b, c) {
            this._url = a, this._bounds = e.latLngBounds(b), e.setOptions(this, c);
        },
        onAdd: function(a) {
            this._map = a, this._image || this._initImage(), a._panes.overlayPane.appendChild(this._image), 
            a.on("viewreset", this._reset, this), a.options.zoomAnimation && e.Browser.any3d && a.on("zoomanim", this._animateZoom, this), 
            this._reset();
        },
        onRemove: function(a) {
            a.getPanes().overlayPane.removeChild(this._image), a.off("viewreset", this._reset, this), 
            a.options.zoomAnimation && a.off("zoomanim", this._animateZoom, this);
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        setOpacity: function(a) {
            return this.options.opacity = a, this._updateOpacity(), this;
        },
        bringToFront: function() {
            return this._image && this._map._panes.overlayPane.appendChild(this._image), this;
        },
        bringToBack: function() {
            var a = this._map._panes.overlayPane;
            return this._image && a.insertBefore(this._image, a.firstChild), this;
        },
        setUrl: function(a) {
            this._url = a, this._image.src = this._url;
        },
        getAttribution: function() {
            return this.options.attribution;
        },
        _initImage: function() {
            this._image = e.DomUtil.create("img", "leaflet-image-layer"), this._map.options.zoomAnimation && e.Browser.any3d ? e.DomUtil.addClass(this._image, "leaflet-zoom-animated") : e.DomUtil.addClass(this._image, "leaflet-zoom-hide"), 
            this._updateOpacity(), e.extend(this._image, {
                galleryimg: "no",
                onselectstart: e.Util.falseFn,
                onmousemove: e.Util.falseFn,
                onload: e.bind(this._onImageLoad, this),
                src: this._url
            });
        },
        _animateZoom: function(a) {
            var b = this._map, c = this._image, d = b.getZoomScale(a.zoom), f = this._bounds.getNorthWest(), g = this._bounds.getSouthEast(), h = b._latLngToNewLayerPoint(f, a.zoom, a.center), i = b._latLngToNewLayerPoint(g, a.zoom, a.center)._subtract(h), j = h._add(i._multiplyBy(.5 * (1 - 1 / d)));
            c.style[e.DomUtil.TRANSFORM] = e.DomUtil.getTranslateString(j) + " scale(" + d + ") ";
        },
        _reset: function() {
            var a = this._image, b = this._map.latLngToLayerPoint(this._bounds.getNorthWest()), c = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);
            e.DomUtil.setPosition(a, b), a.style.width = c.x + "px", a.style.height = c.y + "px";
        },
        _onImageLoad: function() {
            this.fire("load");
        },
        _updateOpacity: function() {
            e.DomUtil.setOpacity(this._image, this.options.opacity);
        }
    }), e.imageOverlay = function(a, b, c) {
        return new e.ImageOverlay(a, b, c);
    }, e.Icon = e.Class.extend({
        options: {
            className: ""
        },
        initialize: function(a) {
            e.setOptions(this, a);
        },
        createIcon: function(a) {
            return this._createIcon("icon", a);
        },
        createShadow: function(a) {
            return this._createIcon("shadow", a);
        },
        _createIcon: function(a, b) {
            var c = this._getIconUrl(a);
            if (!c) {
                if ("icon" === a) throw new Error("iconUrl not set in Icon options (see the docs).");
                return null;
            }
            var d;
            return d = b && "IMG" === b.tagName ? this._createImg(c, b) : this._createImg(c), 
            this._setIconStyles(d, a), d;
        },
        _setIconStyles: function(a, b) {
            var c, d = this.options, f = e.point(d[b + "Size"]);
            c = e.point("shadow" === b ? d.shadowAnchor || d.iconAnchor : d.iconAnchor), !c && f && (c = f.divideBy(2, !0)), 
            a.className = "leaflet-marker-" + b + " " + d.className, c && (a.style.marginLeft = -c.x + "px", 
            a.style.marginTop = -c.y + "px"), f && (a.style.width = f.x + "px", a.style.height = f.y + "px");
        },
        _createImg: function(a, c) {
            return c = c || b.createElement("img"), c.src = a, c;
        },
        _getIconUrl: function(a) {
            return e.Browser.retina && this.options[a + "RetinaUrl"] ? this.options[a + "RetinaUrl"] : this.options[a + "Url"];
        }
    }), e.icon = function(a) {
        return new e.Icon(a);
    }, e.Icon.Default = e.Icon.extend({
        options: {
            iconSize: [ 25, 41 ],
            iconAnchor: [ 12, 41 ],
            popupAnchor: [ 1, -34 ],
            shadowSize: [ 41, 41 ]
        },
        _getIconUrl: function(a) {
            var b = a + "Url";
            if (this.options[b]) return this.options[b];
            e.Browser.retina && "icon" === a && (a += "-2x");
            var c = e.Icon.Default.imagePath;
            if (!c) throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");
            return c + "/marker-" + a + ".png";
        }
    }), e.Icon.Default.imagePath = function() {
        var a, c, d, e, f, g = b.getElementsByTagName("script"), h = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;
        for (a = 0, c = g.length; c > a; a++) if (d = g[a].src, e = d.match(h)) return f = d.split(h)[0], 
        (f ? f + "/" : "") + "images";
    }(), e.Marker = e.Class.extend({
        includes: e.Mixin.Events,
        options: {
            icon: new e.Icon.Default(),
            title: "",
            alt: "",
            clickable: !0,
            draggable: !1,
            keyboard: !0,
            zIndexOffset: 0,
            opacity: 1,
            riseOnHover: !1,
            riseOffset: 250
        },
        initialize: function(a, b) {
            e.setOptions(this, b), this._latlng = e.latLng(a);
        },
        onAdd: function(a) {
            this._map = a, a.on("viewreset", this.update, this), this._initIcon(), this.update(), 
            this.fire("add"), a.options.zoomAnimation && a.options.markerZoomAnimation && a.on("zoomanim", this._animateZoom, this);
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        onRemove: function(a) {
            this.dragging && this.dragging.disable(), this._removeIcon(), this._removeShadow(), 
            this.fire("remove"), a.off({
                viewreset: this.update,
                zoomanim: this._animateZoom
            }, this), this._map = null;
        },
        getLatLng: function() {
            return this._latlng;
        },
        setLatLng: function(a) {
            return this._latlng = e.latLng(a), this.update(), this.fire("move", {
                latlng: this._latlng
            });
        },
        setZIndexOffset: function(a) {
            return this.options.zIndexOffset = a, this.update(), this;
        },
        setIcon: function(a) {
            return this.options.icon = a, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup), 
            this;
        },
        update: function() {
            if (this._icon) {
                var a = this._map.latLngToLayerPoint(this._latlng).round();
                this._setPos(a);
            }
            return this;
        },
        _initIcon: function() {
            var a = this.options, b = this._map, c = b.options.zoomAnimation && b.options.markerZoomAnimation, d = c ? "leaflet-zoom-animated" : "leaflet-zoom-hide", f = a.icon.createIcon(this._icon), g = !1;
            f !== this._icon && (this._icon && this._removeIcon(), g = !0, a.title && (f.title = a.title), 
            a.alt && (f.alt = a.alt)), e.DomUtil.addClass(f, d), a.keyboard && (f.tabIndex = "0"), 
            this._icon = f, this._initInteraction(), a.riseOnHover && e.DomEvent.on(f, "mouseover", this._bringToFront, this).on(f, "mouseout", this._resetZIndex, this);
            var h = a.icon.createShadow(this._shadow), i = !1;
            h !== this._shadow && (this._removeShadow(), i = !0), h && e.DomUtil.addClass(h, d), 
            this._shadow = h, a.opacity < 1 && this._updateOpacity();
            var j = this._map._panes;
            g && j.markerPane.appendChild(this._icon), h && i && j.shadowPane.appendChild(this._shadow);
        },
        _removeIcon: function() {
            this.options.riseOnHover && e.DomEvent.off(this._icon, "mouseover", this._bringToFront).off(this._icon, "mouseout", this._resetZIndex), 
            this._map._panes.markerPane.removeChild(this._icon), this._icon = null;
        },
        _removeShadow: function() {
            this._shadow && this._map._panes.shadowPane.removeChild(this._shadow), this._shadow = null;
        },
        _setPos: function(a) {
            e.DomUtil.setPosition(this._icon, a), this._shadow && e.DomUtil.setPosition(this._shadow, a), 
            this._zIndex = a.y + this.options.zIndexOffset, this._resetZIndex();
        },
        _updateZIndex: function(a) {
            this._icon.style.zIndex = this._zIndex + a;
        },
        _animateZoom: function(a) {
            var b = this._map._latLngToNewLayerPoint(this._latlng, a.zoom, a.center).round();
            this._setPos(b);
        },
        _initInteraction: function() {
            if (this.options.clickable) {
                var a = this._icon, b = [ "dblclick", "mousedown", "mouseover", "mouseout", "contextmenu" ];
                e.DomUtil.addClass(a, "leaflet-clickable"), e.DomEvent.on(a, "click", this._onMouseClick, this), 
                e.DomEvent.on(a, "keypress", this._onKeyPress, this);
                for (var c = 0; c < b.length; c++) e.DomEvent.on(a, b[c], this._fireMouseEvent, this);
                e.Handler.MarkerDrag && (this.dragging = new e.Handler.MarkerDrag(this), this.options.draggable && this.dragging.enable());
            }
        },
        _onMouseClick: function(a) {
            var b = this.dragging && this.dragging.moved();
            (this.hasEventListeners(a.type) || b) && e.DomEvent.stopPropagation(a), b || (this.dragging && this.dragging._enabled || !this._map.dragging || !this._map.dragging.moved()) && this.fire(a.type, {
                originalEvent: a,
                latlng: this._latlng
            });
        },
        _onKeyPress: function(a) {
            13 === a.keyCode && this.fire("click", {
                originalEvent: a,
                latlng: this._latlng
            });
        },
        _fireMouseEvent: function(a) {
            this.fire(a.type, {
                originalEvent: a,
                latlng: this._latlng
            }), "contextmenu" === a.type && this.hasEventListeners(a.type) && e.DomEvent.preventDefault(a), 
            "mousedown" !== a.type ? e.DomEvent.stopPropagation(a) : e.DomEvent.preventDefault(a);
        },
        setOpacity: function(a) {
            return this.options.opacity = a, this._map && this._updateOpacity(), this;
        },
        _updateOpacity: function() {
            e.DomUtil.setOpacity(this._icon, this.options.opacity), this._shadow && e.DomUtil.setOpacity(this._shadow, this.options.opacity);
        },
        _bringToFront: function() {
            this._updateZIndex(this.options.riseOffset);
        },
        _resetZIndex: function() {
            this._updateZIndex(0);
        }
    }), e.marker = function(a, b) {
        return new e.Marker(a, b);
    }, e.DivIcon = e.Icon.extend({
        options: {
            iconSize: [ 12, 12 ],
            className: "leaflet-div-icon",
            html: !1
        },
        createIcon: function(a) {
            var c = a && "DIV" === a.tagName ? a : b.createElement("div"), d = this.options;
            return c.innerHTML = d.html !== !1 ? d.html : "", d.bgPos && (c.style.backgroundPosition = -d.bgPos.x + "px " + -d.bgPos.y + "px"), 
            this._setIconStyles(c, "icon"), c;
        },
        createShadow: function() {
            return null;
        }
    }), e.divIcon = function(a) {
        return new e.DivIcon(a);
    }, e.Map.mergeOptions({
        closePopupOnClick: !0
    }), e.Popup = e.Class.extend({
        includes: e.Mixin.Events,
        options: {
            minWidth: 50,
            maxWidth: 300,
            autoPan: !0,
            closeButton: !0,
            offset: [ 0, 7 ],
            autoPanPadding: [ 5, 5 ],
            keepInView: !1,
            className: "",
            zoomAnimation: !0
        },
        initialize: function(a, b) {
            e.setOptions(this, a), this._source = b, this._animated = e.Browser.any3d && this.options.zoomAnimation, 
            this._isOpen = !1;
        },
        onAdd: function(a) {
            this._map = a, this._container || this._initLayout();
            var b = a.options.fadeAnimation;
            b && e.DomUtil.setOpacity(this._container, 0), a._panes.popupPane.appendChild(this._container), 
            a.on(this._getEvents(), this), this.update(), b && e.DomUtil.setOpacity(this._container, 1), 
            this.fire("open"), a.fire("popupopen", {
                popup: this
            }), this._source && this._source.fire("popupopen", {
                popup: this
            });
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        openOn: function(a) {
            return a.openPopup(this), this;
        },
        onRemove: function(a) {
            a._panes.popupPane.removeChild(this._container), e.Util.falseFn(this._container.offsetWidth), 
            a.off(this._getEvents(), this), a.options.fadeAnimation && e.DomUtil.setOpacity(this._container, 0), 
            this._map = null, this.fire("close"), a.fire("popupclose", {
                popup: this
            }), this._source && this._source.fire("popupclose", {
                popup: this
            });
        },
        getLatLng: function() {
            return this._latlng;
        },
        setLatLng: function(a) {
            return this._latlng = e.latLng(a), this._map && (this._updatePosition(), this._adjustPan()), 
            this;
        },
        getContent: function() {
            return this._content;
        },
        setContent: function(a) {
            return this._content = a, this.update(), this;
        },
        update: function() {
            this._map && (this._container.style.visibility = "hidden", this._updateContent(), 
            this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", 
            this._adjustPan());
        },
        _getEvents: function() {
            var a = {
                viewreset: this._updatePosition
            };
            return this._animated && (a.zoomanim = this._zoomAnimation), ("closeOnClick" in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (a.preclick = this._close), 
            this.options.keepInView && (a.moveend = this._adjustPan), a;
        },
        _close: function() {
            this._map && this._map.closePopup(this);
        },
        _initLayout: function() {
            var a, b = "leaflet-popup", c = b + " " + this.options.className + " leaflet-zoom-" + (this._animated ? "animated" : "hide"), d = this._container = e.DomUtil.create("div", c);
            this.options.closeButton && (a = this._closeButton = e.DomUtil.create("a", b + "-close-button", d), 
            a.href = "#close", a.innerHTML = "&#215;", e.DomEvent.disableClickPropagation(a), 
            e.DomEvent.on(a, "click", this._onCloseButtonClick, this));
            var f = this._wrapper = e.DomUtil.create("div", b + "-content-wrapper", d);
            e.DomEvent.disableClickPropagation(f), this._contentNode = e.DomUtil.create("div", b + "-content", f), 
            e.DomEvent.disableScrollPropagation(this._contentNode), e.DomEvent.on(f, "contextmenu", e.DomEvent.stopPropagation), 
            this._tipContainer = e.DomUtil.create("div", b + "-tip-container", d), this._tip = e.DomUtil.create("div", b + "-tip", this._tipContainer);
        },
        _updateContent: function() {
            if (this._content) {
                if ("string" == typeof this._content) this._contentNode.innerHTML = this._content; else {
                    for (;this._contentNode.hasChildNodes(); ) this._contentNode.removeChild(this._contentNode.firstChild);
                    this._contentNode.appendChild(this._content);
                }
                this.fire("contentupdate");
            }
        },
        _updateLayout: function() {
            var a = this._contentNode, b = a.style;
            b.width = "", b.whiteSpace = "nowrap";
            var c = a.offsetWidth;
            c = Math.min(c, this.options.maxWidth), c = Math.max(c, this.options.minWidth), 
            b.width = c + 1 + "px", b.whiteSpace = "", b.height = "";
            var d = a.offsetHeight, f = this.options.maxHeight, g = "leaflet-popup-scrolled";
            f && d > f ? (b.height = f + "px", e.DomUtil.addClass(a, g)) : e.DomUtil.removeClass(a, g), 
            this._containerWidth = this._container.offsetWidth;
        },
        _updatePosition: function() {
            if (this._map) {
                var a = this._map.latLngToLayerPoint(this._latlng), b = this._animated, c = e.point(this.options.offset);
                b && e.DomUtil.setPosition(this._container, a), this._containerBottom = -c.y - (b ? 0 : a.y), 
                this._containerLeft = -Math.round(this._containerWidth / 2) + c.x + (b ? 0 : a.x), 
                this._container.style.bottom = this._containerBottom + "px", this._container.style.left = this._containerLeft + "px";
            }
        },
        _zoomAnimation: function(a) {
            var b = this._map._latLngToNewLayerPoint(this._latlng, a.zoom, a.center);
            e.DomUtil.setPosition(this._container, b);
        },
        _adjustPan: function() {
            if (this.options.autoPan) {
                var a = this._map, b = this._container.offsetHeight, c = this._containerWidth, d = new e.Point(this._containerLeft, -b - this._containerBottom);
                this._animated && d._add(e.DomUtil.getPosition(this._container));
                var f = a.layerPointToContainerPoint(d), g = e.point(this.options.autoPanPadding), h = e.point(this.options.autoPanPaddingTopLeft || g), i = e.point(this.options.autoPanPaddingBottomRight || g), j = a.getSize(), k = 0, l = 0;
                f.x + c + i.x > j.x && (k = f.x + c - j.x + i.x), f.x - k - h.x < 0 && (k = f.x - h.x), 
                f.y + b + i.y > j.y && (l = f.y + b - j.y + i.y), f.y - l - h.y < 0 && (l = f.y - h.y), 
                (k || l) && a.fire("autopanstart").panBy([ k, l ]);
            }
        },
        _onCloseButtonClick: function(a) {
            this._close(), e.DomEvent.stop(a);
        }
    }), e.popup = function(a, b) {
        return new e.Popup(a, b);
    }, e.Map.include({
        openPopup: function(a, b, c) {
            if (this.closePopup(), !(a instanceof e.Popup)) {
                var d = a;
                a = new e.Popup(c).setLatLng(b).setContent(d);
            }
            return a._isOpen = !0, this._popup = a, this.addLayer(a);
        },
        closePopup: function(a) {
            return a && a !== this._popup || (a = this._popup, this._popup = null), a && (this.removeLayer(a), 
            a._isOpen = !1), this;
        }
    }), e.Marker.include({
        openPopup: function() {
            return this._popup && this._map && !this._map.hasLayer(this._popup) && (this._popup.setLatLng(this._latlng), 
            this._map.openPopup(this._popup)), this;
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this;
        },
        togglePopup: function() {
            return this._popup && (this._popup._isOpen ? this.closePopup() : this.openPopup()), 
            this;
        },
        bindPopup: function(a, b) {
            var c = e.point(this.options.icon.options.popupAnchor || [ 0, 0 ]);
            return c = c.add(e.Popup.prototype.options.offset), b && b.offset && (c = c.add(b.offset)), 
            b = e.extend({
                offset: c
            }, b), this._popupHandlersAdded || (this.on("click", this.togglePopup, this).on("remove", this.closePopup, this).on("move", this._movePopup, this), 
            this._popupHandlersAdded = !0), a instanceof e.Popup ? (e.setOptions(a, b), this._popup = a) : this._popup = new e.Popup(b, this).setContent(a), 
            this;
        },
        setPopupContent: function(a) {
            return this._popup && this._popup.setContent(a), this;
        },
        unbindPopup: function() {
            return this._popup && (this._popup = null, this.off("click", this.togglePopup, this).off("remove", this.closePopup, this).off("move", this._movePopup, this), 
            this._popupHandlersAdded = !1), this;
        },
        getPopup: function() {
            return this._popup;
        },
        _movePopup: function(a) {
            this._popup.setLatLng(a.latlng);
        }
    }), e.LayerGroup = e.Class.extend({
        initialize: function(a) {
            this._layers = {};
            var b, c;
            if (a) for (b = 0, c = a.length; c > b; b++) this.addLayer(a[b]);
        },
        addLayer: function(a) {
            var b = this.getLayerId(a);
            return this._layers[b] = a, this._map && this._map.addLayer(a), this;
        },
        removeLayer: function(a) {
            var b = a in this._layers ? a : this.getLayerId(a);
            return this._map && this._layers[b] && this._map.removeLayer(this._layers[b]), delete this._layers[b], 
            this;
        },
        hasLayer: function(a) {
            return a ? a in this._layers || this.getLayerId(a) in this._layers : !1;
        },
        clearLayers: function() {
            return this.eachLayer(this.removeLayer, this), this;
        },
        invoke: function(a) {
            var b, c, d = Array.prototype.slice.call(arguments, 1);
            for (b in this._layers) c = this._layers[b], c[a] && c[a].apply(c, d);
            return this;
        },
        onAdd: function(a) {
            this._map = a, this.eachLayer(a.addLayer, a);
        },
        onRemove: function(a) {
            this.eachLayer(a.removeLayer, a), this._map = null;
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        eachLayer: function(a, b) {
            for (var c in this._layers) a.call(b, this._layers[c]);
            return this;
        },
        getLayer: function(a) {
            return this._layers[a];
        },
        getLayers: function() {
            var a = [];
            for (var b in this._layers) a.push(this._layers[b]);
            return a;
        },
        setZIndex: function(a) {
            return this.invoke("setZIndex", a);
        },
        getLayerId: function(a) {
            return e.stamp(a);
        }
    }), e.layerGroup = function(a) {
        return new e.LayerGroup(a);
    }, e.FeatureGroup = e.LayerGroup.extend({
        includes: e.Mixin.Events,
        statics: {
            EVENTS: "click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"
        },
        addLayer: function(a) {
            return this.hasLayer(a) ? this : ("on" in a && a.on(e.FeatureGroup.EVENTS, this._propagateEvent, this), 
            e.LayerGroup.prototype.addLayer.call(this, a), this._popupContent && a.bindPopup && a.bindPopup(this._popupContent, this._popupOptions), 
            this.fire("layeradd", {
                layer: a
            }));
        },
        removeLayer: function(a) {
            return this.hasLayer(a) ? (a in this._layers && (a = this._layers[a]), a.off(e.FeatureGroup.EVENTS, this._propagateEvent, this), 
            e.LayerGroup.prototype.removeLayer.call(this, a), this._popupContent && this.invoke("unbindPopup"), 
            this.fire("layerremove", {
                layer: a
            })) : this;
        },
        bindPopup: function(a, b) {
            return this._popupContent = a, this._popupOptions = b, this.invoke("bindPopup", a, b);
        },
        openPopup: function(a) {
            for (var b in this._layers) {
                this._layers[b].openPopup(a);
                break;
            }
            return this;
        },
        setStyle: function(a) {
            return this.invoke("setStyle", a);
        },
        bringToFront: function() {
            return this.invoke("bringToFront");
        },
        bringToBack: function() {
            return this.invoke("bringToBack");
        },
        getBounds: function() {
            var a = new e.LatLngBounds();
            return this.eachLayer(function(b) {
                a.extend(b instanceof e.Marker ? b.getLatLng() : b.getBounds());
            }), a;
        },
        _propagateEvent: function(a) {
            a = e.extend({
                layer: a.target,
                target: this
            }, a), this.fire(a.type, a);
        }
    }), e.featureGroup = function(a) {
        return new e.FeatureGroup(a);
    }, e.Path = e.Class.extend({
        includes: [ e.Mixin.Events ],
        statics: {
            CLIP_PADDING: function() {
                var b = e.Browser.mobile ? 1280 : 2e3, c = (b / Math.max(a.outerWidth, a.outerHeight) - 1) / 2;
                return Math.max(0, Math.min(.5, c));
            }()
        },
        options: {
            stroke: !0,
            color: "#0033ff",
            dashArray: null,
            lineCap: null,
            lineJoin: null,
            weight: 5,
            opacity: .5,
            fill: !1,
            fillColor: null,
            fillOpacity: .2,
            clickable: !0
        },
        initialize: function(a) {
            e.setOptions(this, a);
        },
        onAdd: function(a) {
            this._map = a, this._container || (this._initElements(), this._initEvents()), this.projectLatlngs(), 
            this._updatePath(), this._container && this._map._pathRoot.appendChild(this._container), 
            this.fire("add"), a.on({
                viewreset: this.projectLatlngs,
                moveend: this._updatePath
            }, this);
        },
        addTo: function(a) {
            return a.addLayer(this), this;
        },
        onRemove: function(a) {
            a._pathRoot.removeChild(this._container), this.fire("remove"), this._map = null, 
            e.Browser.vml && (this._container = null, this._stroke = null, this._fill = null), 
            a.off({
                viewreset: this.projectLatlngs,
                moveend: this._updatePath
            }, this);
        },
        projectLatlngs: function() {},
        setStyle: function(a) {
            return e.setOptions(this, a), this._container && this._updateStyle(), this;
        },
        redraw: function() {
            return this._map && (this.projectLatlngs(), this._updatePath()), this;
        }
    }), e.Map.include({
        _updatePathViewport: function() {
            var a = e.Path.CLIP_PADDING, b = this.getSize(), c = e.DomUtil.getPosition(this._mapPane), d = c.multiplyBy(-1)._subtract(b.multiplyBy(a)._round()), f = d.add(b.multiplyBy(1 + 2 * a)._round());
            this._pathViewport = new e.Bounds(d, f);
        }
    }), e.Path.SVG_NS = "http://www.w3.org/2000/svg", e.Browser.svg = !(!b.createElementNS || !b.createElementNS(e.Path.SVG_NS, "svg").createSVGRect), 
    e.Path = e.Path.extend({
        statics: {
            SVG: e.Browser.svg
        },
        bringToFront: function() {
            var a = this._map._pathRoot, b = this._container;
            return b && a.lastChild !== b && a.appendChild(b), this;
        },
        bringToBack: function() {
            var a = this._map._pathRoot, b = this._container, c = a.firstChild;
            return b && c !== b && a.insertBefore(b, c), this;
        },
        getPathString: function() {},
        _createElement: function(a) {
            return b.createElementNS(e.Path.SVG_NS, a);
        },
        _initElements: function() {
            this._map._initPathRoot(), this._initPath(), this._initStyle();
        },
        _initPath: function() {
            this._container = this._createElement("g"), this._path = this._createElement("path"), 
            this.options.className && e.DomUtil.addClass(this._path, this.options.className), 
            this._container.appendChild(this._path);
        },
        _initStyle: function() {
            this.options.stroke && (this._path.setAttribute("stroke-linejoin", "round"), this._path.setAttribute("stroke-linecap", "round")), 
            this.options.fill && this._path.setAttribute("fill-rule", "evenodd"), this.options.pointerEvents && this._path.setAttribute("pointer-events", this.options.pointerEvents), 
            this.options.clickable || this.options.pointerEvents || this._path.setAttribute("pointer-events", "none"), 
            this._updateStyle();
        },
        _updateStyle: function() {
            this.options.stroke ? (this._path.setAttribute("stroke", this.options.color), this._path.setAttribute("stroke-opacity", this.options.opacity), 
            this._path.setAttribute("stroke-width", this.options.weight), this.options.dashArray ? this._path.setAttribute("stroke-dasharray", this.options.dashArray) : this._path.removeAttribute("stroke-dasharray"), 
            this.options.lineCap && this._path.setAttribute("stroke-linecap", this.options.lineCap), 
            this.options.lineJoin && this._path.setAttribute("stroke-linejoin", this.options.lineJoin)) : this._path.setAttribute("stroke", "none"), 
            this.options.fill ? (this._path.setAttribute("fill", this.options.fillColor || this.options.color), 
            this._path.setAttribute("fill-opacity", this.options.fillOpacity)) : this._path.setAttribute("fill", "none");
        },
        _updatePath: function() {
            var a = this.getPathString();
            a || (a = "M0 0"), this._path.setAttribute("d", a);
        },
        _initEvents: function() {
            if (this.options.clickable) {
                (e.Browser.svg || !e.Browser.vml) && e.DomUtil.addClass(this._path, "leaflet-clickable"), 
                e.DomEvent.on(this._container, "click", this._onMouseClick, this);
                for (var a = [ "dblclick", "mousedown", "mouseover", "mouseout", "mousemove", "contextmenu" ], b = 0; b < a.length; b++) e.DomEvent.on(this._container, a[b], this._fireMouseEvent, this);
            }
        },
        _onMouseClick: function(a) {
            this._map.dragging && this._map.dragging.moved() || this._fireMouseEvent(a);
        },
        _fireMouseEvent: function(a) {
            if (this.hasEventListeners(a.type)) {
                var b = this._map, c = b.mouseEventToContainerPoint(a), d = b.containerPointToLayerPoint(c), f = b.layerPointToLatLng(d);
                this.fire(a.type, {
                    latlng: f,
                    layerPoint: d,
                    containerPoint: c,
                    originalEvent: a
                }), "contextmenu" === a.type && e.DomEvent.preventDefault(a), "mousemove" !== a.type && e.DomEvent.stopPropagation(a);
            }
        }
    }), e.Map.include({
        _initPathRoot: function() {
            this._pathRoot || (this._pathRoot = e.Path.prototype._createElement("svg"), this._panes.overlayPane.appendChild(this._pathRoot), 
            this.options.zoomAnimation && e.Browser.any3d ? (e.DomUtil.addClass(this._pathRoot, "leaflet-zoom-animated"), 
            this.on({
                zoomanim: this._animatePathZoom,
                zoomend: this._endPathZoom
            })) : e.DomUtil.addClass(this._pathRoot, "leaflet-zoom-hide"), this.on("moveend", this._updateSvgViewport), 
            this._updateSvgViewport());
        },
        _animatePathZoom: function(a) {
            var b = this.getZoomScale(a.zoom), c = this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);
            this._pathRoot.style[e.DomUtil.TRANSFORM] = e.DomUtil.getTranslateString(c) + " scale(" + b + ") ", 
            this._pathZooming = !0;
        },
        _endPathZoom: function() {
            this._pathZooming = !1;
        },
        _updateSvgViewport: function() {
            if (!this._pathZooming) {
                this._updatePathViewport();
                var a = this._pathViewport, b = a.min, c = a.max, d = c.x - b.x, f = c.y - b.y, g = this._pathRoot, h = this._panes.overlayPane;
                e.Browser.mobileWebkit && h.removeChild(g), e.DomUtil.setPosition(g, b), g.setAttribute("width", d), 
                g.setAttribute("height", f), g.setAttribute("viewBox", [ b.x, b.y, d, f ].join(" ")), 
                e.Browser.mobileWebkit && h.appendChild(g);
            }
        }
    }), e.Path.include({
        bindPopup: function(a, b) {
            return a instanceof e.Popup ? this._popup = a : ((!this._popup || b) && (this._popup = new e.Popup(b, this)), 
            this._popup.setContent(a)), this._popupHandlersAdded || (this.on("click", this._openPopup, this).on("remove", this.closePopup, this), 
            this._popupHandlersAdded = !0), this;
        },
        unbindPopup: function() {
            return this._popup && (this._popup = null, this.off("click", this._openPopup).off("remove", this.closePopup), 
            this._popupHandlersAdded = !1), this;
        },
        openPopup: function(a) {
            return this._popup && (a = a || this._latlng || this._latlngs[Math.floor(this._latlngs.length / 2)], 
            this._openPopup({
                latlng: a
            })), this;
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this;
        },
        _openPopup: function(a) {
            this._popup.setLatLng(a.latlng), this._map.openPopup(this._popup);
        }
    }), e.Browser.vml = !e.Browser.svg && function() {
        try {
            var a = b.createElement("div");
            a.innerHTML = '<v:shape adj="1"/>';
            var c = a.firstChild;
            return c.style.behavior = "url(#default#VML)", c && "object" == typeof c.adj;
        } catch (d) {
            return !1;
        }
    }(), e.Path = e.Browser.svg || !e.Browser.vml ? e.Path : e.Path.extend({
        statics: {
            VML: !0,
            CLIP_PADDING: .02
        },
        _createElement: function() {
            try {
                return b.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"), function(a) {
                    return b.createElement("<lvml:" + a + ' class="lvml">');
                };
            } catch (a) {
                return function(a) {
                    return b.createElement("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
                };
            }
        }(),
        _initPath: function() {
            var a = this._container = this._createElement("shape");
            e.DomUtil.addClass(a, "leaflet-vml-shape" + (this.options.className ? " " + this.options.className : "")), 
            this.options.clickable && e.DomUtil.addClass(a, "leaflet-clickable"), a.coordsize = "1 1", 
            this._path = this._createElement("path"), a.appendChild(this._path), this._map._pathRoot.appendChild(a);
        },
        _initStyle: function() {
            this._updateStyle();
        },
        _updateStyle: function() {
            var a = this._stroke, b = this._fill, c = this.options, d = this._container;
            d.stroked = c.stroke, d.filled = c.fill, c.stroke ? (a || (a = this._stroke = this._createElement("stroke"), 
            a.endcap = "round", d.appendChild(a)), a.weight = c.weight + "px", a.color = c.color, 
            a.opacity = c.opacity, a.dashStyle = c.dashArray ? e.Util.isArray(c.dashArray) ? c.dashArray.join(" ") : c.dashArray.replace(/( *, *)/g, " ") : "", 
            c.lineCap && (a.endcap = c.lineCap.replace("butt", "flat")), c.lineJoin && (a.joinstyle = c.lineJoin)) : a && (d.removeChild(a), 
            this._stroke = null), c.fill ? (b || (b = this._fill = this._createElement("fill"), 
            d.appendChild(b)), b.color = c.fillColor || c.color, b.opacity = c.fillOpacity) : b && (d.removeChild(b), 
            this._fill = null);
        },
        _updatePath: function() {
            var a = this._container.style;
            a.display = "none", this._path.v = this.getPathString() + " ", a.display = "";
        }
    }), e.Map.include(e.Browser.svg || !e.Browser.vml ? {} : {
        _initPathRoot: function() {
            if (!this._pathRoot) {
                var a = this._pathRoot = b.createElement("div");
                a.className = "leaflet-vml-container", this._panes.overlayPane.appendChild(a), this.on("moveend", this._updatePathViewport), 
                this._updatePathViewport();
            }
        }
    }), e.Browser.canvas = function() {
        return !!b.createElement("canvas").getContext;
    }(), e.Path = e.Path.SVG && !a.L_PREFER_CANVAS || !e.Browser.canvas ? e.Path : e.Path.extend({
        statics: {
            CANVAS: !0,
            SVG: !1
        },
        redraw: function() {
            return this._map && (this.projectLatlngs(), this._requestUpdate()), this;
        },
        setStyle: function(a) {
            return e.setOptions(this, a), this._map && (this._updateStyle(), this._requestUpdate()), 
            this;
        },
        onRemove: function(a) {
            a.off("viewreset", this.projectLatlngs, this).off("moveend", this._updatePath, this), 
            this.options.clickable && (this._map.off("click", this._onClick, this), this._map.off("mousemove", this._onMouseMove, this)), 
            this._requestUpdate(), this.fire("remove"), this._map = null;
        },
        _requestUpdate: function() {
            this._map && !e.Path._updateRequest && (e.Path._updateRequest = e.Util.requestAnimFrame(this._fireMapMoveEnd, this._map));
        },
        _fireMapMoveEnd: function() {
            e.Path._updateRequest = null, this.fire("moveend");
        },
        _initElements: function() {
            this._map._initPathRoot(), this._ctx = this._map._canvasCtx;
        },
        _updateStyle: function() {
            var a = this.options;
            a.stroke && (this._ctx.lineWidth = a.weight, this._ctx.strokeStyle = a.color), a.fill && (this._ctx.fillStyle = a.fillColor || a.color);
        },
        _drawPath: function() {
            var a, b, c, d, f, g;
            for (this._ctx.beginPath(), a = 0, c = this._parts.length; c > a; a++) {
                for (b = 0, d = this._parts[a].length; d > b; b++) f = this._parts[a][b], g = (0 === b ? "move" : "line") + "To", 
                this._ctx[g](f.x, f.y);
                this instanceof e.Polygon && this._ctx.closePath();
            }
        },
        _checkIfEmpty: function() {
            return !this._parts.length;
        },
        _updatePath: function() {
            if (!this._checkIfEmpty()) {
                var a = this._ctx, b = this.options;
                this._drawPath(), a.save(), this._updateStyle(), b.fill && (a.globalAlpha = b.fillOpacity, 
                a.fill()), b.stroke && (a.globalAlpha = b.opacity, a.stroke()), a.restore();
            }
        },
        _initEvents: function() {
            this.options.clickable && (this._map.on("mousemove", this._onMouseMove, this), this._map.on("click", this._onClick, this));
        },
        _onClick: function(a) {
            this._containsPoint(a.layerPoint) && this.fire("click", a);
        },
        _onMouseMove: function(a) {
            this._map && !this._map._animatingZoom && (this._containsPoint(a.layerPoint) ? (this._ctx.canvas.style.cursor = "pointer", 
            this._mouseInside = !0, this.fire("mouseover", a)) : this._mouseInside && (this._ctx.canvas.style.cursor = "", 
            this._mouseInside = !1, this.fire("mouseout", a)));
        }
    }), e.Map.include(e.Path.SVG && !a.L_PREFER_CANVAS || !e.Browser.canvas ? {} : {
        _initPathRoot: function() {
            var a, c = this._pathRoot;
            c || (c = this._pathRoot = b.createElement("canvas"), c.style.position = "absolute", 
            a = this._canvasCtx = c.getContext("2d"), a.lineCap = "round", a.lineJoin = "round", 
            this._panes.overlayPane.appendChild(c), this.options.zoomAnimation && (this._pathRoot.className = "leaflet-zoom-animated", 
            this.on("zoomanim", this._animatePathZoom), this.on("zoomend", this._endPathZoom)), 
            this.on("moveend", this._updateCanvasViewport), this._updateCanvasViewport());
        },
        _updateCanvasViewport: function() {
            if (!this._pathZooming) {
                this._updatePathViewport();
                var a = this._pathViewport, b = a.min, c = a.max.subtract(b), d = this._pathRoot;
                e.DomUtil.setPosition(d, b), d.width = c.x, d.height = c.y, d.getContext("2d").translate(-b.x, -b.y);
            }
        }
    }), e.LineUtil = {
        simplify: function(a, b) {
            if (!b || !a.length) return a.slice();
            var c = b * b;
            return a = this._reducePoints(a, c), a = this._simplifyDP(a, c);
        },
        pointToSegmentDistance: function(a, b, c) {
            return Math.sqrt(this._sqClosestPointOnSegment(a, b, c, !0));
        },
        closestPointOnSegment: function(a, b, c) {
            return this._sqClosestPointOnSegment(a, b, c);
        },
        _simplifyDP: function(a, b) {
            var d = a.length, e = typeof Uint8Array != c + "" ? Uint8Array : Array, f = new e(d);
            f[0] = f[d - 1] = 1, this._simplifyDPStep(a, f, b, 0, d - 1);
            var g, h = [];
            for (g = 0; d > g; g++) f[g] && h.push(a[g]);
            return h;
        },
        _simplifyDPStep: function(a, b, c, d, e) {
            var f, g, h, i = 0;
            for (g = d + 1; e - 1 >= g; g++) h = this._sqClosestPointOnSegment(a[g], a[d], a[e], !0), 
            h > i && (f = g, i = h);
            i > c && (b[f] = 1, this._simplifyDPStep(a, b, c, d, f), this._simplifyDPStep(a, b, c, f, e));
        },
        _reducePoints: function(a, b) {
            for (var c = [ a[0] ], d = 1, e = 0, f = a.length; f > d; d++) this._sqDist(a[d], a[e]) > b && (c.push(a[d]), 
            e = d);
            return f - 1 > e && c.push(a[f - 1]), c;
        },
        clipSegment: function(a, b, c, d) {
            var e, f, g, h = d ? this._lastCode : this._getBitCode(a, c), i = this._getBitCode(b, c);
            for (this._lastCode = i; ;) {
                if (!(h | i)) return [ a, b ];
                if (h & i) return !1;
                e = h || i, f = this._getEdgeIntersection(a, b, e, c), g = this._getBitCode(f, c), 
                e === h ? (a = f, h = g) : (b = f, i = g);
            }
        },
        _getEdgeIntersection: function(a, b, c, d) {
            var f = b.x - a.x, g = b.y - a.y, h = d.min, i = d.max;
            return 8 & c ? new e.Point(a.x + f * (i.y - a.y) / g, i.y) : 4 & c ? new e.Point(a.x + f * (h.y - a.y) / g, h.y) : 2 & c ? new e.Point(i.x, a.y + g * (i.x - a.x) / f) : 1 & c ? new e.Point(h.x, a.y + g * (h.x - a.x) / f) : void 0;
        },
        _getBitCode: function(a, b) {
            var c = 0;
            return a.x < b.min.x ? c |= 1 : a.x > b.max.x && (c |= 2), a.y < b.min.y ? c |= 4 : a.y > b.max.y && (c |= 8), 
            c;
        },
        _sqDist: function(a, b) {
            var c = b.x - a.x, d = b.y - a.y;
            return c * c + d * d;
        },
        _sqClosestPointOnSegment: function(a, b, c, d) {
            var f, g = b.x, h = b.y, i = c.x - g, j = c.y - h, k = i * i + j * j;
            return k > 0 && (f = ((a.x - g) * i + (a.y - h) * j) / k, f > 1 ? (g = c.x, h = c.y) : f > 0 && (g += i * f, 
            h += j * f)), i = a.x - g, j = a.y - h, d ? i * i + j * j : new e.Point(g, h);
        }
    }, e.Polyline = e.Path.extend({
        initialize: function(a, b) {
            e.Path.prototype.initialize.call(this, b), this._latlngs = this._convertLatLngs(a);
        },
        options: {
            smoothFactor: 1,
            noClip: !1
        },
        projectLatlngs: function() {
            this._originalPoints = [];
            for (var a = 0, b = this._latlngs.length; b > a; a++) this._originalPoints[a] = this._map.latLngToLayerPoint(this._latlngs[a]);
        },
        getPathString: function() {
            for (var a = 0, b = this._parts.length, c = ""; b > a; a++) c += this._getPathPartStr(this._parts[a]);
            return c;
        },
        getLatLngs: function() {
            return this._latlngs;
        },
        setLatLngs: function(a) {
            return this._latlngs = this._convertLatLngs(a), this.redraw();
        },
        addLatLng: function(a) {
            return this._latlngs.push(e.latLng(a)), this.redraw();
        },
        spliceLatLngs: function() {
            var a = [].splice.apply(this._latlngs, arguments);
            return this._convertLatLngs(this._latlngs, !0), this.redraw(), a;
        },
        closestLayerPoint: function(a) {
            for (var b, c, d = 1 / 0, f = this._parts, g = null, h = 0, i = f.length; i > h; h++) for (var j = f[h], k = 1, l = j.length; l > k; k++) {
                b = j[k - 1], c = j[k];
                var m = e.LineUtil._sqClosestPointOnSegment(a, b, c, !0);
                d > m && (d = m, g = e.LineUtil._sqClosestPointOnSegment(a, b, c));
            }
            return g && (g.distance = Math.sqrt(d)), g;
        },
        getBounds: function() {
            return new e.LatLngBounds(this.getLatLngs());
        },
        _convertLatLngs: function(a, b) {
            var c, d, f = b ? a : [];
            for (c = 0, d = a.length; d > c; c++) {
                if (e.Util.isArray(a[c]) && "number" != typeof a[c][0]) return;
                f[c] = e.latLng(a[c]);
            }
            return f;
        },
        _initEvents: function() {
            e.Path.prototype._initEvents.call(this);
        },
        _getPathPartStr: function(a) {
            for (var b, c = e.Path.VML, d = 0, f = a.length, g = ""; f > d; d++) b = a[d], c && b._round(), 
            g += (d ? "L" : "M") + b.x + " " + b.y;
            return g;
        },
        _clipPoints: function() {
            var a, b, c, d = this._originalPoints, f = d.length;
            if (this.options.noClip) return void (this._parts = [ d ]);
            this._parts = [];
            var g = this._parts, h = this._map._pathViewport, i = e.LineUtil;
            for (a = 0, b = 0; f - 1 > a; a++) c = i.clipSegment(d[a], d[a + 1], h, a), c && (g[b] = g[b] || [], 
            g[b].push(c[0]), (c[1] !== d[a + 1] || a === f - 2) && (g[b].push(c[1]), b++));
        },
        _simplifyPoints: function() {
            for (var a = this._parts, b = e.LineUtil, c = 0, d = a.length; d > c; c++) a[c] = b.simplify(a[c], this.options.smoothFactor);
        },
        _updatePath: function() {
            this._map && (this._clipPoints(), this._simplifyPoints(), e.Path.prototype._updatePath.call(this));
        }
    }), e.polyline = function(a, b) {
        return new e.Polyline(a, b);
    }, e.PolyUtil = {}, e.PolyUtil.clipPolygon = function(a, b) {
        var c, d, f, g, h, i, j, k, l, m = [ 1, 4, 2, 8 ], n = e.LineUtil;
        for (d = 0, j = a.length; j > d; d++) a[d]._code = n._getBitCode(a[d], b);
        for (g = 0; 4 > g; g++) {
            for (k = m[g], c = [], d = 0, j = a.length, f = j - 1; j > d; f = d++) h = a[d], 
            i = a[f], h._code & k ? i._code & k || (l = n._getEdgeIntersection(i, h, k, b), 
            l._code = n._getBitCode(l, b), c.push(l)) : (i._code & k && (l = n._getEdgeIntersection(i, h, k, b), 
            l._code = n._getBitCode(l, b), c.push(l)), c.push(h));
            a = c;
        }
        return a;
    }, e.Polygon = e.Polyline.extend({
        options: {
            fill: !0
        },
        initialize: function(a, b) {
            e.Polyline.prototype.initialize.call(this, a, b), this._initWithHoles(a);
        },
        _initWithHoles: function(a) {
            var b, c, d;
            if (a && e.Util.isArray(a[0]) && "number" != typeof a[0][0]) for (this._latlngs = this._convertLatLngs(a[0]), 
            this._holes = a.slice(1), b = 0, c = this._holes.length; c > b; b++) d = this._holes[b] = this._convertLatLngs(this._holes[b]), 
            d[0].equals(d[d.length - 1]) && d.pop();
            a = this._latlngs, a.length >= 2 && a[0].equals(a[a.length - 1]) && a.pop();
        },
        projectLatlngs: function() {
            if (e.Polyline.prototype.projectLatlngs.call(this), this._holePoints = [], this._holes) {
                var a, b, c, d;
                for (a = 0, c = this._holes.length; c > a; a++) for (this._holePoints[a] = [], b = 0, 
                d = this._holes[a].length; d > b; b++) this._holePoints[a][b] = this._map.latLngToLayerPoint(this._holes[a][b]);
            }
        },
        setLatLngs: function(a) {
            return a && e.Util.isArray(a[0]) && "number" != typeof a[0][0] ? (this._initWithHoles(a), 
            this.redraw()) : e.Polyline.prototype.setLatLngs.call(this, a);
        },
        _clipPoints: function() {
            var a = this._originalPoints, b = [];
            if (this._parts = [ a ].concat(this._holePoints), !this.options.noClip) {
                for (var c = 0, d = this._parts.length; d > c; c++) {
                    var f = e.PolyUtil.clipPolygon(this._parts[c], this._map._pathViewport);
                    f.length && b.push(f);
                }
                this._parts = b;
            }
        },
        _getPathPartStr: function(a) {
            var b = e.Polyline.prototype._getPathPartStr.call(this, a);
            return b + (e.Browser.svg ? "z" : "x");
        }
    }), e.polygon = function(a, b) {
        return new e.Polygon(a, b);
    }, function() {
        function a(a) {
            return e.FeatureGroup.extend({
                initialize: function(a, b) {
                    this._layers = {}, this._options = b, this.setLatLngs(a);
                },
                setLatLngs: function(b) {
                    var c = 0, d = b.length;
                    for (this.eachLayer(function(a) {
                        d > c ? a.setLatLngs(b[c++]) : this.removeLayer(a);
                    }, this); d > c; ) this.addLayer(new a(b[c++], this._options));
                    return this;
                },
                getLatLngs: function() {
                    var a = [];
                    return this.eachLayer(function(b) {
                        a.push(b.getLatLngs());
                    }), a;
                }
            });
        }
        e.MultiPolyline = a(e.Polyline), e.MultiPolygon = a(e.Polygon), e.multiPolyline = function(a, b) {
            return new e.MultiPolyline(a, b);
        }, e.multiPolygon = function(a, b) {
            return new e.MultiPolygon(a, b);
        };
    }(), e.Rectangle = e.Polygon.extend({
        initialize: function(a, b) {
            e.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(a), b);
        },
        setBounds: function(a) {
            this.setLatLngs(this._boundsToLatLngs(a));
        },
        _boundsToLatLngs: function(a) {
            return a = e.latLngBounds(a), [ a.getSouthWest(), a.getNorthWest(), a.getNorthEast(), a.getSouthEast() ];
        }
    }), e.rectangle = function(a, b) {
        return new e.Rectangle(a, b);
    }, e.Circle = e.Path.extend({
        initialize: function(a, b, c) {
            e.Path.prototype.initialize.call(this, c), this._latlng = e.latLng(a), this._mRadius = b;
        },
        options: {
            fill: !0
        },
        setLatLng: function(a) {
            return this._latlng = e.latLng(a), this.redraw();
        },
        setRadius: function(a) {
            return this._mRadius = a, this.redraw();
        },
        projectLatlngs: function() {
            var a = this._getLngRadius(), b = this._latlng, c = this._map.latLngToLayerPoint([ b.lat, b.lng - a ]);
            this._point = this._map.latLngToLayerPoint(b), this._radius = Math.max(this._point.x - c.x, 1);
        },
        getBounds: function() {
            var a = this._getLngRadius(), b = this._mRadius / 40075017 * 360, c = this._latlng;
            return new e.LatLngBounds([ c.lat - b, c.lng - a ], [ c.lat + b, c.lng + a ]);
        },
        getLatLng: function() {
            return this._latlng;
        },
        getPathString: function() {
            var a = this._point, b = this._radius;
            return this._checkIfEmpty() ? "" : e.Browser.svg ? "M" + a.x + "," + (a.y - b) + "A" + b + "," + b + ",0,1,1," + (a.x - .1) + "," + (a.y - b) + " z" : (a._round(), 
            b = Math.round(b), "AL " + a.x + "," + a.y + " " + b + "," + b + " 0,23592600");
        },
        getRadius: function() {
            return this._mRadius;
        },
        _getLatRadius: function() {
            return this._mRadius / 40075017 * 360;
        },
        _getLngRadius: function() {
            return this._getLatRadius() / Math.cos(e.LatLng.DEG_TO_RAD * this._latlng.lat);
        },
        _checkIfEmpty: function() {
            if (!this._map) return !1;
            var a = this._map._pathViewport, b = this._radius, c = this._point;
            return c.x - b > a.max.x || c.y - b > a.max.y || c.x + b < a.min.x || c.y + b < a.min.y;
        }
    }), e.circle = function(a, b, c) {
        return new e.Circle(a, b, c);
    }, e.CircleMarker = e.Circle.extend({
        options: {
            radius: 10,
            weight: 2
        },
        initialize: function(a, b) {
            e.Circle.prototype.initialize.call(this, a, null, b), this._radius = this.options.radius;
        },
        projectLatlngs: function() {
            this._point = this._map.latLngToLayerPoint(this._latlng);
        },
        _updateStyle: function() {
            e.Circle.prototype._updateStyle.call(this), this.setRadius(this.options.radius);
        },
        setLatLng: function(a) {
            return e.Circle.prototype.setLatLng.call(this, a), this._popup && this._popup._isOpen && this._popup.setLatLng(a), 
            this;
        },
        setRadius: function(a) {
            return this.options.radius = this._radius = a, this.redraw();
        },
        getRadius: function() {
            return this._radius;
        }
    }), e.circleMarker = function(a, b) {
        return new e.CircleMarker(a, b);
    }, e.Polyline.include(e.Path.CANVAS ? {
        _containsPoint: function(a, b) {
            var c, d, f, g, h, i, j, k = this.options.weight / 2;
            for (e.Browser.touch && (k += 10), c = 0, g = this._parts.length; g > c; c++) for (j = this._parts[c], 
            d = 0, h = j.length, f = h - 1; h > d; f = d++) if ((b || 0 !== d) && (i = e.LineUtil.pointToSegmentDistance(a, j[f], j[d]), 
            k >= i)) return !0;
            return !1;
        }
    } : {}), e.Polygon.include(e.Path.CANVAS ? {
        _containsPoint: function(a) {
            var b, c, d, f, g, h, i, j, k = !1;
            if (e.Polyline.prototype._containsPoint.call(this, a, !0)) return !0;
            for (f = 0, i = this._parts.length; i > f; f++) for (b = this._parts[f], g = 0, 
            j = b.length, h = j - 1; j > g; h = g++) c = b[g], d = b[h], c.y > a.y != d.y > a.y && a.x < (d.x - c.x) * (a.y - c.y) / (d.y - c.y) + c.x && (k = !k);
            return k;
        }
    } : {}), e.Circle.include(e.Path.CANVAS ? {
        _drawPath: function() {
            var a = this._point;
            this._ctx.beginPath(), this._ctx.arc(a.x, a.y, this._radius, 0, 2 * Math.PI, !1);
        },
        _containsPoint: function(a) {
            var b = this._point, c = this.options.stroke ? this.options.weight / 2 : 0;
            return a.distanceTo(b) <= this._radius + c;
        }
    } : {}), e.CircleMarker.include(e.Path.CANVAS ? {
        _updateStyle: function() {
            e.Path.prototype._updateStyle.call(this);
        }
    } : {}), e.GeoJSON = e.FeatureGroup.extend({
        initialize: function(a, b) {
            e.setOptions(this, b), this._layers = {}, a && this.addData(a);
        },
        addData: function(a) {
            var b, c, d, f = e.Util.isArray(a) ? a : a.features;
            if (f) {
                for (b = 0, c = f.length; c > b; b++) d = f[b], (d.geometries || d.geometry || d.features || d.coordinates) && this.addData(f[b]);
                return this;
            }
            var g = this.options;
            if (!g.filter || g.filter(a)) {
                var h = e.GeoJSON.geometryToLayer(a, g.pointToLayer, g.coordsToLatLng, g);
                return h.feature = e.GeoJSON.asFeature(a), h.defaultOptions = h.options, this.resetStyle(h), 
                g.onEachFeature && g.onEachFeature(a, h), this.addLayer(h);
            }
        },
        resetStyle: function(a) {
            var b = this.options.style;
            b && (e.Util.extend(a.options, a.defaultOptions), this._setLayerStyle(a, b));
        },
        setStyle: function(a) {
            this.eachLayer(function(b) {
                this._setLayerStyle(b, a);
            }, this);
        },
        _setLayerStyle: function(a, b) {
            "function" == typeof b && (b = b(a.feature)), a.setStyle && a.setStyle(b);
        }
    }), e.extend(e.GeoJSON, {
        geometryToLayer: function(a, b, c, d) {
            var f, g, h, i, j = "Feature" === a.type ? a.geometry : a, k = j.coordinates, l = [];
            switch (c = c || this.coordsToLatLng, j.type) {
              case "Point":
                return f = c(k), b ? b(a, f) : new e.Marker(f);

              case "MultiPoint":
                for (h = 0, i = k.length; i > h; h++) f = c(k[h]), l.push(b ? b(a, f) : new e.Marker(f));
                return new e.FeatureGroup(l);

              case "LineString":
                return g = this.coordsToLatLngs(k, 0, c), new e.Polyline(g, d);

              case "Polygon":
                if (2 === k.length && !k[1].length) throw new Error("Invalid GeoJSON object.");
                return g = this.coordsToLatLngs(k, 1, c), new e.Polygon(g, d);

              case "MultiLineString":
                return g = this.coordsToLatLngs(k, 1, c), new e.MultiPolyline(g, d);

              case "MultiPolygon":
                return g = this.coordsToLatLngs(k, 2, c), new e.MultiPolygon(g, d);

              case "GeometryCollection":
                for (h = 0, i = j.geometries.length; i > h; h++) l.push(this.geometryToLayer({
                    geometry: j.geometries[h],
                    type: "Feature",
                    properties: a.properties
                }, b, c, d));
                return new e.FeatureGroup(l);

              default:
                throw new Error("Invalid GeoJSON object.");
            }
        },
        coordsToLatLng: function(a) {
            return new e.LatLng(a[1], a[0], a[2]);
        },
        coordsToLatLngs: function(a, b, c) {
            var d, e, f, g = [];
            for (e = 0, f = a.length; f > e; e++) d = b ? this.coordsToLatLngs(a[e], b - 1, c) : (c || this.coordsToLatLng)(a[e]), 
            g.push(d);
            return g;
        },
        latLngToCoords: function(a) {
            var b = [ a.lng, a.lat ];
            return a.alt !== c && b.push(a.alt), b;
        },
        latLngsToCoords: function(a) {
            for (var b = [], c = 0, d = a.length; d > c; c++) b.push(e.GeoJSON.latLngToCoords(a[c]));
            return b;
        },
        getFeature: function(a, b) {
            return a.feature ? e.extend({}, a.feature, {
                geometry: b
            }) : e.GeoJSON.asFeature(b);
        },
        asFeature: function(a) {
            return "Feature" === a.type ? a : {
                type: "Feature",
                properties: {},
                geometry: a
            };
        }
    });
    var g = {
        toGeoJSON: function() {
            return e.GeoJSON.getFeature(this, {
                type: "Point",
                coordinates: e.GeoJSON.latLngToCoords(this.getLatLng())
            });
        }
    };
    e.Marker.include(g), e.Circle.include(g), e.CircleMarker.include(g), e.Polyline.include({
        toGeoJSON: function() {
            return e.GeoJSON.getFeature(this, {
                type: "LineString",
                coordinates: e.GeoJSON.latLngsToCoords(this.getLatLngs())
            });
        }
    }), e.Polygon.include({
        toGeoJSON: function() {
            var a, b, c, d = [ e.GeoJSON.latLngsToCoords(this.getLatLngs()) ];
            if (d[0].push(d[0][0]), this._holes) for (a = 0, b = this._holes.length; b > a; a++) c = e.GeoJSON.latLngsToCoords(this._holes[a]), 
            c.push(c[0]), d.push(c);
            return e.GeoJSON.getFeature(this, {
                type: "Polygon",
                coordinates: d
            });
        }
    }), function() {
        function a(a) {
            return function() {
                var b = [];
                return this.eachLayer(function(a) {
                    b.push(a.toGeoJSON().geometry.coordinates);
                }), e.GeoJSON.getFeature(this, {
                    type: a,
                    coordinates: b
                });
            };
        }
        e.MultiPolyline.include({
            toGeoJSON: a("MultiLineString")
        }), e.MultiPolygon.include({
            toGeoJSON: a("MultiPolygon")
        }), e.LayerGroup.include({
            toGeoJSON: function() {
                var b, c = this.feature && this.feature.geometry, d = [];
                if (c && "MultiPoint" === c.type) return a("MultiPoint").call(this);
                var f = c && "GeometryCollection" === c.type;
                return this.eachLayer(function(a) {
                    a.toGeoJSON && (b = a.toGeoJSON(), d.push(f ? b.geometry : e.GeoJSON.asFeature(b)));
                }), f ? e.GeoJSON.getFeature(this, {
                    geometries: d,
                    type: "GeometryCollection"
                }) : {
                    type: "FeatureCollection",
                    features: d
                };
            }
        });
    }(), e.geoJson = function(a, b) {
        return new e.GeoJSON(a, b);
    }, e.DomEvent = {
        addListener: function(a, b, c, d) {
            var f, g, h, i = e.stamp(c), j = "_leaflet_" + b + i;
            return a[j] ? this : (f = function(b) {
                return c.call(d || a, b || e.DomEvent._getEvent());
            }, e.Browser.pointer && 0 === b.indexOf("touch") ? this.addPointerListener(a, b, f, i) : (e.Browser.touch && "dblclick" === b && this.addDoubleTapListener && this.addDoubleTapListener(a, f, i), 
            "addEventListener" in a ? "mousewheel" === b ? (a.addEventListener("DOMMouseScroll", f, !1), 
            a.addEventListener(b, f, !1)) : "mouseenter" === b || "mouseleave" === b ? (g = f, 
            h = "mouseenter" === b ? "mouseover" : "mouseout", f = function(b) {
                return e.DomEvent._checkMouse(a, b) ? g(b) : void 0;
            }, a.addEventListener(h, f, !1)) : "click" === b && e.Browser.android ? (g = f, 
            f = function(a) {
                return e.DomEvent._filterClick(a, g);
            }, a.addEventListener(b, f, !1)) : a.addEventListener(b, f, !1) : "attachEvent" in a && a.attachEvent("on" + b, f), 
            a[j] = f, this));
        },
        removeListener: function(a, b, c) {
            var d = e.stamp(c), f = "_leaflet_" + b + d, g = a[f];
            return g ? (e.Browser.pointer && 0 === b.indexOf("touch") ? this.removePointerListener(a, b, d) : e.Browser.touch && "dblclick" === b && this.removeDoubleTapListener ? this.removeDoubleTapListener(a, d) : "removeEventListener" in a ? "mousewheel" === b ? (a.removeEventListener("DOMMouseScroll", g, !1), 
            a.removeEventListener(b, g, !1)) : "mouseenter" === b || "mouseleave" === b ? a.removeEventListener("mouseenter" === b ? "mouseover" : "mouseout", g, !1) : a.removeEventListener(b, g, !1) : "detachEvent" in a && a.detachEvent("on" + b, g), 
            a[f] = null, this) : this;
        },
        stopPropagation: function(a) {
            return a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0, e.DomEvent._skipped(a), 
            this;
        },
        disableScrollPropagation: function(a) {
            var b = e.DomEvent.stopPropagation;
            return e.DomEvent.on(a, "mousewheel", b).on(a, "MozMousePixelScroll", b);
        },
        disableClickPropagation: function(a) {
            for (var b = e.DomEvent.stopPropagation, c = e.Draggable.START.length - 1; c >= 0; c--) e.DomEvent.on(a, e.Draggable.START[c], b);
            return e.DomEvent.on(a, "click", e.DomEvent._fakeStop).on(a, "dblclick", b);
        },
        preventDefault: function(a) {
            return a.preventDefault ? a.preventDefault() : a.returnValue = !1, this;
        },
        stop: function(a) {
            return e.DomEvent.preventDefault(a).stopPropagation(a);
        },
        getMousePosition: function(a, b) {
            if (!b) return new e.Point(a.clientX, a.clientY);
            var c = b.getBoundingClientRect();
            return new e.Point(a.clientX - c.left - b.clientLeft, a.clientY - c.top - b.clientTop);
        },
        getWheelDelta: function(a) {
            var b = 0;
            return a.wheelDelta && (b = a.wheelDelta / 120), a.detail && (b = -a.detail / 3), 
            b;
        },
        _skipEvents: {},
        _fakeStop: function(a) {
            e.DomEvent._skipEvents[a.type] = !0;
        },
        _skipped: function(a) {
            var b = this._skipEvents[a.type];
            return this._skipEvents[a.type] = !1, b;
        },
        _checkMouse: function(a, b) {
            var c = b.relatedTarget;
            if (!c) return !0;
            try {
                for (;c && c !== a; ) c = c.parentNode;
            } catch (d) {
                return !1;
            }
            return c !== a;
        },
        _getEvent: function() {
            var b = a.event;
            if (!b) for (var c = arguments.callee.caller; c && (b = c.arguments[0], !b || a.Event !== b.constructor); ) c = c.caller;
            return b;
        },
        _filterClick: function(a, b) {
            var c = a.timeStamp || a.originalEvent.timeStamp, d = e.DomEvent._lastClick && c - e.DomEvent._lastClick;
            return d && d > 100 && 500 > d || a.target._simulatedClick && !a._simulated ? void e.DomEvent.stop(a) : (e.DomEvent._lastClick = c, 
            b(a));
        }
    }, e.DomEvent.on = e.DomEvent.addListener, e.DomEvent.off = e.DomEvent.removeListener, 
    e.Draggable = e.Class.extend({
        includes: e.Mixin.Events,
        statics: {
            START: e.Browser.touch ? [ "touchstart", "mousedown" ] : [ "mousedown" ],
            END: {
                mousedown: "mouseup",
                touchstart: "touchend",
                pointerdown: "touchend",
                MSPointerDown: "touchend"
            },
            MOVE: {
                mousedown: "mousemove",
                touchstart: "touchmove",
                pointerdown: "touchmove",
                MSPointerDown: "touchmove"
            }
        },
        initialize: function(a, b) {
            this._element = a, this._dragStartTarget = b || a;
        },
        enable: function() {
            if (!this._enabled) {
                for (var a = e.Draggable.START.length - 1; a >= 0; a--) e.DomEvent.on(this._dragStartTarget, e.Draggable.START[a], this._onDown, this);
                this._enabled = !0;
            }
        },
        disable: function() {
            if (this._enabled) {
                for (var a = e.Draggable.START.length - 1; a >= 0; a--) e.DomEvent.off(this._dragStartTarget, e.Draggable.START[a], this._onDown, this);
                this._enabled = !1, this._moved = !1;
            }
        },
        _onDown: function(a) {
            if (this._moved = !1, !(a.shiftKey || 1 !== a.which && 1 !== a.button && !a.touches || (e.DomEvent.stopPropagation(a), 
            e.Draggable._disabled || (e.DomUtil.disableImageDrag(), e.DomUtil.disableTextSelection(), 
            this._moving)))) {
                var c = a.touches ? a.touches[0] : a;
                this._startPoint = new e.Point(c.clientX, c.clientY), this._startPos = this._newPos = e.DomUtil.getPosition(this._element), 
                e.DomEvent.on(b, e.Draggable.MOVE[a.type], this._onMove, this).on(b, e.Draggable.END[a.type], this._onUp, this);
            }
        },
        _onMove: function(a) {
            if (a.touches && a.touches.length > 1) return void (this._moved = !0);
            var c = a.touches && 1 === a.touches.length ? a.touches[0] : a, d = new e.Point(c.clientX, c.clientY), f = d.subtract(this._startPoint);
            (f.x || f.y) && (e.Browser.touch && Math.abs(f.x) + Math.abs(f.y) < 3 || (e.DomEvent.preventDefault(a), 
            this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = e.DomUtil.getPosition(this._element).subtract(f), 
            e.DomUtil.addClass(b.body, "leaflet-dragging"), this._lastTarget = a.target || a.srcElement, 
            e.DomUtil.addClass(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(f), 
            this._moving = !0, e.Util.cancelAnimFrame(this._animRequest), this._animRequest = e.Util.requestAnimFrame(this._updatePosition, this, !0, this._dragStartTarget)));
        },
        _updatePosition: function() {
            this.fire("predrag"), e.DomUtil.setPosition(this._element, this._newPos), this.fire("drag");
        },
        _onUp: function() {
            e.DomUtil.removeClass(b.body, "leaflet-dragging"), this._lastTarget && (e.DomUtil.removeClass(this._lastTarget, "leaflet-drag-target"), 
            this._lastTarget = null);
            for (var a in e.Draggable.MOVE) e.DomEvent.off(b, e.Draggable.MOVE[a], this._onMove).off(b, e.Draggable.END[a], this._onUp);
            e.DomUtil.enableImageDrag(), e.DomUtil.enableTextSelection(), this._moved && this._moving && (e.Util.cancelAnimFrame(this._animRequest), 
            this.fire("dragend", {
                distance: this._newPos.distanceTo(this._startPos)
            })), this._moving = !1;
        }
    }), e.Handler = e.Class.extend({
        initialize: function(a) {
            this._map = a;
        },
        enable: function() {
            this._enabled || (this._enabled = !0, this.addHooks());
        },
        disable: function() {
            this._enabled && (this._enabled = !1, this.removeHooks());
        },
        enabled: function() {
            return !!this._enabled;
        }
    }), e.Map.mergeOptions({
        dragging: !0,
        inertia: !e.Browser.android23,
        inertiaDeceleration: 3400,
        inertiaMaxSpeed: 1 / 0,
        inertiaThreshold: e.Browser.touch ? 32 : 18,
        easeLinearity: .25,
        worldCopyJump: !1
    }), e.Map.Drag = e.Handler.extend({
        addHooks: function() {
            if (!this._draggable) {
                var a = this._map;
                this._draggable = new e.Draggable(a._mapPane, a._container), this._draggable.on({
                    dragstart: this._onDragStart,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this), a.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDrag, this), 
                a.on("viewreset", this._onViewReset, this), a.whenReady(this._onViewReset, this));
            }
            this._draggable.enable();
        },
        removeHooks: function() {
            this._draggable.disable();
        },
        moved: function() {
            return this._draggable && this._draggable._moved;
        },
        _onDragStart: function() {
            var a = this._map;
            a._panAnim && a._panAnim.stop(), a.fire("movestart").fire("dragstart"), a.options.inertia && (this._positions = [], 
            this._times = []);
        },
        _onDrag: function() {
            if (this._map.options.inertia) {
                var a = this._lastTime = +new Date(), b = this._lastPos = this._draggable._newPos;
                this._positions.push(b), this._times.push(a), a - this._times[0] > 200 && (this._positions.shift(), 
                this._times.shift());
            }
            this._map.fire("move").fire("drag");
        },
        _onViewReset: function() {
            var a = this._map.getSize()._divideBy(2), b = this._map.latLngToLayerPoint([ 0, 0 ]);
            this._initialWorldOffset = b.subtract(a).x, this._worldWidth = this._map.project([ 0, 180 ]).x;
        },
        _onPreDrag: function() {
            var a = this._worldWidth, b = Math.round(a / 2), c = this._initialWorldOffset, d = this._draggable._newPos.x, e = (d - b + c) % a + b - c, f = (d + b + c) % a - b - c, g = Math.abs(e + c) < Math.abs(f + c) ? e : f;
            this._draggable._newPos.x = g;
        },
        _onDragEnd: function(a) {
            var b = this._map, c = b.options, d = +new Date() - this._lastTime, f = !c.inertia || d > c.inertiaThreshold || !this._positions[0];
            if (b.fire("dragend", a), f) b.fire("moveend"); else {
                var g = this._lastPos.subtract(this._positions[0]), h = (this._lastTime + d - this._times[0]) / 1e3, i = c.easeLinearity, j = g.multiplyBy(i / h), k = j.distanceTo([ 0, 0 ]), l = Math.min(c.inertiaMaxSpeed, k), m = j.multiplyBy(l / k), n = l / (c.inertiaDeceleration * i), o = m.multiplyBy(-n / 2).round();
                o.x && o.y ? (o = b._limitOffset(o, b.options.maxBounds), e.Util.requestAnimFrame(function() {
                    b.panBy(o, {
                        duration: n,
                        easeLinearity: i,
                        noMoveStart: !0
                    });
                })) : b.fire("moveend");
            }
        }
    }), e.Map.addInitHook("addHandler", "dragging", e.Map.Drag), e.Map.mergeOptions({
        doubleClickZoom: !0
    }), e.Map.DoubleClickZoom = e.Handler.extend({
        addHooks: function() {
            this._map.on("dblclick", this._onDoubleClick, this);
        },
        removeHooks: function() {
            this._map.off("dblclick", this._onDoubleClick, this);
        },
        _onDoubleClick: function(a) {
            var b = this._map, c = b.getZoom() + (a.originalEvent.shiftKey ? -1 : 1);
            "center" === b.options.doubleClickZoom ? b.setZoom(c) : b.setZoomAround(a.containerPoint, c);
        }
    }), e.Map.addInitHook("addHandler", "doubleClickZoom", e.Map.DoubleClickZoom), e.Map.mergeOptions({
        scrollWheelZoom: !0
    }), e.Map.ScrollWheelZoom = e.Handler.extend({
        addHooks: function() {
            e.DomEvent.on(this._map._container, "mousewheel", this._onWheelScroll, this), e.DomEvent.on(this._map._container, "MozMousePixelScroll", e.DomEvent.preventDefault), 
            this._delta = 0;
        },
        removeHooks: function() {
            e.DomEvent.off(this._map._container, "mousewheel", this._onWheelScroll), e.DomEvent.off(this._map._container, "MozMousePixelScroll", e.DomEvent.preventDefault);
        },
        _onWheelScroll: function(a) {
            var b = e.DomEvent.getWheelDelta(a);
            this._delta += b, this._lastMousePos = this._map.mouseEventToContainerPoint(a), 
            this._startTime || (this._startTime = +new Date());
            var c = Math.max(40 - (+new Date() - this._startTime), 0);
            clearTimeout(this._timer), this._timer = setTimeout(e.bind(this._performZoom, this), c), 
            e.DomEvent.preventDefault(a), e.DomEvent.stopPropagation(a);
        },
        _performZoom: function() {
            var a = this._map, b = this._delta, c = a.getZoom();
            b = b > 0 ? Math.ceil(b) : Math.floor(b), b = Math.max(Math.min(b, 4), -4), b = a._limitZoom(c + b) - c, 
            this._delta = 0, this._startTime = null, b && ("center" === a.options.scrollWheelZoom ? a.setZoom(c + b) : a.setZoomAround(this._lastMousePos, c + b));
        }
    }), e.Map.addInitHook("addHandler", "scrollWheelZoom", e.Map.ScrollWheelZoom), e.extend(e.DomEvent, {
        _touchstart: e.Browser.msPointer ? "MSPointerDown" : e.Browser.pointer ? "pointerdown" : "touchstart",
        _touchend: e.Browser.msPointer ? "MSPointerUp" : e.Browser.pointer ? "pointerup" : "touchend",
        addDoubleTapListener: function(a, c, d) {
            function f(a) {
                var b;
                if (e.Browser.pointer ? (o.push(a.pointerId), b = o.length) : b = a.touches.length, 
                !(b > 1)) {
                    var c = Date.now(), d = c - (h || c);
                    i = a.touches ? a.touches[0] : a, j = d > 0 && k >= d, h = c;
                }
            }
            function g(a) {
                if (e.Browser.pointer) {
                    var b = o.indexOf(a.pointerId);
                    if (-1 === b) return;
                    o.splice(b, 1);
                }
                if (j) {
                    if (e.Browser.pointer) {
                        var d, f = {};
                        for (var g in i) d = i[g], f[g] = "function" == typeof d ? d.bind(i) : d;
                        i = f;
                    }
                    i.type = "dblclick", c(i), h = null;
                }
            }
            var h, i, j = !1, k = 250, l = "_leaflet_", m = this._touchstart, n = this._touchend, o = [];
            a[l + m + d] = f, a[l + n + d] = g;
            var p = e.Browser.pointer ? b.documentElement : a;
            return a.addEventListener(m, f, !1), p.addEventListener(n, g, !1), e.Browser.pointer && p.addEventListener(e.DomEvent.POINTER_CANCEL, g, !1), 
            this;
        },
        removeDoubleTapListener: function(a, c) {
            var d = "_leaflet_";
            return a.removeEventListener(this._touchstart, a[d + this._touchstart + c], !1), 
            (e.Browser.pointer ? b.documentElement : a).removeEventListener(this._touchend, a[d + this._touchend + c], !1), 
            e.Browser.pointer && b.documentElement.removeEventListener(e.DomEvent.POINTER_CANCEL, a[d + this._touchend + c], !1), 
            this;
        }
    }), e.extend(e.DomEvent, {
        POINTER_DOWN: e.Browser.msPointer ? "MSPointerDown" : "pointerdown",
        POINTER_MOVE: e.Browser.msPointer ? "MSPointerMove" : "pointermove",
        POINTER_UP: e.Browser.msPointer ? "MSPointerUp" : "pointerup",
        POINTER_CANCEL: e.Browser.msPointer ? "MSPointerCancel" : "pointercancel",
        _pointers: [],
        _pointerDocumentListener: !1,
        addPointerListener: function(a, b, c, d) {
            switch (b) {
              case "touchstart":
                return this.addPointerListenerStart(a, b, c, d);

              case "touchend":
                return this.addPointerListenerEnd(a, b, c, d);

              case "touchmove":
                return this.addPointerListenerMove(a, b, c, d);

              default:
                throw "Unknown touch event type";
            }
        },
        addPointerListenerStart: function(a, c, d, f) {
            var g = "_leaflet_", h = this._pointers, i = function(a) {
                e.DomEvent.preventDefault(a);
                for (var b = !1, c = 0; c < h.length; c++) if (h[c].pointerId === a.pointerId) {
                    b = !0;
                    break;
                }
                b || h.push(a), a.touches = h.slice(), a.changedTouches = [ a ], d(a);
            };
            if (a[g + "touchstart" + f] = i, a.addEventListener(this.POINTER_DOWN, i, !1), !this._pointerDocumentListener) {
                var j = function(a) {
                    for (var b = 0; b < h.length; b++) if (h[b].pointerId === a.pointerId) {
                        h.splice(b, 1);
                        break;
                    }
                };
                b.documentElement.addEventListener(this.POINTER_UP, j, !1), b.documentElement.addEventListener(this.POINTER_CANCEL, j, !1), 
                this._pointerDocumentListener = !0;
            }
            return this;
        },
        addPointerListenerMove: function(a, b, c, d) {
            function e(a) {
                if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType || 0 !== a.buttons) {
                    for (var b = 0; b < g.length; b++) if (g[b].pointerId === a.pointerId) {
                        g[b] = a;
                        break;
                    }
                    a.touches = g.slice(), a.changedTouches = [ a ], c(a);
                }
            }
            var f = "_leaflet_", g = this._pointers;
            return a[f + "touchmove" + d] = e, a.addEventListener(this.POINTER_MOVE, e, !1), 
            this;
        },
        addPointerListenerEnd: function(a, b, c, d) {
            var e = "_leaflet_", f = this._pointers, g = function(a) {
                for (var b = 0; b < f.length; b++) if (f[b].pointerId === a.pointerId) {
                    f.splice(b, 1);
                    break;
                }
                a.touches = f.slice(), a.changedTouches = [ a ], c(a);
            };
            return a[e + "touchend" + d] = g, a.addEventListener(this.POINTER_UP, g, !1), a.addEventListener(this.POINTER_CANCEL, g, !1), 
            this;
        },
        removePointerListener: function(a, b, c) {
            var d = "_leaflet_", e = a[d + b + c];
            switch (b) {
              case "touchstart":
                a.removeEventListener(this.POINTER_DOWN, e, !1);
                break;

              case "touchmove":
                a.removeEventListener(this.POINTER_MOVE, e, !1);
                break;

              case "touchend":
                a.removeEventListener(this.POINTER_UP, e, !1), a.removeEventListener(this.POINTER_CANCEL, e, !1);
            }
            return this;
        }
    }), e.Map.mergeOptions({
        touchZoom: e.Browser.touch && !e.Browser.android23,
        bounceAtZoomLimits: !0
    }), e.Map.TouchZoom = e.Handler.extend({
        addHooks: function() {
            e.DomEvent.on(this._map._container, "touchstart", this._onTouchStart, this);
        },
        removeHooks: function() {
            e.DomEvent.off(this._map._container, "touchstart", this._onTouchStart, this);
        },
        _onTouchStart: function(a) {
            var c = this._map;
            if (a.touches && 2 === a.touches.length && !c._animatingZoom && !this._zooming) {
                var d = c.mouseEventToLayerPoint(a.touches[0]), f = c.mouseEventToLayerPoint(a.touches[1]), g = c._getCenterLayerPoint();
                this._startCenter = d.add(f)._divideBy(2), this._startDist = d.distanceTo(f), this._moved = !1, 
                this._zooming = !0, this._centerOffset = g.subtract(this._startCenter), c._panAnim && c._panAnim.stop(), 
                e.DomEvent.on(b, "touchmove", this._onTouchMove, this).on(b, "touchend", this._onTouchEnd, this), 
                e.DomEvent.preventDefault(a);
            }
        },
        _onTouchMove: function(a) {
            var b = this._map;
            if (a.touches && 2 === a.touches.length && this._zooming) {
                var c = b.mouseEventToLayerPoint(a.touches[0]), d = b.mouseEventToLayerPoint(a.touches[1]);
                this._scale = c.distanceTo(d) / this._startDist, this._delta = c._add(d)._divideBy(2)._subtract(this._startCenter), 
                1 !== this._scale && (b.options.bounceAtZoomLimits || !(b.getZoom() === b.getMinZoom() && this._scale < 1 || b.getZoom() === b.getMaxZoom() && this._scale > 1)) && (this._moved || (e.DomUtil.addClass(b._mapPane, "leaflet-touching"), 
                b.fire("movestart").fire("zoomstart"), this._moved = !0), e.Util.cancelAnimFrame(this._animRequest), 
                this._animRequest = e.Util.requestAnimFrame(this._updateOnMove, this, !0, this._map._container), 
                e.DomEvent.preventDefault(a));
            }
        },
        _updateOnMove: function() {
            var a = this._map, b = this._getScaleOrigin(), c = a.layerPointToLatLng(b), d = a.getScaleZoom(this._scale);
            a._animateZoom(c, d, this._startCenter, this._scale, this._delta, !1, !0);
        },
        _onTouchEnd: function() {
            if (!this._moved || !this._zooming) return void (this._zooming = !1);
            var a = this._map;
            this._zooming = !1, e.DomUtil.removeClass(a._mapPane, "leaflet-touching"), e.Util.cancelAnimFrame(this._animRequest), 
            e.DomEvent.off(b, "touchmove", this._onTouchMove).off(b, "touchend", this._onTouchEnd);
            var c = this._getScaleOrigin(), d = a.layerPointToLatLng(c), f = a.getZoom(), g = a.getScaleZoom(this._scale) - f, h = g > 0 ? Math.ceil(g) : Math.floor(g), i = a._limitZoom(f + h), j = a.getZoomScale(i) / this._scale;
            a._animateZoom(d, i, c, j);
        },
        _getScaleOrigin: function() {
            var a = this._centerOffset.subtract(this._delta).divideBy(this._scale);
            return this._startCenter.add(a);
        }
    }), e.Map.addInitHook("addHandler", "touchZoom", e.Map.TouchZoom), e.Map.mergeOptions({
        tap: !0,
        tapTolerance: 15
    }), e.Map.Tap = e.Handler.extend({
        addHooks: function() {
            e.DomEvent.on(this._map._container, "touchstart", this._onDown, this);
        },
        removeHooks: function() {
            e.DomEvent.off(this._map._container, "touchstart", this._onDown, this);
        },
        _onDown: function(a) {
            if (a.touches) {
                if (e.DomEvent.preventDefault(a), this._fireClick = !0, a.touches.length > 1) return this._fireClick = !1, 
                void clearTimeout(this._holdTimeout);
                var c = a.touches[0], d = c.target;
                this._startPos = this._newPos = new e.Point(c.clientX, c.clientY), d.tagName && "a" === d.tagName.toLowerCase() && e.DomUtil.addClass(d, "leaflet-active"), 
                this._holdTimeout = setTimeout(e.bind(function() {
                    this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", c));
                }, this), 1e3), e.DomEvent.on(b, "touchmove", this._onMove, this).on(b, "touchend", this._onUp, this);
            }
        },
        _onUp: function(a) {
            if (clearTimeout(this._holdTimeout), e.DomEvent.off(b, "touchmove", this._onMove, this).off(b, "touchend", this._onUp, this), 
            this._fireClick && a && a.changedTouches) {
                var c = a.changedTouches[0], d = c.target;
                d && d.tagName && "a" === d.tagName.toLowerCase() && e.DomUtil.removeClass(d, "leaflet-active"), 
                this._isTapValid() && this._simulateEvent("click", c);
            }
        },
        _isTapValid: function() {
            return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
        },
        _onMove: function(a) {
            var b = a.touches[0];
            this._newPos = new e.Point(b.clientX, b.clientY);
        },
        _simulateEvent: function(c, d) {
            var e = b.createEvent("MouseEvents");
            e._simulated = !0, d.target._simulatedClick = !0, e.initMouseEvent(c, !0, !0, a, 1, d.screenX, d.screenY, d.clientX, d.clientY, !1, !1, !1, !1, 0, null), 
            d.target.dispatchEvent(e);
        }
    }), e.Browser.touch && !e.Browser.pointer && e.Map.addInitHook("addHandler", "tap", e.Map.Tap), 
    e.Map.mergeOptions({
        boxZoom: !0
    }), e.Map.BoxZoom = e.Handler.extend({
        initialize: function(a) {
            this._map = a, this._container = a._container, this._pane = a._panes.overlayPane, 
            this._moved = !1;
        },
        addHooks: function() {
            e.DomEvent.on(this._container, "mousedown", this._onMouseDown, this);
        },
        removeHooks: function() {
            e.DomEvent.off(this._container, "mousedown", this._onMouseDown), this._moved = !1;
        },
        moved: function() {
            return this._moved;
        },
        _onMouseDown: function(a) {
            return this._moved = !1, !a.shiftKey || 1 !== a.which && 1 !== a.button ? !1 : (e.DomUtil.disableTextSelection(), 
            e.DomUtil.disableImageDrag(), this._startLayerPoint = this._map.mouseEventToLayerPoint(a), 
            void e.DomEvent.on(b, "mousemove", this._onMouseMove, this).on(b, "mouseup", this._onMouseUp, this).on(b, "keydown", this._onKeyDown, this));
        },
        _onMouseMove: function(a) {
            this._moved || (this._box = e.DomUtil.create("div", "leaflet-zoom-box", this._pane), 
            e.DomUtil.setPosition(this._box, this._startLayerPoint), this._container.style.cursor = "crosshair", 
            this._map.fire("boxzoomstart"));
            var b = this._startLayerPoint, c = this._box, d = this._map.mouseEventToLayerPoint(a), f = d.subtract(b), g = new e.Point(Math.min(d.x, b.x), Math.min(d.y, b.y));
            e.DomUtil.setPosition(c, g), this._moved = !0, c.style.width = Math.max(0, Math.abs(f.x) - 4) + "px", 
            c.style.height = Math.max(0, Math.abs(f.y) - 4) + "px";
        },
        _finish: function() {
            this._moved && (this._pane.removeChild(this._box), this._container.style.cursor = ""), 
            e.DomUtil.enableTextSelection(), e.DomUtil.enableImageDrag(), e.DomEvent.off(b, "mousemove", this._onMouseMove).off(b, "mouseup", this._onMouseUp).off(b, "keydown", this._onKeyDown);
        },
        _onMouseUp: function(a) {
            this._finish();
            var b = this._map, c = b.mouseEventToLayerPoint(a);
            if (!this._startLayerPoint.equals(c)) {
                var d = new e.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint), b.layerPointToLatLng(c));
                b.fitBounds(d), b.fire("boxzoomend", {
                    boxZoomBounds: d
                });
            }
        },
        _onKeyDown: function(a) {
            27 === a.keyCode && this._finish();
        }
    }), e.Map.addInitHook("addHandler", "boxZoom", e.Map.BoxZoom), e.Map.mergeOptions({
        keyboard: !0,
        keyboardPanOffset: 80,
        keyboardZoomOffset: 1
    }), e.Map.Keyboard = e.Handler.extend({
        keyCodes: {
            left: [ 37 ],
            right: [ 39 ],
            down: [ 40 ],
            up: [ 38 ],
            zoomIn: [ 187, 107, 61, 171 ],
            zoomOut: [ 189, 109, 173 ]
        },
        initialize: function(a) {
            this._map = a, this._setPanOffset(a.options.keyboardPanOffset), this._setZoomOffset(a.options.keyboardZoomOffset);
        },
        addHooks: function() {
            var a = this._map._container;
            -1 === a.tabIndex && (a.tabIndex = "0"), e.DomEvent.on(a, "focus", this._onFocus, this).on(a, "blur", this._onBlur, this).on(a, "mousedown", this._onMouseDown, this), 
            this._map.on("focus", this._addHooks, this).on("blur", this._removeHooks, this);
        },
        removeHooks: function() {
            this._removeHooks();
            var a = this._map._container;
            e.DomEvent.off(a, "focus", this._onFocus, this).off(a, "blur", this._onBlur, this).off(a, "mousedown", this._onMouseDown, this), 
            this._map.off("focus", this._addHooks, this).off("blur", this._removeHooks, this);
        },
        _onMouseDown: function() {
            if (!this._focused) {
                var c = b.body, d = b.documentElement, e = c.scrollTop || d.scrollTop, f = c.scrollLeft || d.scrollLeft;
                this._map._container.focus(), a.scrollTo(f, e);
            }
        },
        _onFocus: function() {
            this._focused = !0, this._map.fire("focus");
        },
        _onBlur: function() {
            this._focused = !1, this._map.fire("blur");
        },
        _setPanOffset: function(a) {
            var b, c, d = this._panKeys = {}, e = this.keyCodes;
            for (b = 0, c = e.left.length; c > b; b++) d[e.left[b]] = [ -1 * a, 0 ];
            for (b = 0, c = e.right.length; c > b; b++) d[e.right[b]] = [ a, 0 ];
            for (b = 0, c = e.down.length; c > b; b++) d[e.down[b]] = [ 0, a ];
            for (b = 0, c = e.up.length; c > b; b++) d[e.up[b]] = [ 0, -1 * a ];
        },
        _setZoomOffset: function(a) {
            var b, c, d = this._zoomKeys = {}, e = this.keyCodes;
            for (b = 0, c = e.zoomIn.length; c > b; b++) d[e.zoomIn[b]] = a;
            for (b = 0, c = e.zoomOut.length; c > b; b++) d[e.zoomOut[b]] = -a;
        },
        _addHooks: function() {
            e.DomEvent.on(b, "keydown", this._onKeyDown, this);
        },
        _removeHooks: function() {
            e.DomEvent.off(b, "keydown", this._onKeyDown, this);
        },
        _onKeyDown: function(a) {
            var b = a.keyCode, c = this._map;
            if (b in this._panKeys) {
                if (c._panAnim && c._panAnim._inProgress) return;
                c.panBy(this._panKeys[b]), c.options.maxBounds && c.panInsideBounds(c.options.maxBounds);
            } else {
                if (!(b in this._zoomKeys)) return;
                c.setZoom(c.getZoom() + this._zoomKeys[b]);
            }
            e.DomEvent.stop(a);
        }
    }), e.Map.addInitHook("addHandler", "keyboard", e.Map.Keyboard), e.Handler.MarkerDrag = e.Handler.extend({
        initialize: function(a) {
            this._marker = a;
        },
        addHooks: function() {
            var a = this._marker._icon;
            this._draggable || (this._draggable = new e.Draggable(a, a)), this._draggable.on("dragstart", this._onDragStart, this).on("drag", this._onDrag, this).on("dragend", this._onDragEnd, this), 
            this._draggable.enable(), e.DomUtil.addClass(this._marker._icon, "leaflet-marker-draggable");
        },
        removeHooks: function() {
            this._draggable.off("dragstart", this._onDragStart, this).off("drag", this._onDrag, this).off("dragend", this._onDragEnd, this), 
            this._draggable.disable(), e.DomUtil.removeClass(this._marker._icon, "leaflet-marker-draggable");
        },
        moved: function() {
            return this._draggable && this._draggable._moved;
        },
        _onDragStart: function() {
            this._marker.closePopup().fire("movestart").fire("dragstart");
        },
        _onDrag: function() {
            var a = this._marker, b = a._shadow, c = e.DomUtil.getPosition(a._icon), d = a._map.layerPointToLatLng(c);
            b && e.DomUtil.setPosition(b, c), a._latlng = d, a.fire("move", {
                latlng: d
            }).fire("drag");
        },
        _onDragEnd: function(a) {
            this._marker.fire("moveend").fire("dragend", a);
        }
    }), e.Control = e.Class.extend({
        options: {
            position: "topright"
        },
        initialize: function(a) {
            e.setOptions(this, a);
        },
        getPosition: function() {
            return this.options.position;
        },
        setPosition: function(a) {
            var b = this._map;
            return b && b.removeControl(this), this.options.position = a, b && b.addControl(this), 
            this;
        },
        getContainer: function() {
            return this._container;
        },
        addTo: function(a) {
            this._map = a;
            var b = this._container = this.onAdd(a), c = this.getPosition(), d = a._controlCorners[c];
            return e.DomUtil.addClass(b, "leaflet-control"), -1 !== c.indexOf("bottom") ? d.insertBefore(b, d.firstChild) : d.appendChild(b), 
            this;
        },
        removeFrom: function(a) {
            var b = this.getPosition(), c = a._controlCorners[b];
            return c.removeChild(this._container), this._map = null, this.onRemove && this.onRemove(a), 
            this;
        },
        _refocusOnMap: function() {
            this._map && this._map.getContainer().focus();
        }
    }), e.control = function(a) {
        return new e.Control(a);
    }, e.Map.include({
        addControl: function(a) {
            return a.addTo(this), this;
        },
        removeControl: function(a) {
            return a.removeFrom(this), this;
        },
        _initControlPos: function() {
            function a(a, f) {
                var g = c + a + " " + c + f;
                b[a + f] = e.DomUtil.create("div", g, d);
            }
            var b = this._controlCorners = {}, c = "leaflet-", d = this._controlContainer = e.DomUtil.create("div", c + "control-container", this._container);
            a("top", "left"), a("top", "right"), a("bottom", "left"), a("bottom", "right");
        },
        _clearControlPos: function() {
            this._container.removeChild(this._controlContainer);
        }
    }), e.Control.Zoom = e.Control.extend({
        options: {
            position: "topleft",
            zoomInText: "+",
            zoomInTitle: "Zoom in",
            zoomOutText: "-",
            zoomOutTitle: "Zoom out"
        },
        onAdd: function(a) {
            var b = "leaflet-control-zoom", c = e.DomUtil.create("div", b + " leaflet-bar");
            return this._map = a, this._zoomInButton = this._createButton(this.options.zoomInText, this.options.zoomInTitle, b + "-in", c, this._zoomIn, this), 
            this._zoomOutButton = this._createButton(this.options.zoomOutText, this.options.zoomOutTitle, b + "-out", c, this._zoomOut, this), 
            this._updateDisabled(), a.on("zoomend zoomlevelschange", this._updateDisabled, this), 
            c;
        },
        onRemove: function(a) {
            a.off("zoomend zoomlevelschange", this._updateDisabled, this);
        },
        _zoomIn: function(a) {
            this._map.zoomIn(a.shiftKey ? 3 : 1);
        },
        _zoomOut: function(a) {
            this._map.zoomOut(a.shiftKey ? 3 : 1);
        },
        _createButton: function(a, b, c, d, f, g) {
            var h = e.DomUtil.create("a", c, d);
            h.innerHTML = a, h.href = "#", h.title = b;
            var i = e.DomEvent.stopPropagation;
            return e.DomEvent.on(h, "click", i).on(h, "mousedown", i).on(h, "dblclick", i).on(h, "click", e.DomEvent.preventDefault).on(h, "click", f, g).on(h, "click", this._refocusOnMap, g), 
            h;
        },
        _updateDisabled: function() {
            var a = this._map, b = "leaflet-disabled";
            e.DomUtil.removeClass(this._zoomInButton, b), e.DomUtil.removeClass(this._zoomOutButton, b), 
            a._zoom === a.getMinZoom() && e.DomUtil.addClass(this._zoomOutButton, b), a._zoom === a.getMaxZoom() && e.DomUtil.addClass(this._zoomInButton, b);
        }
    }), e.Map.mergeOptions({
        zoomControl: !0
    }), e.Map.addInitHook(function() {
        this.options.zoomControl && (this.zoomControl = new e.Control.Zoom(), this.addControl(this.zoomControl));
    }), e.control.zoom = function(a) {
        return new e.Control.Zoom(a);
    }, e.Control.Attribution = e.Control.extend({
        options: {
            position: "bottomright",
            prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
        },
        initialize: function(a) {
            e.setOptions(this, a), this._attributions = {};
        },
        onAdd: function(a) {
            this._container = e.DomUtil.create("div", "leaflet-control-attribution"), e.DomEvent.disableClickPropagation(this._container);
            for (var b in a._layers) a._layers[b].getAttribution && this.addAttribution(a._layers[b].getAttribution());
            return a.on("layeradd", this._onLayerAdd, this).on("layerremove", this._onLayerRemove, this), 
            this._update(), this._container;
        },
        onRemove: function(a) {
            a.off("layeradd", this._onLayerAdd).off("layerremove", this._onLayerRemove);
        },
        setPrefix: function(a) {
            return this.options.prefix = a, this._update(), this;
        },
        addAttribution: function(a) {
            return a ? (this._attributions[a] || (this._attributions[a] = 0), this._attributions[a]++, 
            this._update(), this) : void 0;
        },
        removeAttribution: function(a) {
            return a ? (this._attributions[a] && (this._attributions[a]--, this._update()), 
            this) : void 0;
        },
        _update: function() {
            if (this._map) {
                var a = [];
                for (var b in this._attributions) this._attributions[b] && a.push(b);
                var c = [];
                this.options.prefix && c.push(this.options.prefix), a.length && c.push(a.join(", ")), 
                this._container.innerHTML = c.join(" | ");
            }
        },
        _onLayerAdd: function(a) {
            a.layer.getAttribution && this.addAttribution(a.layer.getAttribution());
        },
        _onLayerRemove: function(a) {
            a.layer.getAttribution && this.removeAttribution(a.layer.getAttribution());
        }
    }), e.Map.mergeOptions({
        attributionControl: !0
    }), e.Map.addInitHook(function() {
        this.options.attributionControl && (this.attributionControl = new e.Control.Attribution().addTo(this));
    }), e.control.attribution = function(a) {
        return new e.Control.Attribution(a);
    }, e.Control.Scale = e.Control.extend({
        options: {
            position: "bottomleft",
            maxWidth: 100,
            metric: !0,
            imperial: !0,
            updateWhenIdle: !1
        },
        onAdd: function(a) {
            this._map = a;
            var b = "leaflet-control-scale", c = e.DomUtil.create("div", b), d = this.options;
            return this._addScales(d, b, c), a.on(d.updateWhenIdle ? "moveend" : "move", this._update, this), 
            a.whenReady(this._update, this), c;
        },
        onRemove: function(a) {
            a.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
        },
        _addScales: function(a, b, c) {
            a.metric && (this._mScale = e.DomUtil.create("div", b + "-line", c)), a.imperial && (this._iScale = e.DomUtil.create("div", b + "-line", c));
        },
        _update: function() {
            var a = this._map.getBounds(), b = a.getCenter().lat, c = 6378137 * Math.PI * Math.cos(b * Math.PI / 180), d = c * (a.getNorthEast().lng - a.getSouthWest().lng) / 180, e = this._map.getSize(), f = this.options, g = 0;
            e.x > 0 && (g = d * (f.maxWidth / e.x)), this._updateScales(f, g);
        },
        _updateScales: function(a, b) {
            a.metric && b && this._updateMetric(b), a.imperial && b && this._updateImperial(b);
        },
        _updateMetric: function(a) {
            var b = this._getRoundNum(a);
            this._mScale.style.width = this._getScaleWidth(b / a) + "px", this._mScale.innerHTML = 1e3 > b ? b + " m" : b / 1e3 + " km";
        },
        _updateImperial: function(a) {
            var b, c, d, e = 3.2808399 * a, f = this._iScale;
            e > 5280 ? (b = e / 5280, c = this._getRoundNum(b), f.style.width = this._getScaleWidth(c / b) + "px", 
            f.innerHTML = c + " mi") : (d = this._getRoundNum(e), f.style.width = this._getScaleWidth(d / e) + "px", 
            f.innerHTML = d + " ft");
        },
        _getScaleWidth: function(a) {
            return Math.round(this.options.maxWidth * a) - 10;
        },
        _getRoundNum: function(a) {
            var b = Math.pow(10, (Math.floor(a) + "").length - 1), c = a / b;
            return c = c >= 10 ? 10 : c >= 5 ? 5 : c >= 3 ? 3 : c >= 2 ? 2 : 1, b * c;
        }
    }), e.control.scale = function(a) {
        return new e.Control.Scale(a);
    }, e.Control.Layers = e.Control.extend({
        options: {
            collapsed: !0,
            position: "topright",
            autoZIndex: !0
        },
        initialize: function(a, b, c) {
            e.setOptions(this, c), this._layers = {}, this._lastZIndex = 0, this._handlingClick = !1;
            for (var d in a) this._addLayer(a[d], d);
            for (d in b) this._addLayer(b[d], d, !0);
        },
        onAdd: function(a) {
            return this._initLayout(), this._update(), a.on("layeradd", this._onLayerChange, this).on("layerremove", this._onLayerChange, this), 
            this._container;
        },
        onRemove: function(a) {
            a.off("layeradd", this._onLayerChange, this).off("layerremove", this._onLayerChange, this);
        },
        addBaseLayer: function(a, b) {
            return this._addLayer(a, b), this._update(), this;
        },
        addOverlay: function(a, b) {
            return this._addLayer(a, b, !0), this._update(), this;
        },
        removeLayer: function(a) {
            var b = e.stamp(a);
            return delete this._layers[b], this._update(), this;
        },
        _initLayout: function() {
            var a = "leaflet-control-layers", b = this._container = e.DomUtil.create("div", a);
            b.setAttribute("aria-haspopup", !0), e.Browser.touch ? e.DomEvent.on(b, "click", e.DomEvent.stopPropagation) : e.DomEvent.disableClickPropagation(b).disableScrollPropagation(b);
            var c = this._form = e.DomUtil.create("form", a + "-list");
            if (this.options.collapsed) {
                e.Browser.android || e.DomEvent.on(b, "mouseover", this._expand, this).on(b, "mouseout", this._collapse, this);
                var d = this._layersLink = e.DomUtil.create("a", a + "-toggle", b);
                d.href = "#", d.title = "Layers", e.Browser.touch ? e.DomEvent.on(d, "click", e.DomEvent.stop).on(d, "click", this._expand, this) : e.DomEvent.on(d, "focus", this._expand, this), 
                e.DomEvent.on(c, "click", function() {
                    setTimeout(e.bind(this._onInputClick, this), 0);
                }, this), this._map.on("click", this._collapse, this);
            } else this._expand();
            this._baseLayersList = e.DomUtil.create("div", a + "-base", c), this._separator = e.DomUtil.create("div", a + "-separator", c), 
            this._overlaysList = e.DomUtil.create("div", a + "-overlays", c), b.appendChild(c);
        },
        _addLayer: function(a, b, c) {
            var d = e.stamp(a);
            this._layers[d] = {
                layer: a,
                name: b,
                overlay: c
            }, this.options.autoZIndex && a.setZIndex && (this._lastZIndex++, a.setZIndex(this._lastZIndex));
        },
        _update: function() {
            if (this._container) {
                this._baseLayersList.innerHTML = "", this._overlaysList.innerHTML = "";
                var a, b, c = !1, d = !1;
                for (a in this._layers) b = this._layers[a], this._addItem(b), d = d || b.overlay, 
                c = c || !b.overlay;
                this._separator.style.display = d && c ? "" : "none";
            }
        },
        _onLayerChange: function(a) {
            var b = this._layers[e.stamp(a.layer)];
            if (b) {
                this._handlingClick || this._update();
                var c = b.overlay ? "layeradd" === a.type ? "overlayadd" : "overlayremove" : "layeradd" === a.type ? "baselayerchange" : null;
                c && this._map.fire(c, b);
            }
        },
        _createRadioElement: function(a, c) {
            var d = '<input type="radio" class="leaflet-control-layers-selector" name="' + a + '"';
            c && (d += ' checked="checked"'), d += "/>";
            var e = b.createElement("div");
            return e.innerHTML = d, e.firstChild;
        },
        _addItem: function(a) {
            var c, d = b.createElement("label"), f = this._map.hasLayer(a.layer);
            a.overlay ? (c = b.createElement("input"), c.type = "checkbox", c.className = "leaflet-control-layers-selector", 
            c.defaultChecked = f) : c = this._createRadioElement("leaflet-base-layers", f), 
            c.layerId = e.stamp(a.layer), e.DomEvent.on(c, "click", this._onInputClick, this);
            var g = b.createElement("span");
            g.innerHTML = " " + a.name, d.appendChild(c), d.appendChild(g);
            var h = a.overlay ? this._overlaysList : this._baseLayersList;
            return h.appendChild(d), d;
        },
        _onInputClick: function() {
            var a, b, c, d = this._form.getElementsByTagName("input"), e = d.length;
            for (this._handlingClick = !0, a = 0; e > a; a++) b = d[a], c = this._layers[b.layerId], 
            b.checked && !this._map.hasLayer(c.layer) ? this._map.addLayer(c.layer) : !b.checked && this._map.hasLayer(c.layer) && this._map.removeLayer(c.layer);
            this._handlingClick = !1, this._refocusOnMap();
        },
        _expand: function() {
            e.DomUtil.addClass(this._container, "leaflet-control-layers-expanded");
        },
        _collapse: function() {
            this._container.className = this._container.className.replace(" leaflet-control-layers-expanded", "");
        }
    }), e.control.layers = function(a, b, c) {
        return new e.Control.Layers(a, b, c);
    }, e.PosAnimation = e.Class.extend({
        includes: e.Mixin.Events,
        run: function(a, b, c, d) {
            this.stop(), this._el = a, this._inProgress = !0, this._newPos = b, this.fire("start"), 
            a.style[e.DomUtil.TRANSITION] = "all " + (c || .25) + "s cubic-bezier(0,0," + (d || .5) + ",1)", 
            e.DomEvent.on(a, e.DomUtil.TRANSITION_END, this._onTransitionEnd, this), e.DomUtil.setPosition(a, b), 
            e.Util.falseFn(a.offsetWidth), this._stepTimer = setInterval(e.bind(this._onStep, this), 50);
        },
        stop: function() {
            this._inProgress && (e.DomUtil.setPosition(this._el, this._getPos()), this._onTransitionEnd(), 
            e.Util.falseFn(this._el.offsetWidth));
        },
        _onStep: function() {
            var a = this._getPos();
            return a ? (this._el._leaflet_pos = a, void this.fire("step")) : void this._onTransitionEnd();
        },
        _transformRe: /([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,
        _getPos: function() {
            var b, c, d, f = this._el, g = a.getComputedStyle(f);
            if (e.Browser.any3d) {
                if (d = g[e.DomUtil.TRANSFORM].match(this._transformRe), !d) return;
                b = parseFloat(d[1]), c = parseFloat(d[2]);
            } else b = parseFloat(g.left), c = parseFloat(g.top);
            return new e.Point(b, c, !0);
        },
        _onTransitionEnd: function() {
            e.DomEvent.off(this._el, e.DomUtil.TRANSITION_END, this._onTransitionEnd, this), 
            this._inProgress && (this._inProgress = !1, this._el.style[e.DomUtil.TRANSITION] = "", 
            this._el._leaflet_pos = this._newPos, clearInterval(this._stepTimer), this.fire("step").fire("end"));
        }
    }), e.Map.include({
        setView: function(a, b, d) {
            if (b = b === c ? this._zoom : this._limitZoom(b), a = this._limitCenter(e.latLng(a), b, this.options.maxBounds), 
            d = d || {}, this._panAnim && this._panAnim.stop(), this._loaded && !d.reset && d !== !0) {
                d.animate !== c && (d.zoom = e.extend({
                    animate: d.animate
                }, d.zoom), d.pan = e.extend({
                    animate: d.animate
                }, d.pan));
                var f = this._zoom !== b ? this._tryAnimatedZoom && this._tryAnimatedZoom(a, b, d.zoom) : this._tryAnimatedPan(a, d.pan);
                if (f) return clearTimeout(this._sizeTimer), this;
            }
            return this._resetView(a, b), this;
        },
        panBy: function(a, b) {
            if (a = e.point(a).round(), b = b || {}, !a.x && !a.y) return this;
            if (this._panAnim || (this._panAnim = new e.PosAnimation(), this._panAnim.on({
                step: this._onPanTransitionStep,
                end: this._onPanTransitionEnd
            }, this)), b.noMoveStart || this.fire("movestart"), b.animate !== !1) {
                e.DomUtil.addClass(this._mapPane, "leaflet-pan-anim");
                var c = this._getMapPanePos().subtract(a);
                this._panAnim.run(this._mapPane, c, b.duration || .25, b.easeLinearity);
            } else this._rawPanBy(a), this.fire("move").fire("moveend");
            return this;
        },
        _onPanTransitionStep: function() {
            this.fire("move");
        },
        _onPanTransitionEnd: function() {
            e.DomUtil.removeClass(this._mapPane, "leaflet-pan-anim"), this.fire("moveend");
        },
        _tryAnimatedPan: function(a, b) {
            var c = this._getCenterOffset(a)._floor();
            return (b && b.animate) === !0 || this.getSize().contains(c) ? (this.panBy(c, b), 
            !0) : !1;
        }
    }), e.PosAnimation = e.DomUtil.TRANSITION ? e.PosAnimation : e.PosAnimation.extend({
        run: function(a, b, c, d) {
            this.stop(), this._el = a, this._inProgress = !0, this._duration = c || .25, this._easeOutPower = 1 / Math.max(d || .5, .2), 
            this._startPos = e.DomUtil.getPosition(a), this._offset = b.subtract(this._startPos), 
            this._startTime = +new Date(), this.fire("start"), this._animate();
        },
        stop: function() {
            this._inProgress && (this._step(), this._complete());
        },
        _animate: function() {
            this._animId = e.Util.requestAnimFrame(this._animate, this), this._step();
        },
        _step: function() {
            var a = +new Date() - this._startTime, b = 1e3 * this._duration;
            b > a ? this._runFrame(this._easeOut(a / b)) : (this._runFrame(1), this._complete());
        },
        _runFrame: function(a) {
            var b = this._startPos.add(this._offset.multiplyBy(a));
            e.DomUtil.setPosition(this._el, b), this.fire("step");
        },
        _complete: function() {
            e.Util.cancelAnimFrame(this._animId), this._inProgress = !1, this.fire("end");
        },
        _easeOut: function(a) {
            return 1 - Math.pow(1 - a, this._easeOutPower);
        }
    }), e.Map.mergeOptions({
        zoomAnimation: !0,
        zoomAnimationThreshold: 4
    }), e.DomUtil.TRANSITION && e.Map.addInitHook(function() {
        this._zoomAnimated = this.options.zoomAnimation && e.DomUtil.TRANSITION && e.Browser.any3d && !e.Browser.android23 && !e.Browser.mobileOpera, 
        this._zoomAnimated && e.DomEvent.on(this._mapPane, e.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);
    }), e.Map.include(e.DomUtil.TRANSITION ? {
        _catchTransitionEnd: function(a) {
            this._animatingZoom && a.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd();
        },
        _nothingToAnimate: function() {
            return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
        },
        _tryAnimatedZoom: function(a, b, c) {
            if (this._animatingZoom) return !0;
            if (c = c || {}, !this._zoomAnimated || c.animate === !1 || this._nothingToAnimate() || Math.abs(b - this._zoom) > this.options.zoomAnimationThreshold) return !1;
            var d = this.getZoomScale(b), e = this._getCenterOffset(a)._divideBy(1 - 1 / d), f = this._getCenterLayerPoint()._add(e);
            return c.animate === !0 || this.getSize().contains(e) ? (this.fire("movestart").fire("zoomstart"), 
            this._animateZoom(a, b, f, d, null, !0), !0) : !1;
        },
        _animateZoom: function(a, b, c, d, f, g, h) {
            h || (this._animatingZoom = !0), e.DomUtil.addClass(this._mapPane, "leaflet-zoom-anim"), 
            this._animateToCenter = a, this._animateToZoom = b, e.Draggable && (e.Draggable._disabled = !0), 
            e.Util.requestAnimFrame(function() {
                this.fire("zoomanim", {
                    center: a,
                    zoom: b,
                    origin: c,
                    scale: d,
                    delta: f,
                    backwards: g
                });
            }, this);
        },
        _onZoomTransitionEnd: function() {
            this._animatingZoom = !1, e.DomUtil.removeClass(this._mapPane, "leaflet-zoom-anim"), 
            this._resetView(this._animateToCenter, this._animateToZoom, !0, !0), e.Draggable && (e.Draggable._disabled = !1);
        }
    } : {}), e.TileLayer.include({
        _animateZoom: function(a) {
            this._animating || (this._animating = !0, this._prepareBgBuffer());
            var b = this._bgBuffer, c = e.DomUtil.TRANSFORM, d = a.delta ? e.DomUtil.getTranslateString(a.delta) : b.style[c], f = e.DomUtil.getScaleString(a.scale, a.origin);
            b.style[c] = a.backwards ? f + " " + d : d + " " + f;
        },
        _endZoomAnim: function() {
            var a = this._tileContainer, b = this._bgBuffer;
            a.style.visibility = "", a.parentNode.appendChild(a), e.Util.falseFn(b.offsetWidth), 
            this._animating = !1;
        },
        _clearBgBuffer: function() {
            var a = this._map;
            !a || a._animatingZoom || a.touchZoom._zooming || (this._bgBuffer.innerHTML = "", 
            this._bgBuffer.style[e.DomUtil.TRANSFORM] = "");
        },
        _prepareBgBuffer: function() {
            var a = this._tileContainer, b = this._bgBuffer, c = this._getLoadedTilesPercentage(b), d = this._getLoadedTilesPercentage(a);
            return b && c > .5 && .5 > d ? (a.style.visibility = "hidden", void this._stopLoadingImages(a)) : (b.style.visibility = "hidden", 
            b.style[e.DomUtil.TRANSFORM] = "", this._tileContainer = b, b = this._bgBuffer = a, 
            this._stopLoadingImages(b), void clearTimeout(this._clearBgBufferTimer));
        },
        _getLoadedTilesPercentage: function(a) {
            var b, c, d = a.getElementsByTagName("img"), e = 0;
            for (b = 0, c = d.length; c > b; b++) d[b].complete && e++;
            return e / c;
        },
        _stopLoadingImages: function(a) {
            var b, c, d, f = Array.prototype.slice.call(a.getElementsByTagName("img"));
            for (b = 0, c = f.length; c > b; b++) d = f[b], d.complete || (d.onload = e.Util.falseFn, 
            d.onerror = e.Util.falseFn, d.src = e.Util.emptyImageUrl, d.parentNode.removeChild(d));
        }
    }), e.Map.include({
        _defaultLocateOptions: {
            watch: !1,
            setView: !1,
            maxZoom: 1 / 0,
            timeout: 1e4,
            maximumAge: 0,
            enableHighAccuracy: !1
        },
        locate: function(a) {
            if (a = this._locateOptions = e.extend(this._defaultLocateOptions, a), !navigator.geolocation) return this._handleGeolocationError({
                code: 0,
                message: "Geolocation not supported."
            }), this;
            var b = e.bind(this._handleGeolocationResponse, this), c = e.bind(this._handleGeolocationError, this);
            return a.watch ? this._locationWatchId = navigator.geolocation.watchPosition(b, c, a) : navigator.geolocation.getCurrentPosition(b, c, a), 
            this;
        },
        stopLocate: function() {
            return navigator.geolocation && navigator.geolocation.clearWatch(this._locationWatchId), 
            this._locateOptions && (this._locateOptions.setView = !1), this;
        },
        _handleGeolocationError: function(a) {
            var b = a.code, c = a.message || (1 === b ? "permission denied" : 2 === b ? "position unavailable" : "timeout");
            this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                code: b,
                message: "Geolocation error: " + c + "."
            });
        },
        _handleGeolocationResponse: function(a) {
            var b = a.coords.latitude, c = a.coords.longitude, d = new e.LatLng(b, c), f = 180 * a.coords.accuracy / 40075017, g = f / Math.cos(e.LatLng.DEG_TO_RAD * b), h = e.latLngBounds([ b - f, c - g ], [ b + f, c + g ]), i = this._locateOptions;
            if (i.setView) {
                var j = Math.min(this.getBoundsZoom(h), i.maxZoom);
                this.setView(d, j);
            }
            var k = {
                latlng: d,
                bounds: h,
                timestamp: a.timestamp
            };
            for (var l in a.coords) "number" == typeof a.coords[l] && (k[l] = a.coords[l]);
            this.fire("locationfound", k);
        }
    });
}(window, document);

var RunalyzeLeaflet = function(a) {
    var b = {};
    var c = "";
    var d = false;
    var e = null;
    var f = {
        visible: {
            layers: true,
            scale: true
        },
        layer: "OpenStreetMap"
    };
    var g = {
        scrollWheelZoom: false
    };
    var h = {
        layers: null,
        scale: L.control.scale({
            imperial: false
        })
    };
    function i() {
        b.Layers = b.getNewLayers();
        h.layers = L.control.layers(b.Layers);
    }
    function j(b) {
        g = a.extend({}, g, b);
    }
    function k() {
        if (f.visible.layers && h.layers) {
            h.layers.addTo(b.map());
        }
        if (f.visible.scale && h.scale) h.scale.addTo(b.map());
        a('<a class="leaflet-control-zoom-full" href="javascript:RunalyzeLeaflet.toggleFullscreen();" title="Fullscreen"><i class="fa fa-expand"></i></a>').insertAfter(".leaflet-control-zoom-in");
        e.on("baselayerchange", function(a) {
            b.setDefaultLayer(a.name);
            if (d) Runalyze.Config.setLeafletLayer(a.name);
        });
    }
    function l() {
        e.on("mouseover", function() {
            a('<div id="polyline-info" class="tooltip right" style="display:none;"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>').appendTo(a("#" + c));
        });
        e.on("mouseout", function() {
            a("#polyline-info").remove();
        });
    }
    b.init = function(a, g) {
        if (e !== null) {
            b.Routes.removeAllRoutes();
            b.Routes.deletePosMarker();
            e.remove();
        }
        d = false;
        i();
        j(g);
        c = a;
        e = L.map(c, g).addLayer(b.Layers[f.layer]);
        k();
        l();
        d = true;
        return b;
    };
    b.map = function() {
        return e;
    };
    b.id = function() {
        return c;
    };
    b.setDefaultLayer = function(a) {
        f.layer = a;
        return b;
    };
    b.toggleFullscreen = function() {
        if (a("#" + c).hasClass("fullscreen")) b.exitFullscreen(); else b.enterFullscreen();
    };
    b.enterFullscreen = function() {
        a("#" + c).addClass("fullscreen");
        a(".leaflet-control-zoom-full > i").removeClass("fa-expand").addClass("fa-compress");
        e._onResize();
    };
    b.exitFullscreen = function() {
        a("#" + c).removeClass("fullscreen");
        a(".leaflet-control-zoom-full > i").addClass("fa-expand").removeClass("fa-compress");
        e._onResize();
    };
    return b;
}(jQuery);

RunalyzeLeaflet.getNewLayers = function() {
    return {
        OpenStreetMap: L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        "OpenStreetMap (de)": L.tileLayer("http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        "OpenStreetMap (hot)": L.tileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        OpenMapSurfer: L.tileLayer("http://openmapsurfer.uni-hd.de/tiles/roads/x={x}&y={y}&z={z}", {
            attribution: '&copy; <a href="http://giscience.uni-hd.de/">GIScience Research Group University of Heidelberg</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        HikeBikeMap: L.tileLayer("http://{s}.tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        MapQuest: L.tileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png", {
            subdomains: "1234",
            attribution: 'Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>'
        }),
        Thunderforest: L.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, ' + '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' + '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
        }),
        Hydda: L.tileLayer("http://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://openstreetmap.se/">OpenStreetMap Sweden</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        CartoDB: L.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png", {
            subdomains: "abcd",
            minZoom: 0,
            maxZoom: 18,
            attribution: 'Map tiles by <a href="http://cartodb.com/attributions">CartoDB</a>, ' + '<a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        HERE: L.tileLayer("http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?token={token}&app_id={appId}", {
            subdomains: "1234",
            appId: Runalyze.Options.nokiaAuth().app,
            token: Runalyze.Options.nokiaAuth().token,
            attribution: 'Map &copy; <a href="http://developer.here.com">Nokia</a>, Data &copy; NAVTEQ 2012'
        }),
        GoogleMaps: L.tileLayer("http://mt0.google.com/vt/lyrs=m@142&x={x}&y={y}&z={z}", {
            attribution: '&copy; <a href="http://maps.google.com/" target="_blank">Google Maps</a>'
        }),
        GoogleTerrain: L.tileLayer("http://mt0.google.com/vt/lyrs=t@126,r@142&x={x}&y={y}&z={z}", {
            attribution: '&copy; <a href="http://maps.google.com/" target="_blank">Google Terrain</a>'
        }),
        SigmaCycle: L.tileLayer("http://tiles1.sigma-dc-control.com/layer8/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.sigmasport.com/" target="_blank">SIGMA Sport &reg;</a>'
        }),
        OpenCycleMap: L.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        Esri: L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}", {
            attribution: 'Tiles: &copy; <a href="http://www.esri.com/" target="_blank">Esri</a>'
        }),
        EsriSatellite: L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}", {
            attribution: "Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"
        }),
        Stamen: L.tileLayer("http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png", {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, ' + '<a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        "Stamen (watercolor)": L.tileLayer("http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png", {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, ' + '<a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, ' + '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }),
        Acetate: L.tileLayer("http://a{s}.acetate.geoiq.com/tiles/acetate-hillshading/{z}/{x}/{y}.png", {
            subdomains: "0123",
            minZoom: 2,
            maxZoom: 18,
            attribution: "&copy;2012 Esri & Stamen, Data from OSM and Natural Earth"
        })
    };
};

RunalyzeLeaflet.Routes = function(a, b, c) {
    var d = {
        routeid: 0
    };
    var e;
    var f = 3e-4;
    var g = .01;
    var h = 20;
    var i = false;
    var j = false;
    var k = 13;
    var l = "#polyline-info .tooltip-inner";
    var m = {};
    var n = {
        defaults: {
            color: "#ff8000",
            weight: 3,
            opacity: 1
        },
        hover: {
            weight: 8,
            opacity: .7
        }
    };
    function o(b, c) {
        m[b].marker.push(c);
        c.on("mouseover", function(b) {
            a(l).html(b.target.options.tooltip).parent().show();
            w(b);
            a(l).parent().addClass("in");
        }).on("mouseout", function(b) {
            a(l).parent().removeClass("in").hide();
        });
    }
    function p() {
        for (var a in m) {
            if (b.map().getZoom() >= k) b.map().addLayer(m[a].markergroup); else b.map().removeLayer(m[a].markergroup);
        }
    }
    function q(a) {
        m[a].polyline.on("mouseover", t, {
            id: a
        });
        m[a].polyline.on("mouseout", u, {
            id: a
        });
    }
    function r() {
        if (!j) b.map().on("mousemove", s);
        j = true;
    }
    function s(a) {
        if (i !== false) {
            x(v(a.latlng));
            w(a);
        }
    }
    function t(b) {
        if (m[this.id].segmentsInfo.length) {
            a(l).parent().show();
            i = this.id;
            x(v(b.latlng));
            w(b);
            a(l).parent().addClass("in");
        }
        m[this.id].polyline.setStyle({
            weight: n.hover.weight,
            opacity: n.hover.opacity
        });
    }
    function u(b) {
        i = false;
        a(l).parent().removeClass("in").hide();
        m[this.id].polyline.setStyle({
            weight: m[this.id].options.weight,
            opacity: m[this.id].options.opacity
        });
    }
    function v(a) {
        var b = i;
        for (var d = 0, e = m[b].segments.length; d < e; d++) {
            for (var g = 0, h = m[b].segments[d].length; g < h; g++) {
                var j = m[b].segments[d][g];
                if (c.abs(j[0] - a.lat) < f && c.abs(j[1] - a.lng) < f) return m[b].segmentsInfo[d][g];
            }
        }
        return {};
    }
    function w(c) {
        var d = a(l).parent(), e = d.outerHeight(), f = c.originalEvent.clientX - a("#" + b.id()).offset().left + window.pageXOffset, g = c.originalEvent.clientY - a("#" + b.id()).offset().top + window.pageYOffset;
        d.css({
            top: g - e / 2,
            left: f + 10
        });
    }
    function x(b) {
        if (!b.length) return;
        var c = "";
        var d = m[i].segmentsInfoLabels;
        for (var e = 0; e < d.length; ++e) if (d[e]) c = c + "<strong>" + d[e] + ":</strong> " + b[e] + "<br>";
        if (c != "") a(l).html(c.substr(0, c.length - 4));
    }
    function y(a) {
        if (b.map()) {
            if (!e) {
                e = L.marker(a, {
                    icon: d.posIcon()
                }).addTo(b.map());
            } else {
                e.setLatLng(a);
            }
        }
    }
    d.addRoute = function(c, e) {
        e.segments = e.segments || [];
        e.segmentsInfoLabels = e.segmentsInfoLabels || [];
        e.segmentsInfo = e.segmentsInfo || [];
        e.marker = e.marker || [];
        e.markertopush = e.markertopush || [];
        e.markergroup = L.layerGroup();
        e.visible = e.visible !== false;
        e.hoverable = e.hoverable !== false;
        e.autofit = e.autofit !== false;
        e.options = a.extend(n.defaults, e.options);
        e.polyline = L.multiPolyline(e.segments, e.options);
        m[c] = e;
        for (var f in e.markertopush) o(c, e.markertopush[f]);
        if (e.visible) {
            if (e.hoverable) q(c);
            m[c].markergroup = L.layerGroup(m[c].marker);
            d.showRoute(c);
        }
        r();
        b.map().on("zoomend", p);
    };
    d.fitTo = function(a) {
        b.map().fitBounds(m[a].polyline.getBounds(), {
            animate: false
        });
        p();
    };
    d.showRoute = function(a) {
        b.map().addLayer(m[a].polyline);
        if (b.map().getZoom() >= k) b.map().addLayer(m[a].markergroup);
        if (m[a].autofit) d.fitTo(a);
        m[a].visible = true;
    };
    d.hideRoute = function(a) {
        b.map().removeLayer(m[a].polyline);
        b.map().removeLayer(m[a].markergroup);
        m[a].visible = false;
    };
    d.toggleRoute = function(a) {
        if (m[a].visible) d.hideRoute(a); else d.showRoute(a);
    };
    d.showAllRoutes = function() {
        for (var a in m) d.showRoute(a);
    };
    d.hideAllRoutes = function() {
        for (var a in m) d.hideRoute(a);
    };
    d.toggleAllRoutes = function() {
        for (var a in m) d.toggleRoute(a);
    };
    d.removeAllRoutes = function() {
        d.hideAllRoutes();
        m = {};
        j = false;
    };
    d.segmentFromStrings = function(a, b, c) {
        a = a.split(c);
        b = b.split(c);
        var d = a.length;
        var e = [];
        for (var f = 0; f < d; f++) e[f] = [ parseFloat(a[f]), parseFloat(b[f]) ];
        return e;
    };
    d.distIcon = function(a) {
        return L.divIcon({
            className: "polyline-marker polyline-marker-dist",
            html: c.ceil(a),
            iconSize: [ 12, 12 ],
            iconAnchor: [ 8, 8 ]
        });
    };
    d.startIcon = function() {
        return L.divIcon({
            className: "polyline-marker polyline-marker-start",
            iconSize: [ 6, 6 ],
            iconAnchor: [ 6, 6 ]
        });
    };
    d.endIcon = function() {
        return L.divIcon({
            className: "polyline-marker polyline-marker-end",
            iconSize: [ 6, 6 ],
            iconAnchor: [ 6, 6 ]
        });
    };
    d.posIcon = function() {
        return L.divIcon({
            className: "polyline-marker polyline-marker-pos",
            iconSize: [ 6, 6 ],
            iconAnchor: [ 6, 6 ]
        });
    };
    d.movePosMarker = function(a) {
        var b = d.routeid;
        if (typeof b === "undefined" || typeof m[b] === "undefined") return;
        var e;
        var f;
        var i;
        var j = [ 0, 0 ];
        var k = 0;
        for (var l = 0; l < m[b].segmentsInfo.length; ++l) {
            var n = m[b].segmentsInfo[l].length;
            if (m[b].segmentsInfo[l][0][0] < a && a < m[b].segmentsInfo[l][n - 1][0]) {
                k = 0;
                i = 0;
                f = 0;
                e = n - 1;
                while (e - i > 1 && k < h && c.abs(m[b].segmentsInfo[l][f][0] - a) > g) {
                    k++;
                    f = c.floor((e + i) / 2);
                    if (m[b].segmentsInfo[l][f][0] > a) {
                        e = f;
                    } else {
                        i = f;
                    }
                }
                if (i != e) {
                    var o = (a - m[b].segmentsInfo[l][i][0]) / (m[b].segmentsInfo[l][e][0] - m[b].segmentsInfo[l][i][0]);
                    j = [ m[b].segments[l][i][0] + o * (m[b].segments[l][e][0] - m[b].segments[l][i][0]), m[b].segments[l][i][1] + o * (m[b].segments[l][e][1] - m[b].segments[l][i][1]) ];
                } else {
                    j = m[b].segments[l][f];
                }
            }
        }
        y(j);
    };
    d.unsetPosMarker = function() {
        y([ 0, 0 ]);
    };
    d.deletePosMarker = function() {
        e = false;
    };
    return d;
}(jQuery, RunalyzeLeaflet, Math);

(function(a) {
    "use strict";
    var b = {
        theme: "fip-grey",
        source: false,
        emptyIcon: true,
        emptyIconValue: "",
        iconsPerPage: 20,
        hasSearch: true,
        searchSource: false,
        useAttribute: false,
        attributeName: "data-icon",
        convertToHex: true,
        allCategoryText: "From all categories",
        unCategorizedText: "Uncategorized"
    };
    function c(c, d) {
        this.element = a(c);
        this.settings = a.extend({}, b, d);
        if (this.settings.emptyIcon) {
            this.settings.iconsPerPage--;
        }
        this.iconPicker = a("<div/>", {
            "class": "icons-selector",
            style: "position: relative",
            html: '<div class="selector">' + '<span class="selected-icon">' + '<i class="fip-icon-block"></i>' + "</span>" + '<span class="selector-button">' + '<i class="fip-icon-down-dir"></i>' + "</span>" + "</div>" + '<div class="selector-popup" style="display: none;">' + (this.settings.hasSearch ? '<div class="selector-search">' + '<input type="text" name="" value="" placeholder="Search icon" class="icons-search-input"/>' + '<i class="fip-icon-search"></i>' + "</div>" : "") + '<div class="selector-category">' + '<select name="" class="icon-category-select" style="display: none">' + "</select>" + "</div>" + '<div class="fip-icons-container"></div>' + '<div class="selector-footer" style="display:none;">' + '<span class="selector-pages">1/2</span>' + '<span class="selector-arrows">' + '<span class="selector-arrow-left" style="display:none;">' + '<i class="fip-icon-left-dir"></i>' + "</span>" + '<span class="selector-arrow-right">' + '<i class="fip-icon-right-dir"></i>' + "</span>" + "</span>" + "</div>" + "</div>"
        });
        this.iconContainer = this.iconPicker.find(".fip-icons-container");
        this.searchIcon = this.iconPicker.find(".selector-search i");
        this.iconsSearched = [];
        this.isSearch = false;
        this.totalPage = 1;
        this.currentPage = 1;
        this.currentIcon = false;
        this.iconsCount = 0;
        this.open = false;
        this.searchValues = [];
        this.availableCategoriesSearch = [];
        this.triggerEvent = null;
        this.backupSource = [];
        this.backupSearch = [];
        this.isCategorized = false;
        this.selectCategory = this.iconPicker.find(".icon-category-select");
        this.selectedCategory = false;
        this.availableCategories = [];
        this.unCategorizedKey = null;
        this.init();
    }
    c.prototype = {
        init: function() {
            this.iconPicker.addClass(this.settings.theme);
            this.iconPicker.css({
                left: -9999
            }).appendTo("body");
            var b = this.iconPicker.outerHeight(), c = this.iconPicker.outerWidth();
            this.iconPicker.css({
                left: ""
            });
            this.element.before(this.iconPicker);
            this.element.css({
                visibility: "hidden",
                top: 0,
                position: "relative",
                zIndex: "-1",
                left: "-" + c + "px",
                display: "inline-block",
                height: b + "px",
                width: c + "px",
                padding: "0",
                margin: "0 -" + c + "px 0 0",
                border: "0 none",
                verticalAlign: "top"
            });
            if (!this.element.is("select")) {
                var d = function() {
                    var a = 3, b = document.createElement("div"), c = b.all || [];
                    while (b.innerHTML = "<!--[if gt IE " + ++a + "]><br><![endif]-->", c[0]) ;
                    return a > 4 ? a : !a;
                }();
                var e = document.createElement("div");
                this.triggerEvent = d === 9 || !("oninput" in e) ? [ "keyup" ] : [ "input", "keyup" ];
            }
            if (!this.settings.source && this.element.is("select")) {
                this.settings.source = [];
                this.settings.searchSource = [];
                if (this.element.find("optgroup").length) {
                    this.isCategorized = true;
                    this.element.find("optgroup").each(a.proxy(function(b, c) {
                        var d = this.availableCategories.length, e = a("<option />");
                        e.attr("value", d);
                        e.html(a(c).attr("label"));
                        this.selectCategory.append(e);
                        this.availableCategories[d] = [];
                        this.availableCategoriesSearch[d] = [];
                        a(c).find("option").each(a.proxy(function(b, c) {
                            var e = a(c).val(), f = a(c).html();
                            if (e && e !== this.settings.emptyIconValue) {
                                this.settings.source.push(e);
                                this.availableCategories[d].push(e);
                                this.searchValues.push(f);
                                this.availableCategoriesSearch[d].push(f);
                            }
                        }, this));
                    }, this));
                    if (this.element.find("> option").length) {
                        this.element.find("> option").each(a.proxy(function(b, c) {
                            var d = a(c).val(), e = a(c).html();
                            if (!d || d === "" || d == this.settings.emptyIconValue) {
                                return true;
                            }
                            if (this.unCategorizedKey === null) {
                                this.unCategorizedKey = this.availableCategories.length;
                                this.availableCategories[this.unCategorizedKey] = [];
                                this.availableCategoriesSearch[this.unCategorizedKey] = [];
                                a("<option />").attr("value", this.unCategorizedKey).html(this.settings.unCategorizedText).appendTo(this.selectCategory);
                            }
                            this.settings.source.push(d);
                            this.availableCategories[this.unCategorizedKey].push(d);
                            this.searchValues.push(e);
                            this.availableCategoriesSearch[this.unCategorizedKey].push(e);
                        }, this));
                    }
                } else {
                    this.element.find("option").each(a.proxy(function(b, c) {
                        var d = a(c).val(), e = a(c).html();
                        if (d) {
                            this.settings.source.push(d);
                            this.searchValues.push(e);
                        }
                    }, this));
                }
                this.backupSource = this.settings.source.slice(0);
                this.backupSearch = this.searchValues.slice(0);
                this.loadCategories();
            } else {
                this.initSourceIndex();
            }
            this.loadIcons();
            this.selectCategory.on("change keyup", a.proxy(function(b) {
                if (this.isCategorized === false) {
                    return false;
                }
                var c = a(b.currentTarget), d = c.val();
                if (c.val() === "all") {
                    this.settings.source = this.backupSource;
                    this.searchValues = this.backupSearch;
                } else {
                    var e = parseInt(d, 10);
                    if (this.availableCategories[e]) {
                        this.settings.source = this.availableCategories[e];
                        this.searchValues = this.availableCategoriesSearch[e];
                    }
                }
                this.resetSearch();
                this.loadIcons();
            }, this));
            this.iconPicker.find(".selector-button").click(a.proxy(function() {
                this.toggleIconSelector();
            }, this));
            this.iconPicker.find(".selector-arrow-right").click(a.proxy(function(b) {
                if (this.currentPage < this.totalPage) {
                    this.iconPicker.find(".selector-arrow-left").show();
                    this.currentPage = this.currentPage + 1;
                    this.renderIconContainer();
                }
                if (this.currentPage === this.totalPage) {
                    a(b.currentTarget).hide();
                }
            }, this));
            this.iconPicker.find(".selector-arrow-left").click(a.proxy(function(b) {
                if (this.currentPage > 1) {
                    this.iconPicker.find(".selector-arrow-right").show();
                    this.currentPage = this.currentPage - 1;
                    this.renderIconContainer();
                }
                if (this.currentPage === 1) {
                    a(b.currentTarget).hide();
                }
            }, this));
            this.iconPicker.find(".icons-search-input").keyup(a.proxy(function(b) {
                var c = a(b.currentTarget).val();
                if (c === "") {
                    this.resetSearch();
                    return;
                }
                this.searchIcon.removeClass("fip-icon-search");
                this.searchIcon.addClass("fip-icon-cancel");
                this.isSearch = true;
                this.currentPage = 1;
                this.iconsSearched = [];
                a.grep(this.searchValues, a.proxy(function(a, b) {
                    if (a.toLowerCase().search(c.toLowerCase()) >= 0) {
                        this.iconsSearched[this.iconsSearched.length] = this.settings.source[b];
                        return true;
                    }
                }, this));
                this.renderIconContainer();
            }, this));
            this.iconPicker.find(".selector-search").on("click", ".fip-icon-cancel", a.proxy(function() {
                this.iconPicker.find(".icons-search-input").focus();
                this.resetSearch();
            }, this));
            this.iconContainer.on("click", ".fip-box", a.proxy(function(b) {
                this.setSelectedIcon(a(b.currentTarget).find("i").attr("data-fip-value"));
                this.toggleIconSelector();
            }, this));
            this.iconPicker.click(function(a) {
                a.stopPropagation();
                return false;
            });
            a("html").click(a.proxy(function() {
                if (this.open) {
                    this.toggleIconSelector();
                }
            }, this));
        },
        initSourceIndex: function() {
            if (typeof this.settings.source !== "object") {
                return;
            }
            if (a.isArray(this.settings.source)) {
                this.isCategorized = false;
                this.selectCategory.html("").hide();
                this.settings.source = a.map(this.settings.source, function(a, b) {
                    if (typeof a.toString == "function") {
                        return a.toString();
                    } else {
                        return a;
                    }
                });
                if (a.isArray(this.settings.searchSource)) {
                    this.searchValues = a.map(this.settings.searchSource, function(a, b) {
                        if (typeof a.toString == "function") {
                            return a.toString();
                        } else {
                            return a;
                        }
                    });
                } else {
                    this.searchValues = this.settings.source.slice(0);
                }
            } else {
                var b = a.extend(true, {}, this.settings.source);
                this.settings.source = [];
                this.searchValues = [];
                this.availableCategoriesSearch = [];
                this.selectedCategory = false;
                this.availableCategories = [];
                this.unCategorizedKey = null;
                this.isCategorized = true;
                this.selectCategory.html("");
                for (var c in b) {
                    var d = this.availableCategories.length, e = a("<option />");
                    e.attr("value", d);
                    e.html(c);
                    this.selectCategory.append(e);
                    this.availableCategories[d] = [];
                    this.availableCategoriesSearch[d] = [];
                    for (var f in b[c]) {
                        var g = b[c][f];
                        var h = this.settings.searchSource && this.settings.searchSource[c] && this.settings.searchSource[c][f] ? this.settings.searchSource[c][f] : g;
                        if (typeof g.toString == "function") {
                            g = g.toString();
                        }
                        if (g && g !== this.settings.emptyIconValue) {
                            this.settings.source.push(g);
                            this.availableCategories[d].push(g);
                            this.searchValues.push(h);
                            this.availableCategoriesSearch[d].push(h);
                        }
                    }
                }
            }
            this.backupSource = this.settings.source.slice(0);
            this.backupSearch = this.searchValues.slice(0);
            this.loadCategories();
        },
        loadCategories: function() {
            if (this.isCategorized === false) {
                return;
            }
            a('<option value="all">' + this.settings.allCategoryText + "</option>").prependTo(this.selectCategory);
            this.selectCategory.show().val("all").trigger("change");
        },
        loadIcons: function() {
            this.iconContainer.html('<i class="fip-icon-spin3 animate-spin loading"></i>');
            if (this.settings.source instanceof Array) {
                this.renderIconContainer();
            }
        },
        renderIconContainer: function() {
            var b, c = [];
            if (this.isSearch) {
                c = this.iconsSearched;
            } else {
                c = this.settings.source;
            }
            this.iconsCount = c.length;
            this.totalPage = Math.ceil(this.iconsCount / this.settings.iconsPerPage);
            if (this.totalPage > 1) {
                this.iconPicker.find(".selector-footer").show();
            } else {
                this.iconPicker.find(".selector-footer").hide();
            }
            this.iconPicker.find(".selector-pages").html(this.currentPage + "/" + this.totalPage + " <em>(" + this.iconsCount + ")</em>");
            b = (this.currentPage - 1) * this.settings.iconsPerPage;
            if (this.settings.emptyIcon) {
                this.iconContainer.html('<span class="fip-box"><i class="fip-icon-block" data-fip-value="fip-icon-block"></i></span>');
            } else if (c.length < 1) {
                this.iconContainer.html('<span class="icons-picker-error"><i class="fip-icon-block" data-fip-value="fip-icon-block"></i></span>');
                return;
            } else {
                this.iconContainer.html("");
            }
            c = c.slice(b, b + this.settings.iconsPerPage);
            for (var d = 0, e; e = c[d++]; ) {
                var f = e;
                a.grep(this.settings.source, a.proxy(function(a, b) {
                    if (a === e) {
                        f = this.searchValues[b];
                        return true;
                    }
                    return false;
                }, this));
                a("<span/>", {
                    html: '<i data-fip-value="' + e + '" ' + (this.settings.useAttribute ? this.settings.attributeName + '="' + (this.settings.convertToHex ? "&#x" + parseInt(e, 10).toString(16) + ";" : e) + '"' : 'class="' + e + '"') + "></i>",
                    "class": "fip-box",
                    title: f
                }).appendTo(this.iconContainer);
            }
            if (!this.settings.emptyIcon && (!this.element.val() || a.inArray(this.element.val(), this.settings.source) === -1)) {
                this.setSelectedIcon(c[0]);
            } else if (a.inArray(this.element.val(), this.settings.source) === -1) {
                this.setSelectedIcon();
            } else {
                this.setSelectedIcon(this.element.val());
            }
        },
        setHighlightedIcon: function() {
            this.iconContainer.find(".current-icon").removeClass("current-icon");
            if (this.currentIcon) {
                this.iconContainer.find('[data-fip-value="' + this.currentIcon + '"]').parent("span").addClass("current-icon");
            }
        },
        setSelectedIcon: function(a) {
            if (a === "fip-icon-block") {
                a = "";
            }
            if (this.settings.useAttribute) {
                if (a) {
                    this.iconPicker.find(".selected-icon").html("<i " + this.settings.attributeName + '="' + (this.settings.convertToHex ? "&#x" + parseInt(a, 10).toString(16) + ";" : a) + '"></i>');
                } else {
                    this.iconPicker.find(".selected-icon").html('<i class="fip-icon-block"></i>');
                }
            } else {
                this.iconPicker.find(".selected-icon").html('<i class="' + (a || "fip-icon-block") + '"></i>');
            }
            this.element.val(a === "" ? this.settings.emptyIconValue : a).trigger("change");
            if (this.triggerEvent !== null) {
                for (var b in this.triggerEvent) {
                    this.element.trigger(this.triggerEvent[b]);
                }
            }
            this.currentIcon = a;
            this.setHighlightedIcon();
        },
        toggleIconSelector: function() {
            this.open = !this.open ? 1 : 0;
            this.iconPicker.find(".selector-popup").slideToggle(300);
            this.iconPicker.find(".selector-button i").toggleClass("fip-icon-down-dir");
            this.iconPicker.find(".selector-button i").toggleClass("fip-icon-up-dir");
            if (this.open) {
                this.iconPicker.find(".icons-search-input").focus().select();
            }
        },
        resetSearch: function() {
            this.iconPicker.find(".icons-search-input").val("");
            this.searchIcon.removeClass("fip-icon-cancel");
            this.searchIcon.addClass("fip-icon-search");
            this.iconPicker.find(".selector-arrow-left").hide();
            this.currentPage = 1;
            this.isSearch = false;
            this.renderIconContainer();
            if (this.totalPage > 1) {
                this.iconPicker.find(".selector-arrow-right").show();
            }
        }
    };
    a.fn.fontIconPicker = function(b) {
        this.each(function() {
            if (!a.data(this, "fontIconPicker")) {
                a.data(this, "fontIconPicker", new c(this, b));
            }
        });
        this.setIcons = a.proxy(function(b, c) {
            if (undefined === b) {
                b = false;
            }
            if (undefined === c) {
                c = false;
            }
            this.each(function() {
                a.data(this, "fontIconPicker").settings.source = b;
                a.data(this, "fontIconPicker").settings.searchSource = c;
                a.data(this, "fontIconPicker").initSourceIndex();
                a.data(this, "fontIconPicker").resetSearch();
                a.data(this, "fontIconPicker").loadIcons();
            });
        }, this);
        this.destroyPicker = a.proxy(function() {
            this.each(function() {
                if (!a.data(this, "fontIconPicker")) {
                    return;
                }
                a.data(this, "fontIconPicker").iconPicker.remove();
                a.data(this, "fontIconPicker").element.css({
                    visibility: "",
                    top: "",
                    position: "",
                    zIndex: "",
                    left: "",
                    display: "",
                    height: "",
                    width: "",
                    padding: "",
                    margin: "",
                    border: "",
                    verticalAlign: ""
                });
                a.removeData(this, "fontIconPicker");
            });
        }, this);
        this.refreshPicker = a.proxy(function(d) {
            if (!d) {
                d = b;
            }
            this.destroyPicker();
            this.each(function() {
                if (!a.data(this, "fontIconPicker")) {
                    a.data(this, "fontIconPicker", new c(this, d));
                }
            });
        }, this);
        return this;
    };
})(jQuery);

!function(a, b, c, d) {
    "use strict";
    function e(a) {
        return ("string" == typeof a || a instanceof String) && (a = a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g, "")), 
        a;
    }
    var f = function(b) {
        for (var c = b.length, d = a("head"); c--; ) 0 === d.has("." + b[c]).length && d.append('<meta class="' + b[c] + '" />');
    };
    f([ "foundation-mq-small", "foundation-mq-small-only", "foundation-mq-medium", "foundation-mq-medium-only", "foundation-mq-large", "foundation-mq-large-only", "foundation-mq-xlarge", "foundation-mq-xlarge-only", "foundation-mq-xxlarge", "foundation-data-attribute-namespace" ]), 
    a(function() {
        "undefined" != typeof FastClick && "undefined" != typeof c.body && FastClick.attach(c.body);
    });
    var g = function(b, d) {
        if ("string" == typeof b) {
            if (d) {
                var e;
                if (d.jquery) {
                    if (e = d[0], !e) return d;
                } else e = d;
                return a(e.querySelectorAll(b));
            }
            return a(c.querySelectorAll(b));
        }
        return a(b, d);
    }, h = function(a) {
        var b = [];
        return a || b.push("data"), this.namespace.length > 0 && b.push(this.namespace), 
        b.push(this.name), b.join("-");
    }, i = function(a) {
        for (var b = a.split("-"), c = b.length, d = []; c--; ) 0 !== c ? d.push(b[c]) : this.namespace.length > 0 ? d.push(this.namespace, b[c]) : d.push(b[c]);
        return d.reverse().join("-");
    }, j = function(b, c) {
        var d = this, e = function() {
            var e = g(this), f = !e.data(d.attr_name(!0) + "-init");
            e.data(d.attr_name(!0) + "-init", a.extend({}, d.settings, c || b, d.data_options(e))), 
            f && d.events(this);
        };
        return g(this.scope).is("[" + this.attr_name() + "]") ? e.call(this.scope) : g("[" + this.attr_name() + "]", this.scope).each(e), 
        "string" == typeof b ? this[b].call(this, c) : void 0;
    }, k = function(a, b) {
        function c() {
            b(a[0]);
        }
        function d() {
            if (this.one("load", c), /MSIE (\d+\.\d+);/.test(navigator.userAgent)) {
                var a = this.attr("src"), b = a.match(/\?/) ? "&" : "?";
                b += "random=" + new Date().getTime(), this.attr("src", a + b);
            }
        }
        return a.attr("src") ? void (a[0].complete || 4 === a[0].readyState ? c() : d.call(a)) : void c();
    };
    b.matchMedia || (b.matchMedia = function() {
        var a = b.styleMedia || b.media;
        if (!a) {
            var d = c.createElement("style"), e = c.getElementsByTagName("script")[0], f = null;
            d.type = "text/css", d.id = "matchmediajs-test", e.parentNode.insertBefore(d, e), 
            f = "getComputedStyle" in b && b.getComputedStyle(d, null) || d.currentStyle, a = {
                matchMedium: function(a) {
                    var b = "@media " + a + "{ #matchmediajs-test { width: 1px; } }";
                    return d.styleSheet ? d.styleSheet.cssText = b : d.textContent = b, "1px" === f.width;
                }
            };
        }
        return function(b) {
            return {
                matches: a.matchMedium(b || "all"),
                media: b || "all"
            };
        };
    }()), function(a) {
        function c() {
            d && (g(c), i && a.fx.tick());
        }
        for (var d, e = 0, f = [ "webkit", "moz" ], g = b.requestAnimationFrame, h = b.cancelAnimationFrame, i = "undefined" != typeof a.fx; e < f.length && !g; e++) g = b[f[e] + "RequestAnimationFrame"], 
        h = h || b[f[e] + "CancelAnimationFrame"] || b[f[e] + "CancelRequestAnimationFrame"];
        g ? (b.requestAnimationFrame = g, b.cancelAnimationFrame = h, i && (a.fx.timer = function(b) {
            b() && a.timers.push(b) && !d && (d = !0, c());
        }, a.fx.stop = function() {
            d = !1;
        })) : (b.requestAnimationFrame = function(a) {
            var c = new Date().getTime(), d = Math.max(0, 16 - (c - e)), f = b.setTimeout(function() {
                a(c + d);
            }, d);
            return e = c + d, f;
        }, b.cancelAnimationFrame = function(a) {
            clearTimeout(a);
        });
    }(a), b.Foundation = {
        name: "Foundation",
        version: "5.5.2",
        media_queries: {
            small: g(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            "small-only": g(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            medium: g(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            "medium-only": g(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            large: g(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            "large-only": g(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            xlarge: g(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            "xlarge-only": g(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""),
            xxlarge: g(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, "")
        },
        stylesheet: a("<style></style>").appendTo("head")[0].sheet,
        global: {
            namespace: d
        },
        init: function(a, c, d, e, f) {
            var h = [ a, d, e, f ], i = [];
            if (this.rtl = /rtl/i.test(g("html").attr("dir")), this.scope = a || this.scope, 
            this.set_namespace(), c && "string" == typeof c && !/reflow/i.test(c)) this.libs.hasOwnProperty(c) && i.push(this.init_lib(c, h)); else for (var j in this.libs) i.push(this.init_lib(j, c));
            return g(b).load(function() {
                g(b).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider");
            }), a;
        },
        init_lib: function(b, c) {
            return this.libs.hasOwnProperty(b) ? (this.patch(this.libs[b]), c && c.hasOwnProperty(b) ? ("undefined" != typeof this.libs[b].settings ? a.extend(!0, this.libs[b].settings, c[b]) : "undefined" != typeof this.libs[b].defaults && a.extend(!0, this.libs[b].defaults, c[b]), 
            this.libs[b].init.apply(this.libs[b], [ this.scope, c[b] ])) : (c = c instanceof Array ? c : new Array(c), 
            this.libs[b].init.apply(this.libs[b], c))) : function() {};
        },
        patch: function(a) {
            a.scope = this.scope, a.namespace = this.global.namespace, a.rtl = this.rtl, a.data_options = this.utils.data_options, 
            a.attr_name = h, a.add_namespace = i, a.bindings = j, a.S = this.utils.S;
        },
        inherit: function(a, b) {
            for (var c = b.split(" "), d = c.length; d--; ) this.utils.hasOwnProperty(c[d]) && (a[c[d]] = this.utils[c[d]]);
        },
        set_namespace: function() {
            var b = this.global.namespace === d ? a(".foundation-data-attribute-namespace").css("font-family") : this.global.namespace;
            this.global.namespace = b === d || /false/i.test(b) ? "" : b;
        },
        libs: {},
        utils: {
            S: g,
            throttle: function(a, b) {
                var c = null;
                return function() {
                    var d = this, e = arguments;
                    null == c && (c = setTimeout(function() {
                        a.apply(d, e), c = null;
                    }, b));
                };
            },
            debounce: function(a, b, c) {
                var d, e;
                return function() {
                    var f = this, g = arguments, h = function() {
                        d = null, c || (e = a.apply(f, g));
                    }, i = c && !d;
                    return clearTimeout(d), d = setTimeout(h, b), i && (e = a.apply(f, g)), e;
                };
            },
            data_options: function(b, c) {
                function d(a) {
                    return !isNaN(a - 0) && null !== a && "" !== a && a !== !1 && a !== !0;
                }
                function e(b) {
                    return "string" == typeof b ? a.trim(b) : b;
                }
                c = c || "options";
                var f, g, h, i = {}, j = function(a) {
                    var b = Foundation.global.namespace;
                    return a.data(b.length > 0 ? b + "-" + c : c);
                }, k = j(b);
                if ("object" == typeof k) return k;
                for (h = (k || ":").split(";"), f = h.length; f--; ) g = h[f].split(":"), g = [ g[0], g.slice(1).join(":") ], 
                /true/i.test(g[1]) && (g[1] = !0), /false/i.test(g[1]) && (g[1] = !1), d(g[1]) && (-1 === g[1].indexOf(".") ? g[1] = parseInt(g[1], 10) : g[1] = parseFloat(g[1])), 
                2 === g.length && g[0].length > 0 && (i[e(g[0])] = e(g[1]));
                return i;
            },
            register_media: function(b, c) {
                Foundation.media_queries[b] === d && (a("head").append('<meta class="' + c + '"/>'), 
                Foundation.media_queries[b] = e(a("." + c).css("font-family")));
            },
            add_custom_rule: function(a, b) {
                if (b === d && Foundation.stylesheet) Foundation.stylesheet.insertRule(a, Foundation.stylesheet.cssRules.length); else {
                    var c = Foundation.media_queries[b];
                    c !== d && Foundation.stylesheet.insertRule("@media " + Foundation.media_queries[b] + "{ " + a + " }", Foundation.stylesheet.cssRules.length);
                }
            },
            image_loaded: function(a, b) {
                function c(a) {
                    for (var b = a.length, c = b - 1; c >= 0; c--) if (a.attr("height") === d) return !1;
                    return !0;
                }
                var e = this, f = a.length;
                (0 === f || c(a)) && b(a), a.each(function() {
                    k(e.S(this), function() {
                        f -= 1, 0 === f && b(a);
                    });
                });
            },
            random_str: function() {
                return this.fidx || (this.fidx = 0), this.prefix = this.prefix || [ this.name || "F", (+new Date()).toString(36) ].join("-"), 
                this.prefix + (this.fidx++).toString(36);
            },
            match: function(a) {
                return b.matchMedia(a).matches;
            },
            is_small_up: function() {
                return this.match(Foundation.media_queries.small);
            },
            is_medium_up: function() {
                return this.match(Foundation.media_queries.medium);
            },
            is_large_up: function() {
                return this.match(Foundation.media_queries.large);
            },
            is_xlarge_up: function() {
                return this.match(Foundation.media_queries.xlarge);
            },
            is_xxlarge_up: function() {
                return this.match(Foundation.media_queries.xxlarge);
            },
            is_small_only: function() {
                return !(this.is_medium_up() || this.is_large_up() || this.is_xlarge_up() || this.is_xxlarge_up());
            },
            is_medium_only: function() {
                return this.is_medium_up() && !this.is_large_up() && !this.is_xlarge_up() && !this.is_xxlarge_up();
            },
            is_large_only: function() {
                return this.is_medium_up() && this.is_large_up() && !this.is_xlarge_up() && !this.is_xxlarge_up();
            },
            is_xlarge_only: function() {
                return this.is_medium_up() && this.is_large_up() && this.is_xlarge_up() && !this.is_xxlarge_up();
            },
            is_xxlarge_only: function() {
                return this.is_medium_up() && this.is_large_up() && this.is_xlarge_up() && this.is_xxlarge_up();
            }
        }
    }, a.fn.foundation = function() {
        var a = Array.prototype.slice.call(arguments, 0);
        return this.each(function() {
            return Foundation.init.apply(Foundation, [ this ].concat(a)), this;
        });
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.abide = {
        name: "abide",
        version: "5.5.2",
        settings: {
            live_validate: !0,
            validate_on_blur: !0,
            focus_on_invalid: !0,
            error_labels: !0,
            error_class: "error",
            timeout: 1e3,
            patterns: {
                alpha: /^[a-zA-Z]+$/,
                alpha_numeric: /^[a-zA-Z0-9]+$/,
                integer: /^[-+]?\d+$/,
                number: /^[-+]?\d*(?:[\.\,]\d+)?$/,
                card: /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,
                cvv: /^([0-9]){3,4}$/,
                email: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,
                url: /^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,
                domain: /^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,
                datetime: /^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,
                date: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,
                time: /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,
                dateISO: /^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,
                month_day_year: /^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,
                day_month_year: /^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,
                color: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/
            },
            validators: {
                equalTo: function(a, b, d) {
                    var e = c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value, f = a.value, g = e === f;
                    return g;
                }
            }
        },
        timer: null,
        init: function(a, b, c) {
            this.bindings(b, c);
        },
        events: function(b) {
            function c(a, b) {
                clearTimeout(d.timer), d.timer = setTimeout(function() {
                    d.validate([ a ], b);
                }.bind(a), f.timeout);
            }
            var d = this, e = d.S(b).attr("novalidate", "novalidate"), f = e.data(this.attr_name(!0) + "-init") || {};
            this.invalid_attr = this.add_namespace("data-invalid"), e.off(".abide").on("submit.fndtn.abide", function(a) {
                var b = /ajax/i.test(d.S(this).attr(d.attr_name()));
                return d.validate(d.S(this).find("input, textarea, select").not(":hidden, [data-abide-ignore]").get(), a, b);
            }).on("validate.fndtn.abide", function(a) {
                "manual" === f.validate_on && d.validate([ a.target ], a);
            }).on("reset", function(b) {
                return d.reset(a(this), b);
            }).find("input, textarea, select").not(":hidden, [data-abide-ignore]").off(".abide").on("blur.fndtn.abide change.fndtn.abide", function(a) {
                f.validate_on_blur && f.validate_on_blur === !0 && c(this, a), "change" === f.validate_on && c(this, a);
            }).on("keydown.fndtn.abide", function(a) {
                f.live_validate && f.live_validate === !0 && 9 != a.which && c(this, a), "tab" === f.validate_on && 9 === a.which ? c(this, a) : "change" === f.validate_on && c(this, a);
            }).on("focus", function(b) {
                navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i) && a("html, body").animate({
                    scrollTop: a(b.target).offset().top
                }, 100);
            });
        },
        reset: function(b, c) {
            var d = this;
            b.removeAttr(d.invalid_attr), a("[" + d.invalid_attr + "]", b).removeAttr(d.invalid_attr), 
            a("." + d.settings.error_class, b).not("small").removeClass(d.settings.error_class), 
            a(":input", b).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(d.invalid_attr);
        },
        validate: function(a, b, c) {
            for (var d = this.parse_patterns(a), e = d.length, f = this.S(a[0]).closest("form"), g = /submit/.test(b.type), h = 0; e > h; h++) if (!d[h] && (g || c)) return this.settings.focus_on_invalid && a[h].focus(), 
            f.trigger("invalid.fndtn.abide"), this.S(a[h]).closest("form").attr(this.invalid_attr, ""), 
            !1;
            return (g || c) && f.trigger("valid.fndtn.abide"), f.removeAttr(this.invalid_attr), 
            c ? !1 : !0;
        },
        parse_patterns: function(a) {
            for (var b = a.length, c = []; b--; ) c.push(this.pattern(a[b]));
            return this.check_validation_and_apply_styles(c);
        },
        pattern: function(a) {
            var b = a.getAttribute("type"), c = "string" == typeof a.getAttribute("required"), d = a.getAttribute("pattern") || "";
            return this.settings.patterns.hasOwnProperty(d) && d.length > 0 ? [ a, this.settings.patterns[d], c ] : d.length > 0 ? [ a, new RegExp(d), c ] : this.settings.patterns.hasOwnProperty(b) ? [ a, this.settings.patterns[b], c ] : (d = /.*/, 
            [ a, d, c ]);
        },
        check_validation_and_apply_styles: function(b) {
            var c = b.length, d = [], e = this.S(b[0][0]).closest("[data-" + this.attr_name(!0) + "]");
            for (e.data(this.attr_name(!0) + "-init") || {}; c--; ) {
                var f, g, h = b[c][0], i = b[c][2], j = h.value.trim(), k = this.S(h).parent(), l = h.getAttribute(this.add_namespace("data-abide-validator")), m = "radio" === h.type, n = "checkbox" === h.type, o = this.S('label[for="' + h.getAttribute("id") + '"]'), p = i ? h.value.length > 0 : !0, q = [];
                if (h.getAttribute(this.add_namespace("data-equalto")) && (l = "equalTo"), f = k.is("label") ? k.parent() : k, 
                m && i) q.push(this.valid_radio(h, i)); else if (n && i) q.push(this.valid_checkbox(h, i)); else if (l) {
                    for (var r = l.split(" "), s = !0, t = !0, u = 0; u < r.length; u++) g = this.settings.validators[r[u]].apply(this, [ h, i, f ]), 
                    q.push(g), t = g && s, s = g;
                    t ? (this.S(h).removeAttr(this.invalid_attr), f.removeClass("error"), o.length > 0 && this.settings.error_labels && o.removeClass(this.settings.error_class).removeAttr("role"), 
                    a(h).triggerHandler("valid")) : (this.S(h).attr(this.invalid_attr, ""), f.addClass("error"), 
                    o.length > 0 && this.settings.error_labels && o.addClass(this.settings.error_class).attr("role", "alert"), 
                    a(h).triggerHandler("invalid"));
                } else if (q.push(b[c][1].test(j) && p || !i && h.value.length < 1 || a(h).attr("disabled") ? !0 : !1), 
                q = [ q.every(function(a) {
                    return a;
                }) ], q[0]) this.S(h).removeAttr(this.invalid_attr), h.setAttribute("aria-invalid", "false"), 
                h.removeAttribute("aria-describedby"), f.removeClass(this.settings.error_class), 
                o.length > 0 && this.settings.error_labels && o.removeClass(this.settings.error_class).removeAttr("role"), 
                a(h).triggerHandler("valid"); else {
                    this.S(h).attr(this.invalid_attr, ""), h.setAttribute("aria-invalid", "true");
                    var v = f.find("small." + this.settings.error_class, "span." + this.settings.error_class), w = v.length > 0 ? v[0].id : "";
                    w.length > 0 && h.setAttribute("aria-describedby", w), f.addClass(this.settings.error_class), 
                    o.length > 0 && this.settings.error_labels && o.addClass(this.settings.error_class).attr("role", "alert"), 
                    a(h).triggerHandler("invalid");
                }
                d = d.concat(q);
            }
            return d;
        },
        valid_checkbox: function(b, c) {
            var b = this.S(b), d = b.is(":checked") || !c || b.get(0).getAttribute("disabled");
            return d ? (b.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class), 
            a(b).triggerHandler("valid")) : (b.attr(this.invalid_attr, "").parent().addClass(this.settings.error_class), 
            a(b).triggerHandler("invalid")), d;
        },
        valid_radio: function(b, c) {
            for (var d = b.getAttribute("name"), e = this.S(b).closest("[data-" + this.attr_name(!0) + "]").find("[name='" + d + "']"), f = e.length, g = !1, h = !1, i = 0; f > i; i++) e[i].getAttribute("disabled") ? (h = !0, 
            g = !0) : e[i].checked ? g = !0 : h && (g = !1);
            for (var i = 0; f > i; i++) g ? (this.S(e[i]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class), 
            a(e[i]).triggerHandler("valid")) : (this.S(e[i]).attr(this.invalid_attr, "").parent().addClass(this.settings.error_class), 
            a(e[i]).triggerHandler("invalid"));
            return g;
        },
        valid_equal: function(a, b, d) {
            var e = c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value, f = a.value, g = e === f;
            return g ? (this.S(a).removeAttr(this.invalid_attr), d.removeClass(this.settings.error_class), 
            label.length > 0 && settings.error_labels && label.removeClass(this.settings.error_class)) : (this.S(a).attr(this.invalid_attr, ""), 
            d.addClass(this.settings.error_class), label.length > 0 && settings.error_labels && label.addClass(this.settings.error_class)), 
            g;
        },
        valid_oneof: function(a, b, c, d) {
            var a = this.S(a), e = this.S("[" + this.add_namespace("data-oneof") + "]"), f = e.filter(":checked").length > 0;
            if (f ? a.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class) : a.attr(this.invalid_attr, "").parent().addClass(this.settings.error_class), 
            !d) {
                var g = this;
                e.each(function() {
                    g.valid_oneof.call(g, this, null, null, !0);
                });
            }
            return f;
        },
        reflow: function(a, b) {
            var c = this, d = c.S("[" + this.attr_name() + "]").attr("novalidate", "novalidate");
            c.S(d).each(function(a, b) {
                c.events(b);
            });
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.accordion = {
        name: "accordion",
        version: "5.5.2",
        settings: {
            content_class: "content",
            active_class: "active",
            multi_expand: !1,
            toggleable: !0,
            callback: function() {}
        },
        init: function(a, b, c) {
            this.bindings(b, c);
        },
        events: function(b) {
            var c = this, d = this.S;
            c.create(this.S(b)), d(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion", "[" + this.attr_name() + "] > dd > a, [" + this.attr_name() + "] > li > a", function(b) {
                var e = d(this).closest("[" + c.attr_name() + "]"), f = c.attr_name() + "=" + e.attr(c.attr_name()), g = e.data(c.attr_name(!0) + "-init") || c.settings, h = d("#" + this.href.split("#")[1]), i = a("> dd, > li", e), j = i.children("." + g.content_class), k = j.filter("." + g.active_class);
                return b.preventDefault(), e.attr(c.attr_name()) && (j = j.add("[" + f + "] dd > ." + g.content_class + ", [" + f + "] li > ." + g.content_class), 
                i = i.add("[" + f + "] dd, [" + f + "] li")), g.toggleable && h.is(k) ? (h.parent("dd, li").toggleClass(g.active_class, !1), 
                h.toggleClass(g.active_class, !1), d(this).attr("aria-expanded", function(a, b) {
                    return "true" === b ? "false" : "true";
                }), g.callback(h), h.triggerHandler("toggled", [ e ]), void e.triggerHandler("toggled", [ h ])) : (g.multi_expand || (j.removeClass(g.active_class), 
                i.removeClass(g.active_class), i.children("a").attr("aria-expanded", "false")), 
                h.addClass(g.active_class).parent().addClass(g.active_class), g.callback(h), h.triggerHandler("toggled", [ e ]), 
                e.triggerHandler("toggled", [ h ]), void d(this).attr("aria-expanded", "true"));
            });
        },
        create: function(b) {
            var c = this, d = b, e = a("> .accordion-navigation", d), f = d.data(c.attr_name(!0) + "-init") || c.settings;
            e.children("a").attr("aria-expanded", "false"), e.has("." + f.content_class + "." + f.active_class).children("a").attr("aria-expanded", "true"), 
            f.multi_expand && b.attr("aria-multiselectable", "true");
        },
        off: function() {},
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.alert = {
        name: "alert",
        version: "5.5.2",
        settings: {
            callback: function() {}
        },
        init: function(a, b, c) {
            this.bindings(b, c);
        },
        events: function() {
            var b = this, c = this.S;
            a(this.scope).off(".alert").on("click.fndtn.alert", "[" + this.attr_name() + "] .close", function(a) {
                var d = c(this).closest("[" + b.attr_name() + "]"), e = d.data(b.attr_name(!0) + "-init") || b.settings;
                a.preventDefault(), Modernizr.csstransitions ? (d.addClass("alert-close"), d.on("transitionend webkitTransitionEnd oTransitionEnd", function(a) {
                    c(this).trigger("close.fndtn.alert").remove(), e.callback();
                })) : d.fadeOut(300, function() {
                    c(this).trigger("close.fndtn.alert").remove(), e.callback();
                });
            });
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.clearing = {
        name: "clearing",
        version: "5.5.2",
        settings: {
            templates: {
                viewing: '<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div><img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'
            },
            close_selectors: ".clearing-close, div.clearing-blackout",
            open_selectors: "",
            skip_selector: "",
            touch_label: "",
            init: !1,
            locked: !1
        },
        init: function(a, b, c) {
            var d = this;
            Foundation.inherit(this, "throttle image_loaded"), this.bindings(b, c), d.S(this.scope).is("[" + this.attr_name() + "]") ? this.assemble(d.S("li", this.scope)) : d.S("[" + this.attr_name() + "]", this.scope).each(function() {
                d.assemble(d.S("li", this));
            });
        },
        events: function(d) {
            var e = this, f = e.S, g = a(".scroll-container");
            g.length > 0 && (this.scope = g), f(this.scope).off(".clearing").on("click.fndtn.clearing", "ul[" + this.attr_name() + "] li " + this.settings.open_selectors, function(a, b, c) {
                var b = b || f(this), c = c || b, d = b.next("li"), g = b.closest("[" + e.attr_name() + "]").data(e.attr_name(!0) + "-init"), h = f(a.target);
                a.preventDefault(), g || (e.init(), g = b.closest("[" + e.attr_name() + "]").data(e.attr_name(!0) + "-init")), 
                c.hasClass("visible") && b[0] === c[0] && d.length > 0 && e.is_open(b) && (c = d, 
                h = f("img", c)), e.open(h, b, c), e.update_paddles(c);
            }).on("click.fndtn.clearing", ".clearing-main-next", function(a) {
                e.nav(a, "next");
            }).on("click.fndtn.clearing", ".clearing-main-prev", function(a) {
                e.nav(a, "prev");
            }).on("click.fndtn.clearing", this.settings.close_selectors, function(a) {
                Foundation.libs.clearing.close(a, this);
            }), a(c).on("keydown.fndtn.clearing", function(a) {
                e.keydown(a);
            }), f(b).off(".clearing").on("resize.fndtn.clearing", function() {
                e.resize();
            }), this.swipe_events(d);
        },
        swipe_events: function(a) {
            var b = this, c = b.S;
            c(this.scope).on("touchstart.fndtn.clearing", ".visible-img", function(a) {
                a.touches || (a = a.originalEvent);
                var b = {
                    start_page_x: a.touches[0].pageX,
                    start_page_y: a.touches[0].pageY,
                    start_time: new Date().getTime(),
                    delta_x: 0,
                    is_scrolling: d
                };
                c(this).data("swipe-transition", b), a.stopPropagation();
            }).on("touchmove.fndtn.clearing", ".visible-img", function(a) {
                if (a.touches || (a = a.originalEvent), !(a.touches.length > 1 || a.scale && 1 !== a.scale)) {
                    var d = c(this).data("swipe-transition");
                    if ("undefined" == typeof d && (d = {}), d.delta_x = a.touches[0].pageX - d.start_page_x, 
                    Foundation.rtl && (d.delta_x = -d.delta_x), "undefined" == typeof d.is_scrolling && (d.is_scrolling = !!(d.is_scrolling || Math.abs(d.delta_x) < Math.abs(a.touches[0].pageY - d.start_page_y))), 
                    !d.is_scrolling && !d.active) {
                        a.preventDefault();
                        var e = d.delta_x < 0 ? "next" : "prev";
                        d.active = !0, b.nav(a, e);
                    }
                }
            }).on("touchend.fndtn.clearing", ".visible-img", function(a) {
                c(this).data("swipe-transition", {}), a.stopPropagation();
            });
        },
        assemble: function(b) {
            var c = b.parent();
            if (!c.parent().hasClass("carousel")) {
                c.after('<div id="foundationClearingHolder"></div>');
                var d = c.detach(), e = "";
                if (null != d[0]) {
                    e = d[0].outerHTML;
                    var f = this.S("#foundationClearingHolder"), g = c.data(this.attr_name(!0) + "-init"), h = {
                        grid: '<div class="carousel">' + e + "</div>",
                        viewing: g.templates.viewing
                    }, i = '<div class="clearing-assembled"><div>' + h.viewing + h.grid + "</div></div>", j = this.settings.touch_label;
                    Modernizr.touch && (i = a(i).find(".clearing-touch-label").html(j).end()), f.after(i).remove();
                }
            }
        },
        open: function(b, d, e) {
            function f() {
                setTimeout(function() {
                    this.image_loaded(m, function() {
                        1 !== m.outerWidth() || o ? g.call(this, m) : f.call(this);
                    }.bind(this));
                }.bind(this), 100);
            }
            function g(b) {
                var c = a(b);
                c.css("visibility", "visible"), c.trigger("imageVisible"), i.css("overflow", "hidden"), 
                j.addClass("clearing-blackout"), k.addClass("clearing-container"), l.show(), this.fix_height(e).caption(h.S(".clearing-caption", l), h.S("img", e)).center_and_label(b, n).shift(d, e, function() {
                    e.closest("li").siblings().removeClass("visible"), e.closest("li").addClass("visible");
                }), l.trigger("opened.fndtn.clearing");
            }
            var h = this, i = a(c.body), j = e.closest(".clearing-assembled"), k = h.S("div", j).first(), l = h.S(".visible-img", k), m = h.S("img", l).not(b), n = h.S(".clearing-touch-label", k), o = !1, p = {};
            a("body").on("touchmove", function(a) {
                a.preventDefault();
            }), m.error(function() {
                o = !0;
            }), this.locked() || (l.trigger("open.fndtn.clearing"), p = this.load(b), p.interchange ? m.attr("data-interchange", p.interchange).foundation("interchange", "reflow") : m.attr("src", p.src).attr("data-interchange", ""), 
            m.css("visibility", "hidden"), f.call(this));
        },
        close: function(b, d) {
            b.preventDefault();
            var e, f, g = function(a) {
                return /blackout/.test(a.selector) ? a : a.closest(".clearing-blackout");
            }(a(d)), h = a(c.body);
            return d === b.target && g && (h.css("overflow", ""), e = a("div", g).first(), f = a(".visible-img", e), 
            f.trigger("close.fndtn.clearing"), this.settings.prev_index = 0, a("ul[" + this.attr_name() + "]", g).attr("style", "").closest(".clearing-blackout").removeClass("clearing-blackout"), 
            e.removeClass("clearing-container"), f.hide(), f.trigger("closed.fndtn.clearing")), 
            a("body").off("touchmove"), !1;
        },
        is_open: function(a) {
            return a.parent().prop("style").length > 0;
        },
        keydown: function(b) {
            var c = a(".clearing-blackout ul[" + this.attr_name() + "]"), d = this.rtl ? 37 : 39, e = this.rtl ? 39 : 37, f = 27;
            b.which === d && this.go(c, "next"), b.which === e && this.go(c, "prev"), b.which === f && this.S("a.clearing-close").trigger("click.fndtn.clearing");
        },
        nav: function(b, c) {
            var d = a("ul[" + this.attr_name() + "]", ".clearing-blackout");
            b.preventDefault(), this.go(d, c);
        },
        resize: function() {
            var b = a("img", ".clearing-blackout .visible-img"), c = a(".clearing-touch-label", ".clearing-blackout");
            b.length && (this.center_and_label(b, c), b.trigger("resized.fndtn.clearing"));
        },
        fix_height: function(a) {
            var b = a.parent().children(), c = this;
            return b.each(function() {
                var a = c.S(this), b = a.find("img");
                a.height() > b.outerHeight() && a.addClass("fix-height");
            }).closest("ul").width(100 * b.length + "%"), this;
        },
        update_paddles: function(a) {
            a = a.closest("li");
            var b = a.closest(".carousel").siblings(".visible-img");
            a.next().length > 0 ? this.S(".clearing-main-next", b).removeClass("disabled") : this.S(".clearing-main-next", b).addClass("disabled"), 
            a.prev().length > 0 ? this.S(".clearing-main-prev", b).removeClass("disabled") : this.S(".clearing-main-prev", b).addClass("disabled");
        },
        center_and_label: function(a, b) {
            return b.css(!this.rtl && b.length > 0 ? {
                marginLeft: -(b.outerWidth() / 2),
                marginTop: -(a.outerHeight() / 2) - b.outerHeight() - 10
            } : {
                marginRight: -(b.outerWidth() / 2),
                marginTop: -(a.outerHeight() / 2) - b.outerHeight() - 10,
                left: "auto",
                right: "50%"
            }), this;
        },
        load: function(a) {
            var b, c, d;
            return "A" === a[0].nodeName ? (b = a.attr("href"), c = a.data("clearing-interchange")) : (d = a.closest("a"), 
            b = d.attr("href"), c = d.data("clearing-interchange")), this.preload(a), {
                src: b ? b : a.attr("src"),
                interchange: b ? c : a.data("clearing-interchange")
            };
        },
        preload: function(a) {
            this.img(a.closest("li").next(), "next").img(a.closest("li").prev(), "prev");
        },
        img: function(b, c) {
            if (b.length) {
                var d, e, f, g = a(".clearing-preload-" + c), h = this.S("a", b);
                h.length ? (d = h.attr("href"), e = h.data("clearing-interchange")) : (f = this.S("img", b), 
                d = f.attr("src"), e = f.data("clearing-interchange")), e ? g.attr("data-interchange", e) : (g.attr("src", d), 
                g.attr("data-interchange", ""));
            }
            return this;
        },
        caption: function(a, b) {
            var c = b.attr("data-caption");
            return c ? a.html(c).show() : a.text("").hide(), this;
        },
        go: function(a, b) {
            var c = this.S(".visible", a), d = c[b]();
            this.settings.skip_selector && 0 != d.find(this.settings.skip_selector).length && (d = d[b]()), 
            d.length && this.S("img", d).trigger("click.fndtn.clearing", [ c, d ]).trigger("change.fndtn.clearing");
        },
        shift: function(a, b, c) {
            var d, e = b.parent(), f = this.settings.prev_index || b.index(), g = this.direction(e, a, b), h = this.rtl ? "right" : "left", i = parseInt(e.css("left"), 10), j = b.outerWidth(), k = {};
            b.index() === f || /skip/.test(g) ? /skip/.test(g) && (d = b.index() - this.settings.up_count, 
            this.lock(), d > 0 ? (k[h] = -(d * j), e.animate(k, 300, this.unlock())) : (k[h] = 0, 
            e.animate(k, 300, this.unlock()))) : /left/.test(g) ? (this.lock(), k[h] = i + j, 
            e.animate(k, 300, this.unlock())) : /right/.test(g) && (this.lock(), k[h] = i - j, 
            e.animate(k, 300, this.unlock())), c();
        },
        direction: function(a, b, c) {
            var d, e = this.S("li", a), f = e.outerWidth() + e.outerWidth() / 4, g = Math.floor(this.S(".clearing-container").outerWidth() / f) - 1, h = e.index(c);
            return this.settings.up_count = g, d = this.adjacent(this.settings.prev_index, h) ? h > g && h > this.settings.prev_index ? "right" : h > g - 1 && h <= this.settings.prev_index ? "left" : !1 : "skip", 
            this.settings.prev_index = h, d;
        },
        adjacent: function(a, b) {
            for (var c = b + 1; c >= b - 1; c--) if (c === a) return !0;
            return !1;
        },
        lock: function() {
            this.settings.locked = !0;
        },
        unlock: function() {
            this.settings.locked = !1;
        },
        locked: function() {
            return this.settings.locked;
        },
        off: function() {
            this.S(this.scope).off(".fndtn.clearing"), this.S(b).off(".fndtn.clearing");
        },
        reflow: function() {
            this.init();
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.dropdown = {
        name: "dropdown",
        version: "5.5.2",
        settings: {
            active_class: "open",
            disabled_class: "disabled",
            mega_class: "mega",
            align: "bottom",
            is_hover: !1,
            hover_timeout: 150,
            opened: function() {},
            closed: function() {}
        },
        init: function(b, c, d) {
            Foundation.inherit(this, "throttle"), a.extend(!0, this.settings, c, d), this.bindings(c, d);
        },
        events: function(d) {
            var e = this, f = e.S;
            f(this.scope).off(".dropdown").on("click.fndtn.dropdown", "[" + this.attr_name() + "]", function(b) {
                var c = f(this).data(e.attr_name(!0) + "-init") || e.settings;
                (!c.is_hover || Modernizr.touch) && (b.preventDefault(), f(this).parent("[data-reveal-id]").length && b.stopPropagation(), 
                e.toggle(a(this)));
            }).on("mouseenter.fndtn.dropdown", "[" + this.attr_name() + "], [" + this.attr_name() + "-content]", function(a) {
                var b, c, d = f(this);
                clearTimeout(e.timeout), d.data(e.data_attr()) ? (b = f("#" + d.data(e.data_attr())), 
                c = d) : (b = d, c = f("[" + e.attr_name() + '="' + b.attr("id") + '"]'));
                var g = c.data(e.attr_name(!0) + "-init") || e.settings;
                f(a.currentTarget).data(e.data_attr()) && g.is_hover && e.closeall.call(e), g.is_hover && e.open.apply(e, [ b, c ]);
            }).on("mouseleave.fndtn.dropdown", "[" + this.attr_name() + "], [" + this.attr_name() + "-content]", function(a) {
                var b, c = f(this);
                if (c.data(e.data_attr())) b = c.data(e.data_attr(!0) + "-init") || e.settings; else var d = f("[" + e.attr_name() + '="' + f(this).attr("id") + '"]'), b = d.data(e.attr_name(!0) + "-init") || e.settings;
                e.timeout = setTimeout(function() {
                    c.data(e.data_attr()) ? b.is_hover && e.close.call(e, f("#" + c.data(e.data_attr()))) : b.is_hover && e.close.call(e, c);
                }.bind(this), b.hover_timeout);
            }).on("click.fndtn.dropdown", function(b) {
                var d = f(b.target).closest("[" + e.attr_name() + "-content]"), g = d.find("a");
                return g.length > 0 && "false" !== d.attr("aria-autoclose") && e.close.call(e, f("[" + e.attr_name() + "-content]")), 
                b.target !== c && !a.contains(c.documentElement, b.target) || f(b.target).closest("[" + e.attr_name() + "]").length > 0 ? void 0 : !f(b.target).data("revealId") && d.length > 0 && (f(b.target).is("[" + e.attr_name() + "-content]") || a.contains(d.first()[0], b.target)) ? void b.stopPropagation() : void e.close.call(e, f("[" + e.attr_name() + "-content]"));
            }).on("opened.fndtn.dropdown", "[" + e.attr_name() + "-content]", function() {
                e.settings.opened.call(this);
            }).on("closed.fndtn.dropdown", "[" + e.attr_name() + "-content]", function() {
                e.settings.closed.call(this);
            }), f(b).off(".dropdown").on("resize.fndtn.dropdown", e.throttle(function() {
                e.resize.call(e);
            }, 50)), this.resize();
        },
        close: function(b) {
            var c = this;
            b.each(function(d) {
                var e = a("[" + c.attr_name() + "=" + b[d].id + "]") || a("aria-controls=" + b[d].id + "]");
                e.attr("aria-expanded", "false"), c.S(this).hasClass(c.settings.active_class) && (c.S(this).css(Foundation.rtl ? "right" : "left", "-99999px").attr("aria-hidden", "true").removeClass(c.settings.active_class).prev("[" + c.attr_name() + "]").removeClass(c.settings.active_class).removeData("target"), 
                c.S(this).trigger("closed.fndtn.dropdown", [ b ]));
            }), b.removeClass("f-open-" + this.attr_name(!0));
        },
        closeall: function() {
            var b = this;
            a.each(b.S(".f-open-" + this.attr_name(!0)), function() {
                b.close.call(b, b.S(this));
            });
        },
        open: function(a, b) {
            this.css(a.addClass(this.settings.active_class), b), a.prev("[" + this.attr_name() + "]").addClass(this.settings.active_class), 
            a.data("target", b.get(0)).trigger("opened.fndtn.dropdown", [ a, b ]), a.attr("aria-hidden", "false"), 
            b.attr("aria-expanded", "true"), a.focus(), a.addClass("f-open-" + this.attr_name(!0));
        },
        data_attr: function() {
            return this.namespace.length > 0 ? this.namespace + "-" + this.name : this.name;
        },
        toggle: function(a) {
            if (!a.hasClass(this.settings.disabled_class)) {
                var b = this.S("#" + a.data(this.data_attr()));
                0 !== b.length && (this.close.call(this, this.S("[" + this.attr_name() + "-content]").not(b)), 
                b.hasClass(this.settings.active_class) ? (this.close.call(this, b), b.data("target") !== a.get(0) && this.open.call(this, b, a)) : this.open.call(this, b, a));
            }
        },
        resize: function() {
            var b = this.S("[" + this.attr_name() + "-content].open"), c = a(b.data("target"));
            b.length && c.length && this.css(b, c);
        },
        css: function(a, b) {
            var c = Math.max((b.width() - a.width()) / 2, 8), d = b.data(this.attr_name(!0) + "-init") || this.settings, e = a.parent().css("overflow-y") || a.parent().css("overflow");
            if (this.clear_idx(), this.small()) {
                var f = this.dirs.bottom.call(a, b, d);
                a.attr("style", "").removeClass("drop-left drop-right drop-top").css({
                    position: "absolute",
                    width: "95%",
                    "max-width": "none",
                    top: f.top
                }), a.css(Foundation.rtl ? "right" : "left", c);
            } else if ("visible" !== e) {
                var g = b[0].offsetTop + b[0].offsetHeight;
                a.attr("style", "").css({
                    position: "absolute",
                    top: g
                }), a.css(Foundation.rtl ? "right" : "left", c);
            } else this.style(a, b, d);
            return a;
        },
        style: function(b, c, d) {
            var e = a.extend({
                position: "absolute"
            }, this.dirs[d.align].call(b, c, d));
            b.attr("style", "").css(e);
        },
        dirs: {
            _base: function(a) {
                var d = this.offsetParent(), e = d.offset(), f = a.offset();
                f.top -= e.top, f.left -= e.left, f.missRight = !1, f.missTop = !1, f.missLeft = !1, 
                f.leftRightFlag = !1;
                var g;
                g = c.getElementsByClassName("row")[0] ? c.getElementsByClassName("row")[0].clientWidth : b.innerWidth;
                var h = (b.innerWidth - g) / 2, i = g;
                return this.hasClass("mega") || (a.offset().top <= this.outerHeight() && (f.missTop = !0, 
                i = b.innerWidth - h, f.leftRightFlag = !0), a.offset().left + this.outerWidth() > a.offset().left + h && a.offset().left - h > this.outerWidth() && (f.missRight = !0, 
                f.missLeft = !1), a.offset().left - this.outerWidth() <= 0 && (f.missLeft = !0, 
                f.missRight = !1)), f;
            },
            top: function(a, b) {
                var c = Foundation.libs.dropdown, d = c.dirs._base.call(this, a);
                return this.addClass("drop-top"), 1 == d.missTop && (d.top = d.top + a.outerHeight() + this.outerHeight(), 
                this.removeClass("drop-top")), 1 == d.missRight && (d.left = d.left - this.outerWidth() + a.outerWidth()), 
                (a.outerWidth() < this.outerWidth() || c.small() || this.hasClass(b.mega_menu)) && c.adjust_pip(this, a, b, d), 
                Foundation.rtl ? {
                    left: d.left - this.outerWidth() + a.outerWidth(),
                    top: d.top - this.outerHeight()
                } : {
                    left: d.left,
                    top: d.top - this.outerHeight()
                };
            },
            bottom: function(a, b) {
                var c = Foundation.libs.dropdown, d = c.dirs._base.call(this, a);
                return 1 == d.missRight && (d.left = d.left - this.outerWidth() + a.outerWidth()), 
                (a.outerWidth() < this.outerWidth() || c.small() || this.hasClass(b.mega_menu)) && c.adjust_pip(this, a, b, d), 
                c.rtl ? {
                    left: d.left - this.outerWidth() + a.outerWidth(),
                    top: d.top + a.outerHeight()
                } : {
                    left: d.left,
                    top: d.top + a.outerHeight()
                };
            },
            left: function(a, b) {
                var c = Foundation.libs.dropdown.dirs._base.call(this, a);
                return this.addClass("drop-left"), 1 == c.missLeft && (c.left = c.left + this.outerWidth(), 
                c.top = c.top + a.outerHeight(), this.removeClass("drop-left")), {
                    left: c.left - this.outerWidth(),
                    top: c.top
                };
            },
            right: function(a, b) {
                var c = Foundation.libs.dropdown.dirs._base.call(this, a);
                this.addClass("drop-right"), 1 == c.missRight ? (c.left = c.left - this.outerWidth(), 
                c.top = c.top + a.outerHeight(), this.removeClass("drop-right")) : c.triggeredRight = !0;
                var d = Foundation.libs.dropdown;
                return (a.outerWidth() < this.outerWidth() || d.small() || this.hasClass(b.mega_menu)) && d.adjust_pip(this, a, b, c), 
                {
                    left: c.left + a.outerWidth(),
                    top: c.top
                };
            }
        },
        adjust_pip: function(a, b, c, d) {
            var e = Foundation.stylesheet, f = 8;
            a.hasClass(c.mega_class) ? f = d.left + b.outerWidth() / 2 - 8 : this.small() && (f += d.left - 8), 
            this.rule_idx = e.cssRules.length;
            var g = ".f-dropdown.open:before", h = ".f-dropdown.open:after", i = "left: " + f + "px;", j = "left: " + (f - 1) + "px;";
            1 == d.missRight && (f = a.outerWidth() - 23, g = ".f-dropdown.open:before", h = ".f-dropdown.open:after", 
            i = "left: " + f + "px;", j = "left: " + (f - 1) + "px;"), 1 == d.triggeredRight && (g = ".f-dropdown.open:before", 
            h = ".f-dropdown.open:after", i = "left:-12px;", j = "left:-14px;"), e.insertRule ? (e.insertRule([ g, "{", i, "}" ].join(" "), this.rule_idx), 
            e.insertRule([ h, "{", j, "}" ].join(" "), this.rule_idx + 1)) : (e.addRule(g, i, this.rule_idx), 
            e.addRule(h, j, this.rule_idx + 1));
        },
        clear_idx: function() {
            var a = Foundation.stylesheet;
            "undefined" != typeof this.rule_idx && (a.deleteRule(this.rule_idx), a.deleteRule(this.rule_idx), 
            delete this.rule_idx);
        },
        small: function() {
            return matchMedia(Foundation.media_queries.small).matches && !matchMedia(Foundation.media_queries.medium).matches;
        },
        off: function() {
            this.S(this.scope).off(".fndtn.dropdown"), this.S("html, body").off(".fndtn.dropdown"), 
            this.S(b).off(".fndtn.dropdown"), this.S("[data-dropdown-content]").off(".fndtn.dropdown");
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.equalizer = {
        name: "equalizer",
        version: "5.5.2",
        settings: {
            use_tallest: !0,
            before_height_change: a.noop,
            after_height_change: a.noop,
            equalize_on_stack: !1,
            act_on_hidden_el: !1
        },
        init: function(a, b, c) {
            Foundation.inherit(this, "image_loaded"), this.bindings(b, c), this.reflow();
        },
        events: function() {
            this.S(b).off(".equalizer").on("resize.fndtn.equalizer", function(a) {
                this.reflow();
            }.bind(this));
        },
        equalize: function(b) {
            var c, d, e = !1, f = b.data("equalizer"), g = b.data(this.attr_name(!0) + "-init") || this.settings;
            if (c = b.find(g.act_on_hidden_el ? f ? "[" + this.attr_name() + '-watch="' + f + '"]' : "[" + this.attr_name() + "-watch]" : f ? "[" + this.attr_name() + '-watch="' + f + '"]:visible' : "[" + this.attr_name() + "-watch]:visible"), 
            0 !== c.length && (g.before_height_change(), b.trigger("before-height-change.fndth.equalizer"), 
            c.height("inherit"), g.equalize_on_stack !== !1 || (d = c.first().offset().top, 
            c.each(function() {
                return a(this).offset().top !== d ? (e = !0, !1) : void 0;
            }), !e))) {
                var h = c.map(function() {
                    return a(this).outerHeight(!1);
                }).get();
                if (g.use_tallest) {
                    var i = Math.max.apply(null, h);
                    c.css("height", i);
                } else {
                    var j = Math.min.apply(null, h);
                    c.css("height", j);
                }
                g.after_height_change(), b.trigger("after-height-change.fndtn.equalizer");
            }
        },
        reflow: function() {
            var b = this;
            this.S("[" + this.attr_name() + "]", this.scope).each(function() {
                var c = a(this), d = c.data("equalizer-mq"), e = !0;
                d && (d = "is_" + d.replace(/-/g, "_"), Foundation.utils.hasOwnProperty(d) && (e = !1)), 
                b.image_loaded(b.S("img", this), function() {
                    if (e || Foundation.utils[d]()) b.equalize(c); else {
                        var a = c.find("[" + b.attr_name() + "-watch]:visible");
                        a.css("height", "auto");
                    }
                });
            });
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.interchange = {
        name: "interchange",
        version: "5.5.2",
        cache: {},
        images_loaded: !1,
        nodes_loaded: !1,
        settings: {
            load_attr: "interchange",
            named_queries: {
                "default": "only screen",
                small: Foundation.media_queries.small,
                "small-only": Foundation.media_queries["small-only"],
                medium: Foundation.media_queries.medium,
                "medium-only": Foundation.media_queries["medium-only"],
                large: Foundation.media_queries.large,
                "large-only": Foundation.media_queries["large-only"],
                xlarge: Foundation.media_queries.xlarge,
                "xlarge-only": Foundation.media_queries["xlarge-only"],
                xxlarge: Foundation.media_queries.xxlarge,
                landscape: "only screen and (orientation: landscape)",
                portrait: "only screen and (orientation: portrait)",
                retina: "only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"
            },
            directives: {
                replace: function(b, c, d) {
                    if (null !== b && /IMG/.test(b[0].nodeName)) {
                        var e = b[0].src;
                        if (new RegExp(c, "i").test(e)) return;
                        return b.attr("src", c), d(b[0].src);
                    }
                    var f = b.data(this.data_attr + "-last-path"), g = this;
                    if (f != c) return /\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(c) ? (a(b).css("background-image", "url(" + c + ")"), 
                    b.data("interchange-last-path", c), d(c)) : a.get(c, function(a) {
                        b.html(a), b.data(g.data_attr + "-last-path", c), d();
                    });
                }
            }
        },
        init: function(b, c, d) {
            Foundation.inherit(this, "throttle random_str"), this.data_attr = this.set_data_attr(), 
            a.extend(!0, this.settings, c, d), this.bindings(c, d), this.reflow();
        },
        get_media_hash: function() {
            var a = "";
            for (var b in this.settings.named_queries) a += matchMedia(this.settings.named_queries[b]).matches.toString();
            return a;
        },
        events: function() {
            var c, d = this;
            return a(b).off(".interchange").on("resize.fndtn.interchange", d.throttle(function() {
                var a = d.get_media_hash();
                a !== c && d.resize(), c = a;
            }, 50)), this;
        },
        resize: function() {
            var b = this.cache;
            if (!this.images_loaded || !this.nodes_loaded) return void setTimeout(a.proxy(this.resize, this), 50);
            for (var c in b) if (b.hasOwnProperty(c)) {
                var d = this.results(c, b[c]);
                d && this.settings.directives[d.scenario[1]].call(this, d.el, d.scenario[0], function(a) {
                    if (arguments[0] instanceof Array) var b = arguments[0]; else var b = Array.prototype.slice.call(arguments, 0);
                    return function() {
                        a.el.trigger(a.scenario[1], b);
                    };
                }(d));
            }
        },
        results: function(a, b) {
            var c = b.length;
            if (c > 0) for (var d = this.S("[" + this.add_namespace("data-uuid") + '="' + a + '"]'); c--; ) {
                var e, f = b[c][2];
                if (e = matchMedia(this.settings.named_queries.hasOwnProperty(f) ? this.settings.named_queries[f] : f), 
                e.matches) return {
                    el: d,
                    scenario: b[c]
                };
            }
            return !1;
        },
        load: function(a, b) {
            return ("undefined" == typeof this["cached_" + a] || b) && this["update_" + a](), 
            this["cached_" + a];
        },
        update_images: function() {
            var a = this.S("img[" + this.data_attr + "]"), b = a.length, c = b, d = 0, e = this.data_attr;
            for (this.cache = {}, this.cached_images = [], this.images_loaded = 0 === b; c--; ) {
                if (d++, a[c]) {
                    var f = a[c].getAttribute(e) || "";
                    f.length > 0 && this.cached_images.push(a[c]);
                }
                d === b && (this.images_loaded = !0, this.enhance("images"));
            }
            return this;
        },
        update_nodes: function() {
            var a = this.S("[" + this.data_attr + "]").not("img"), b = a.length, c = b, d = 0, e = this.data_attr;
            for (this.cached_nodes = [], this.nodes_loaded = 0 === b; c--; ) {
                d++;
                var f = a[c].getAttribute(e) || "";
                f.length > 0 && this.cached_nodes.push(a[c]), d === b && (this.nodes_loaded = !0, 
                this.enhance("nodes"));
            }
            return this;
        },
        enhance: function(c) {
            for (var d = this["cached_" + c].length; d--; ) this.object(a(this["cached_" + c][d]));
            return a(b).trigger("resize.fndtn.interchange");
        },
        convert_directive: function(a) {
            var b = this.trim(a);
            return b.length > 0 ? b : "replace";
        },
        parse_scenario: function(a) {
            var b = a[0].match(/(.+),\s*(\w+)\s*$/), c = a[1].match(/(.*)\)/);
            if (b) var d = b[1], e = b[2]; else var f = a[0].split(/,\s*$/), d = f[0], e = "";
            return [ this.trim(d), this.convert_directive(e), this.trim(c[1]) ];
        },
        object: function(a) {
            var b = this.parse_data_attr(a), c = [], d = b.length;
            if (d > 0) for (;d--; ) {
                var e = b[d].split(/,\s?\(/);
                if (e.length > 1) {
                    var f = this.parse_scenario(e);
                    c.push(f);
                }
            }
            return this.store(a, c);
        },
        store: function(a, b) {
            var c = this.random_str(), d = a.data(this.add_namespace("uuid", !0));
            return this.cache[d] ? this.cache[d] : (a.attr(this.add_namespace("data-uuid"), c), 
            this.cache[c] = b);
        },
        trim: function(b) {
            return "string" == typeof b ? a.trim(b) : b;
        },
        set_data_attr: function(a) {
            return a ? this.namespace.length > 0 ? this.namespace + "-" + this.settings.load_attr : this.settings.load_attr : this.namespace.length > 0 ? "data-" + this.namespace + "-" + this.settings.load_attr : "data-" + this.settings.load_attr;
        },
        parse_data_attr: function(a) {
            for (var b = a.attr(this.attr_name()).split(/\[(.*?)\]/), c = b.length, d = []; c--; ) b[c].replace(/[\W\d]+/, "").length > 4 && d.push(b[c]);
            return d;
        },
        reflow: function() {
            this.load("images", !0), this.load("nodes", !0);
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.joyride = {
        name: "joyride",
        version: "5.5.2",
        defaults: {
            expose: !1,
            modal: !0,
            keyboard: !0,
            tip_location: "bottom",
            nub_position: "auto",
            scroll_speed: 1500,
            scroll_animation: "linear",
            timer: 0,
            start_timer_on_click: !0,
            start_offset: 0,
            next_button: !0,
            prev_button: !0,
            tip_animation: "fade",
            pause_after: [],
            exposed: [],
            tip_animation_fade_speed: 300,
            cookie_monster: !1,
            cookie_name: "joyride",
            cookie_domain: !1,
            cookie_expires: 365,
            tip_container: "body",
            abort_on_close: !0,
            tip_location_patterns: {
                top: [ "bottom" ],
                bottom: [],
                left: [ "right", "top", "bottom" ],
                right: [ "left", "top", "bottom" ]
            },
            post_ride_callback: function() {},
            post_step_callback: function() {},
            pre_step_callback: function() {},
            pre_ride_callback: function() {},
            post_expose_callback: function() {},
            template: {
                link: '<a href="#close" class="joyride-close-tip">&times;</a>',
                timer: '<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',
                tip: '<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',
                wrapper: '<div class="joyride-content-wrapper"></div>',
                button: '<a href="#" class="small button joyride-next-tip"></a>',
                prev_button: '<a href="#" class="small button joyride-prev-tip"></a>',
                modal: '<div class="joyride-modal-bg"></div>',
                expose: '<div class="joyride-expose-wrapper"></div>',
                expose_cover: '<div class="joyride-expose-cover"></div>'
            },
            expose_add_class: ""
        },
        init: function(b, c, d) {
            Foundation.inherit(this, "throttle random_str"), this.settings = this.settings || a.extend({}, this.defaults, d || c), 
            this.bindings(c, d);
        },
        go_next: function() {
            this.settings.$li.next().length < 1 ? this.end() : this.settings.timer > 0 ? (clearTimeout(this.settings.automate), 
            this.hide(), this.show(), this.startTimer()) : (this.hide(), this.show());
        },
        go_prev: function() {
            this.settings.$li.prev().length < 1 || (this.settings.timer > 0 ? (clearTimeout(this.settings.automate), 
            this.hide(), this.show(null, !0), this.startTimer()) : (this.hide(), this.show(null, !0)));
        },
        events: function() {
            var c = this;
            a(this.scope).off(".joyride").on("click.fndtn.joyride", ".joyride-next-tip, .joyride-modal-bg", function(a) {
                a.preventDefault(), this.go_next();
            }.bind(this)).on("click.fndtn.joyride", ".joyride-prev-tip", function(a) {
                a.preventDefault(), this.go_prev();
            }.bind(this)).on("click.fndtn.joyride", ".joyride-close-tip", function(a) {
                a.preventDefault(), this.end(this.settings.abort_on_close);
            }.bind(this)).on("keyup.fndtn.joyride", function(a) {
                if (this.settings.keyboard && this.settings.riding) switch (a.which) {
                  case 39:
                    a.preventDefault(), this.go_next();
                    break;

                  case 37:
                    a.preventDefault(), this.go_prev();
                    break;

                  case 27:
                    a.preventDefault(), this.end(this.settings.abort_on_close);
                }
            }.bind(this)), a(b).off(".joyride").on("resize.fndtn.joyride", c.throttle(function() {
                if (a("[" + c.attr_name() + "]").length > 0 && c.settings.$next_tip && c.settings.riding) {
                    if (c.settings.exposed.length > 0) {
                        var b = a(c.settings.exposed);
                        b.each(function() {
                            var b = a(this);
                            c.un_expose(b), c.expose(b);
                        });
                    }
                    c.is_phone() ? c.pos_phone() : c.pos_default(!1);
                }
            }, 100));
        },
        start: function() {
            var b = this, c = a("[" + this.attr_name() + "]", this.scope), d = [ "timer", "scrollSpeed", "startOffset", "tipAnimationFadeSpeed", "cookieExpires" ], e = d.length;
            !c.length > 0 || (this.settings.init || this.events(), this.settings = c.data(this.attr_name(!0) + "-init"), 
            this.settings.$content_el = c, this.settings.$body = a(this.settings.tip_container), 
            this.settings.body_offset = a(this.settings.tip_container).position(), this.settings.$tip_content = this.settings.$content_el.find("> li"), 
            this.settings.paused = !1, this.settings.attempts = 0, this.settings.riding = !0, 
            "function" != typeof a.cookie && (this.settings.cookie_monster = !1), (!this.settings.cookie_monster || this.settings.cookie_monster && !a.cookie(this.settings.cookie_name)) && (this.settings.$tip_content.each(function(c) {
                var f = a(this);
                this.settings = a.extend({}, b.defaults, b.data_options(f));
                for (var g = e; g--; ) b.settings[d[g]] = parseInt(b.settings[d[g]], 10);
                b.create({
                    $li: f,
                    index: c
                });
            }), !this.settings.start_timer_on_click && this.settings.timer > 0 ? (this.show("init"), 
            this.startTimer()) : this.show("init")));
        },
        resume: function() {
            this.set_li(), this.show();
        },
        tip_template: function(b) {
            var c, d;
            return b.tip_class = b.tip_class || "", c = a(this.settings.template.tip).addClass(b.tip_class), 
            d = a.trim(a(b.li).html()) + this.prev_button_text(b.prev_button_text, b.index) + this.button_text(b.button_text) + this.settings.template.link + this.timer_instance(b.index), 
            c.append(a(this.settings.template.wrapper)), c.first().attr(this.add_namespace("data-index"), b.index), 
            a(".joyride-content-wrapper", c).append(d), c[0];
        },
        timer_instance: function(b) {
            var c;
            return c = 0 === b && this.settings.start_timer_on_click && this.settings.timer > 0 || 0 === this.settings.timer ? "" : a(this.settings.template.timer)[0].outerHTML;
        },
        button_text: function(b) {
            return this.settings.tip_settings.next_button ? (b = a.trim(b) || "Next", b = a(this.settings.template.button).append(b)[0].outerHTML) : b = "", 
            b;
        },
        prev_button_text: function(b, c) {
            return this.settings.tip_settings.prev_button ? (b = a.trim(b) || "Previous", b = 0 == c ? a(this.settings.template.prev_button).append(b).addClass("disabled")[0].outerHTML : a(this.settings.template.prev_button).append(b)[0].outerHTML) : b = "", 
            b;
        },
        create: function(b) {
            this.settings.tip_settings = a.extend({}, this.settings, this.data_options(b.$li));
            var c = b.$li.attr(this.add_namespace("data-button")) || b.$li.attr(this.add_namespace("data-text")), d = b.$li.attr(this.add_namespace("data-button-prev")) || b.$li.attr(this.add_namespace("data-prev-text")), e = b.$li.attr("class"), f = a(this.tip_template({
                tip_class: e,
                index: b.index,
                button_text: c,
                prev_button_text: d,
                li: b.$li
            }));
            a(this.settings.tip_container).append(f);
        },
        show: function(b, c) {
            var e = null;
            if (this.settings.$li === d || -1 === a.inArray(this.settings.$li.index(), this.settings.pause_after)) if (this.settings.paused ? this.settings.paused = !1 : this.set_li(b, c), 
            this.settings.attempts = 0, this.settings.$li.length && this.settings.$target.length > 0) {
                if (b && (this.settings.pre_ride_callback(this.settings.$li.index(), this.settings.$next_tip), 
                this.settings.modal && this.show_modal()), this.settings.pre_step_callback(this.settings.$li.index(), this.settings.$next_tip), 
                this.settings.modal && this.settings.expose && this.expose(), this.settings.tip_settings = a.extend({}, this.settings, this.data_options(this.settings.$li)), 
                this.settings.timer = parseInt(this.settings.timer, 10), this.settings.tip_settings.tip_location_pattern = this.settings.tip_location_patterns[this.settings.tip_settings.tip_location], 
                !/body/i.test(this.settings.$target.selector)) {
                    var f = a(".joyride-modal-bg");
                    /pop/i.test(this.settings.tipAnimation) ? f.hide() : f.fadeOut(this.settings.tipAnimationFadeSpeed), 
                    this.scroll_to();
                }
                this.is_phone() ? this.pos_phone(!0) : this.pos_default(!0), e = this.settings.$next_tip.find(".joyride-timer-indicator"), 
                /pop/i.test(this.settings.tip_animation) ? (e.width(0), this.settings.timer > 0 ? (this.settings.$next_tip.show(), 
                setTimeout(function() {
                    e.animate({
                        width: e.parent().width()
                    }, this.settings.timer, "linear");
                }.bind(this), this.settings.tip_animation_fade_speed)) : this.settings.$next_tip.show()) : /fade/i.test(this.settings.tip_animation) && (e.width(0), 
                this.settings.timer > 0 ? (this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(), 
                setTimeout(function() {
                    e.animate({
                        width: e.parent().width()
                    }, this.settings.timer, "linear");
                }.bind(this), this.settings.tip_animation_fade_speed)) : this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)), 
                this.settings.$current_tip = this.settings.$next_tip;
            } else this.settings.$li && this.settings.$target.length < 1 ? this.show(b, c) : this.end(); else this.settings.paused = !0;
        },
        is_phone: function() {
            return matchMedia(Foundation.media_queries.small).matches && !matchMedia(Foundation.media_queries.medium).matches;
        },
        hide: function() {
            this.settings.modal && this.settings.expose && this.un_expose(), this.settings.modal || a(".joyride-modal-bg").hide(), 
            this.settings.$current_tip.css("visibility", "hidden"), setTimeout(a.proxy(function() {
                this.hide(), this.css("visibility", "visible");
            }, this.settings.$current_tip), 0), this.settings.post_step_callback(this.settings.$li.index(), this.settings.$current_tip);
        },
        set_li: function(a, b) {
            a ? (this.settings.$li = this.settings.$tip_content.eq(this.settings.start_offset), 
            this.set_next_tip(), this.settings.$current_tip = this.settings.$next_tip) : (b ? this.settings.$li = this.settings.$li.prev() : this.settings.$li = this.settings.$li.next(), 
            this.set_next_tip()), this.set_target();
        },
        set_next_tip: function() {
            this.settings.$next_tip = a(".joyride-tip-guide").eq(this.settings.$li.index()), 
            this.settings.$next_tip.data("closed", "");
        },
        set_target: function() {
            var b = this.settings.$li.attr(this.add_namespace("data-class")), d = this.settings.$li.attr(this.add_namespace("data-id")), e = function() {
                return d ? a(c.getElementById(d)) : b ? a("." + b).first() : a("body");
            };
            this.settings.$target = e();
        },
        scroll_to: function() {
            var c, d;
            c = a(b).height() / 2, d = Math.ceil(this.settings.$target.offset().top - c + this.settings.$next_tip.outerHeight()), 
            0 != d && a("html, body").stop().animate({
                scrollTop: d
            }, this.settings.scroll_speed, "swing");
        },
        paused: function() {
            return -1 === a.inArray(this.settings.$li.index() + 1, this.settings.pause_after);
        },
        restart: function() {
            this.hide(), this.settings.$li = d, this.show("init");
        },
        pos_default: function(a) {
            var b = this.settings.$next_tip.find(".joyride-nub"), c = Math.ceil(b.outerWidth() / 2), d = Math.ceil(b.outerHeight() / 2), e = a || !1;
            if (e && (this.settings.$next_tip.css("visibility", "hidden"), this.settings.$next_tip.show()), 
            /body/i.test(this.settings.$target.selector)) this.settings.$li.length && this.pos_modal(b); else {
                var f = this.settings.tip_settings.tipAdjustmentY ? parseInt(this.settings.tip_settings.tipAdjustmentY) : 0, g = this.settings.tip_settings.tipAdjustmentX ? parseInt(this.settings.tip_settings.tipAdjustmentX) : 0;
                this.bottom() ? (this.settings.$next_tip.css(this.rtl ? {
                    top: this.settings.$target.offset().top + d + this.settings.$target.outerHeight() + f,
                    left: this.settings.$target.offset().left + this.settings.$target.outerWidth() - this.settings.$next_tip.outerWidth() + g
                } : {
                    top: this.settings.$target.offset().top + d + this.settings.$target.outerHeight() + f,
                    left: this.settings.$target.offset().left + g
                }), this.nub_position(b, this.settings.tip_settings.nub_position, "top")) : this.top() ? (this.settings.$next_tip.css(this.rtl ? {
                    top: this.settings.$target.offset().top - this.settings.$next_tip.outerHeight() - d + f,
                    left: this.settings.$target.offset().left + this.settings.$target.outerWidth() - this.settings.$next_tip.outerWidth()
                } : {
                    top: this.settings.$target.offset().top - this.settings.$next_tip.outerHeight() - d + f,
                    left: this.settings.$target.offset().left + g
                }), this.nub_position(b, this.settings.tip_settings.nub_position, "bottom")) : this.right() ? (this.settings.$next_tip.css({
                    top: this.settings.$target.offset().top + f,
                    left: this.settings.$target.outerWidth() + this.settings.$target.offset().left + c + g
                }), this.nub_position(b, this.settings.tip_settings.nub_position, "left")) : this.left() && (this.settings.$next_tip.css({
                    top: this.settings.$target.offset().top + f,
                    left: this.settings.$target.offset().left - this.settings.$next_tip.outerWidth() - c + g
                }), this.nub_position(b, this.settings.tip_settings.nub_position, "right")), !this.visible(this.corners(this.settings.$next_tip)) && this.settings.attempts < this.settings.tip_settings.tip_location_pattern.length && (b.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"), 
                this.settings.tip_settings.tip_location = this.settings.tip_settings.tip_location_pattern[this.settings.attempts], 
                this.settings.attempts++, this.pos_default());
            }
            e && (this.settings.$next_tip.hide(), this.settings.$next_tip.css("visibility", "visible"));
        },
        pos_phone: function(b) {
            var c = this.settings.$next_tip.outerHeight(), d = (this.settings.$next_tip.offset(), 
            this.settings.$target.outerHeight()), e = a(".joyride-nub", this.settings.$next_tip), f = Math.ceil(e.outerHeight() / 2), g = b || !1;
            e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"), 
            g && (this.settings.$next_tip.css("visibility", "hidden"), this.settings.$next_tip.show()), 
            /body/i.test(this.settings.$target.selector) ? this.settings.$li.length && this.pos_modal(e) : this.top() ? (this.settings.$next_tip.offset({
                top: this.settings.$target.offset().top - c - f
            }), e.addClass("bottom")) : (this.settings.$next_tip.offset({
                top: this.settings.$target.offset().top + d + f
            }), e.addClass("top")), g && (this.settings.$next_tip.hide(), this.settings.$next_tip.css("visibility", "visible"));
        },
        pos_modal: function(a) {
            this.center(), a.hide(), this.show_modal();
        },
        show_modal: function() {
            if (!this.settings.$next_tip.data("closed")) {
                var b = a(".joyride-modal-bg");
                if (b.length < 1) {
                    var b = a(this.settings.template.modal);
                    b.appendTo("body");
                }
                /pop/i.test(this.settings.tip_animation) ? b.show() : b.fadeIn(this.settings.tip_animation_fade_speed);
            }
        },
        expose: function() {
            var c, d, e, f, g, h = "expose-" + this.random_str(6);
            if (arguments.length > 0 && arguments[0] instanceof a) e = arguments[0]; else {
                if (!this.settings.$target || /body/i.test(this.settings.$target.selector)) return !1;
                e = this.settings.$target;
            }
            return e.length < 1 ? (b.console && console.error("element not valid", e), !1) : (c = a(this.settings.template.expose), 
            this.settings.$body.append(c), c.css({
                top: e.offset().top,
                left: e.offset().left,
                width: e.outerWidth(!0),
                height: e.outerHeight(!0)
            }), d = a(this.settings.template.expose_cover), f = {
                zIndex: e.css("z-index"),
                position: e.css("position")
            }, g = null == e.attr("class") ? "" : e.attr("class"), e.css("z-index", parseInt(c.css("z-index")) + 1), 
            "static" == f.position && e.css("position", "relative"), e.data("expose-css", f), 
            e.data("orig-class", g), e.attr("class", g + " " + this.settings.expose_add_class), 
            d.css({
                top: e.offset().top,
                left: e.offset().left,
                width: e.outerWidth(!0),
                height: e.outerHeight(!0)
            }), this.settings.modal && this.show_modal(), this.settings.$body.append(d), c.addClass(h), 
            d.addClass(h), e.data("expose", h), this.settings.post_expose_callback(this.settings.$li.index(), this.settings.$next_tip, e), 
            void this.add_exposed(e));
        },
        un_expose: function() {
            var c, d, e, f, g, h = !1;
            if (arguments.length > 0 && arguments[0] instanceof a) d = arguments[0]; else {
                if (!this.settings.$target || /body/i.test(this.settings.$target.selector)) return !1;
                d = this.settings.$target;
            }
            return d.length < 1 ? (b.console && console.error("element not valid", d), !1) : (c = d.data("expose"), 
            e = a("." + c), arguments.length > 1 && (h = arguments[1]), h === !0 ? a(".joyride-expose-wrapper,.joyride-expose-cover").remove() : e.remove(), 
            f = d.data("expose-css"), "auto" == f.zIndex ? d.css("z-index", "") : d.css("z-index", f.zIndex), 
            f.position != d.css("position") && ("static" == f.position ? d.css("position", "") : d.css("position", f.position)), 
            g = d.data("orig-class"), d.attr("class", g), d.removeData("orig-classes"), d.removeData("expose"), 
            d.removeData("expose-z-index"), void this.remove_exposed(d));
        },
        add_exposed: function(b) {
            this.settings.exposed = this.settings.exposed || [], b instanceof a || "object" == typeof b ? this.settings.exposed.push(b[0]) : "string" == typeof b && this.settings.exposed.push(b);
        },
        remove_exposed: function(b) {
            var c, d;
            for (b instanceof a ? c = b[0] : "string" == typeof b && (c = b), this.settings.exposed = this.settings.exposed || [], 
            d = this.settings.exposed.length; d--; ) if (this.settings.exposed[d] == c) return void this.settings.exposed.splice(d, 1);
        },
        center: function() {
            var c = a(b);
            return this.settings.$next_tip.css({
                top: (c.height() - this.settings.$next_tip.outerHeight()) / 2 + c.scrollTop(),
                left: (c.width() - this.settings.$next_tip.outerWidth()) / 2 + c.scrollLeft()
            }), !0;
        },
        bottom: function() {
            return /bottom/i.test(this.settings.tip_settings.tip_location);
        },
        top: function() {
            return /top/i.test(this.settings.tip_settings.tip_location);
        },
        right: function() {
            return /right/i.test(this.settings.tip_settings.tip_location);
        },
        left: function() {
            return /left/i.test(this.settings.tip_settings.tip_location);
        },
        corners: function(c) {
            var d = a(b), e = d.height() / 2, f = Math.ceil(this.settings.$target.offset().top - e + this.settings.$next_tip.outerHeight()), g = d.width() + d.scrollLeft(), h = d.height() + f, i = d.height() + d.scrollTop(), j = d.scrollTop();
            return j > f && (j = 0 > f ? 0 : f), h > i && (i = h), [ c.offset().top < j, g < c.offset().left + c.outerWidth(), i < c.offset().top + c.outerHeight(), d.scrollLeft() > c.offset().left ];
        },
        visible: function(a) {
            for (var b = a.length; b--; ) if (a[b]) return !1;
            return !0;
        },
        nub_position: function(a, b, c) {
            a.addClass("auto" === b ? c : b);
        },
        startTimer: function() {
            this.settings.$li.length ? this.settings.automate = setTimeout(function() {
                this.hide(), this.show(), this.startTimer();
            }.bind(this), this.settings.timer) : clearTimeout(this.settings.automate);
        },
        end: function(b) {
            this.settings.cookie_monster && a.cookie(this.settings.cookie_name, "ridden", {
                expires: this.settings.cookie_expires,
                domain: this.settings.cookie_domain
            }), this.settings.timer > 0 && clearTimeout(this.settings.automate), this.settings.modal && this.settings.expose && this.un_expose(), 
            a(this.scope).off("keyup.joyride"), this.settings.$next_tip.data("closed", !0), 
            this.settings.riding = !1, a(".joyride-modal-bg").hide(), this.settings.$current_tip.hide(), 
            ("undefined" == typeof b || b === !1) && (this.settings.post_step_callback(this.settings.$li.index(), this.settings.$current_tip), 
            this.settings.post_ride_callback(this.settings.$li.index(), this.settings.$current_tip)), 
            a(".joyride-tip-guide").remove();
        },
        off: function() {
            a(this.scope).off(".joyride"), a(b).off(".joyride"), a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"), 
            a(".joyride-tip-guide, .joyride-modal-bg").remove(), clearTimeout(this.settings.automate), 
            this.settings = {};
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs["magellan-expedition"] = {
        name: "magellan-expedition",
        version: "5.5.2",
        settings: {
            active_class: "active",
            threshold: 0,
            destination_threshold: 20,
            throttle_delay: 30,
            fixed_top: 0,
            offset_by_height: !0,
            duration: 700,
            easing: "swing"
        },
        init: function(a, b, c) {
            Foundation.inherit(this, "throttle"), this.bindings(b, c);
        },
        events: function() {
            var b = this, c = b.S, d = b.settings;
            b.set_expedition_position(), c(b.scope).off(".magellan").on("click.fndtn.magellan", "[" + b.add_namespace("data-magellan-arrival") + "] a[href*=#]", function(c) {
                var d = this.hostname === location.hostname || !this.hostname, e = b.filterPathname(location.pathname) === b.filterPathname(this.pathname), f = this.hash.replace(/(:|\.|\/)/g, "\\$1"), g = this;
                if (d && e && f) {
                    c.preventDefault();
                    var h = a(this).closest("[" + b.attr_name() + "]"), i = h.data("magellan-expedition-init"), j = this.hash.split("#").join(""), k = a('a[name="' + j + '"]');
                    0 === k.length && (k = a("#" + j));
                    var l = k.offset().top - i.destination_threshold + 1;
                    i.offset_by_height && (l -= h.outerHeight()), a("html, body").stop().animate({
                        scrollTop: l
                    }, i.duration, i.easing, function() {
                        history.pushState ? history.pushState(null, null, g.pathname + "#" + j) : location.hash = g.pathname + "#" + j;
                    });
                }
            }).on("scroll.fndtn.magellan", b.throttle(this.check_for_arrivals.bind(this), d.throttle_delay));
        },
        check_for_arrivals: function() {
            var a = this;
            a.update_arrivals(), a.update_expedition_positions();
        },
        set_expedition_position: function() {
            var b = this;
            a("[" + this.attr_name() + "=fixed]", b.scope).each(function(c, d) {
                var e, f, g = a(this), h = g.data("magellan-expedition-init"), i = g.attr("styles");
                g.attr("style", ""), e = g.offset().top + h.threshold, f = parseInt(g.data("magellan-fixed-top")), 
                isNaN(f) || (b.settings.fixed_top = f), g.data(b.data_attr("magellan-top-offset"), e), 
                g.attr("style", i);
            });
        },
        update_expedition_positions: function() {
            var c = this, d = a(b).scrollTop();
            a("[" + this.attr_name() + "=fixed]", c.scope).each(function() {
                var b = a(this), e = b.data("magellan-expedition-init"), f = b.attr("style"), g = b.data("magellan-top-offset");
                if (d + c.settings.fixed_top >= g) {
                    var h = b.prev("[" + c.add_namespace("data-magellan-expedition-clone") + "]");
                    0 === h.length && (h = b.clone(), h.removeAttr(c.attr_name()), h.attr(c.add_namespace("data-magellan-expedition-clone"), ""), 
                    b.before(h)), b.css({
                        position: "fixed",
                        top: e.fixed_top
                    }).addClass("fixed");
                } else b.prev("[" + c.add_namespace("data-magellan-expedition-clone") + "]").remove(), 
                b.attr("style", f).css("position", "").css("top", "").removeClass("fixed");
            });
        },
        update_arrivals: function() {
            var c = this, d = a(b).scrollTop();
            a("[" + this.attr_name() + "]", c.scope).each(function() {
                var b = a(this), e = b.data(c.attr_name(!0) + "-init"), f = c.offsets(b, d), g = b.find("[" + c.add_namespace("data-magellan-arrival") + "]"), h = !1;
                f.each(function(a, d) {
                    if (d.viewport_offset >= d.top_offset) {
                        var f = b.find("[" + c.add_namespace("data-magellan-arrival") + "]");
                        return f.not(d.arrival).removeClass(e.active_class), d.arrival.addClass(e.active_class), 
                        h = !0, !0;
                    }
                }), h || g.removeClass(e.active_class);
            });
        },
        offsets: function(b, c) {
            var d = this, e = b.data(d.attr_name(!0) + "-init"), f = c;
            return b.find("[" + d.add_namespace("data-magellan-arrival") + "]").map(function(c, g) {
                var h = a(this).data(d.data_attr("magellan-arrival")), i = a("[" + d.add_namespace("data-magellan-destination") + "=" + h + "]");
                if (i.length > 0) {
                    var j = i.offset().top - e.destination_threshold;
                    return e.offset_by_height && (j -= b.outerHeight()), j = Math.floor(j), {
                        destination: i,
                        arrival: a(this),
                        top_offset: j,
                        viewport_offset: f
                    };
                }
            }).sort(function(a, b) {
                return a.top_offset < b.top_offset ? -1 : a.top_offset > b.top_offset ? 1 : 0;
            });
        },
        data_attr: function(a) {
            return this.namespace.length > 0 ? this.namespace + "-" + a : a;
        },
        off: function() {
            this.S(this.scope).off(".magellan"), this.S(b).off(".magellan");
        },
        filterPathname: function(a) {
            return a = a || "", a.replace(/^\//, "").replace(/(?:index|default).[a-zA-Z]{3,4}$/, "").replace(/\/$/, "");
        },
        reflow: function() {
            var b = this;
            a("[" + b.add_namespace("data-magellan-expedition-clone") + "]", b.scope).remove();
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.offcanvas = {
        name: "offcanvas",
        version: "5.5.2",
        settings: {
            open_method: "move",
            close_on_click: !1
        },
        init: function(a, b, c) {
            this.bindings(b, c);
        },
        events: function() {
            var b = this, c = b.S, d = "", e = "", f = "";
            "move" === this.settings.open_method ? (d = "move-", e = "right", f = "left") : "overlap_single" === this.settings.open_method ? (d = "offcanvas-overlap-", 
            e = "right", f = "left") : "overlap" === this.settings.open_method && (d = "offcanvas-overlap"), 
            c(this.scope).off(".offcanvas").on("click.fndtn.offcanvas", ".left-off-canvas-toggle", function(f) {
                b.click_toggle_class(f, d + e), "overlap" !== b.settings.open_method && c(".left-submenu").removeClass(d + e), 
                a(".left-off-canvas-toggle").attr("aria-expanded", "true");
            }).on("click.fndtn.offcanvas", ".left-off-canvas-menu a", function(f) {
                var g = b.get_settings(f), h = c(this).parent();
                !g.close_on_click || h.hasClass("has-submenu") || h.hasClass("back") ? c(this).parent().hasClass("has-submenu") ? (f.preventDefault(), 
                c(this).siblings(".left-submenu").toggleClass(d + e)) : h.hasClass("back") && (f.preventDefault(), 
                h.parent().removeClass(d + e)) : (b.hide.call(b, d + e, b.get_wrapper(f)), h.parent().removeClass(d + e)), 
                a(".left-off-canvas-toggle").attr("aria-expanded", "true");
            }).on("click.fndtn.offcanvas", ".right-off-canvas-toggle", function(e) {
                b.click_toggle_class(e, d + f), "overlap" !== b.settings.open_method && c(".right-submenu").removeClass(d + f), 
                a(".right-off-canvas-toggle").attr("aria-expanded", "true");
            }).on("click.fndtn.offcanvas", ".right-off-canvas-menu a", function(e) {
                var g = b.get_settings(e), h = c(this).parent();
                !g.close_on_click || h.hasClass("has-submenu") || h.hasClass("back") ? c(this).parent().hasClass("has-submenu") ? (e.preventDefault(), 
                c(this).siblings(".right-submenu").toggleClass(d + f)) : h.hasClass("back") && (e.preventDefault(), 
                h.parent().removeClass(d + f)) : (b.hide.call(b, d + f, b.get_wrapper(e)), h.parent().removeClass(d + f)), 
                a(".right-off-canvas-toggle").attr("aria-expanded", "true");
            }).on("click.fndtn.offcanvas", ".exit-off-canvas", function(g) {
                b.click_remove_class(g, d + f), c(".right-submenu").removeClass(d + f), e && (b.click_remove_class(g, d + e), 
                c(".left-submenu").removeClass(d + f)), a(".right-off-canvas-toggle").attr("aria-expanded", "true");
            }).on("click.fndtn.offcanvas", ".exit-off-canvas", function(c) {
                b.click_remove_class(c, d + f), a(".left-off-canvas-toggle").attr("aria-expanded", "false"), 
                e && (b.click_remove_class(c, d + e), a(".right-off-canvas-toggle").attr("aria-expanded", "false"));
            });
        },
        toggle: function(a, b) {
            b = b || this.get_wrapper(), b.is("." + a) ? this.hide(a, b) : this.show(a, b);
        },
        show: function(a, b) {
            b = b || this.get_wrapper(), b.trigger("open.fndtn.offcanvas"), b.addClass(a);
        },
        hide: function(a, b) {
            b = b || this.get_wrapper(), b.trigger("close.fndtn.offcanvas"), b.removeClass(a);
        },
        click_toggle_class: function(a, b) {
            a.preventDefault();
            var c = this.get_wrapper(a);
            this.toggle(b, c);
        },
        click_remove_class: function(a, b) {
            a.preventDefault();
            var c = this.get_wrapper(a);
            this.hide(b, c);
        },
        get_settings: function(a) {
            var b = this.S(a.target).closest("[" + this.attr_name() + "]");
            return b.data(this.attr_name(!0) + "-init") || this.settings;
        },
        get_wrapper: function(a) {
            var b = this.S(a ? a.target : this.scope).closest(".off-canvas-wrap");
            return 0 === b.length && (b = this.S(".off-canvas-wrap")), b;
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    var e = function() {}, f = function(e, f) {
        if (e.hasClass(f.slides_container_class)) return this;
        var j, k, l, m, n, o, p = this, q = e, r = 0, s = !1;
        p.slides = function() {
            return q.children(f.slide_selector);
        }, p.slides().first().addClass(f.active_slide_class), p.update_slide_number = function(b) {
            f.slide_number && (k.find("span:first").text(parseInt(b) + 1), k.find("span:last").text(p.slides().length)), 
            f.bullets && (l.children().removeClass(f.bullets_active_class), a(l.children().get(b)).addClass(f.bullets_active_class));
        }, p.update_active_link = function(b) {
            var c = a('[data-orbit-link="' + p.slides().eq(b).attr("data-orbit-slide") + '"]');
            c.siblings().removeClass(f.bullets_active_class), c.addClass(f.bullets_active_class);
        }, p.build_markup = function() {
            q.wrap('<div class="' + f.container_class + '"></div>'), j = q.parent(), q.addClass(f.slides_container_class), 
            f.stack_on_small && j.addClass(f.stack_on_small_class), f.navigation_arrows && (j.append(a('<a href="#"><span></span></a>').addClass(f.prev_class)), 
            j.append(a('<a href="#"><span></span></a>').addClass(f.next_class))), f.timer && (m = a("<div>").addClass(f.timer_container_class), 
            m.append("<span>"), m.append(a("<div>").addClass(f.timer_progress_class)), m.addClass(f.timer_paused_class), 
            j.append(m)), f.slide_number && (k = a("<div>").addClass(f.slide_number_class), 
            k.append("<span></span> " + f.slide_number_text + " <span></span>"), j.append(k)), 
            f.bullets && (l = a("<ol>").addClass(f.bullets_container_class), j.append(l), l.wrap('<div class="orbit-bullets-container"></div>'), 
            p.slides().each(function(b, c) {
                var d = a("<li>").attr("data-orbit-slide", b).on("click", p.link_bullet);
                l.append(d);
            }));
        }, p._goto = function(b, c) {
            if (b === r) return !1;
            "object" == typeof o && o.restart();
            var d = p.slides(), e = "next";
            if (s = !0, r > b && (e = "prev"), b >= d.length) {
                if (!f.circular) return !1;
                b = 0;
            } else if (0 > b) {
                if (!f.circular) return !1;
                b = d.length - 1;
            }
            var g = a(d.get(r)), h = a(d.get(b));
            g.css("zIndex", 2), g.removeClass(f.active_slide_class), h.css("zIndex", 4).addClass(f.active_slide_class), 
            q.trigger("before-slide-change.fndtn.orbit"), f.before_slide_change(), p.update_active_link(b);
            var i = function() {
                var a = function() {
                    r = b, s = !1, c === !0 && (o = p.create_timer(), o.start()), p.update_slide_number(r), 
                    q.trigger("after-slide-change.fndtn.orbit", [ {
                        slide_number: r,
                        total_slides: d.length
                    } ]), f.after_slide_change(r, d.length);
                };
                q.outerHeight() != h.outerHeight() && f.variable_height ? q.animate({
                    height: h.outerHeight()
                }, 250, "linear", a) : a();
            };
            if (1 === d.length) return i(), !1;
            var j = function() {
                "next" === e && n.next(g, h, i), "prev" === e && n.prev(g, h, i);
            };
            h.outerHeight() > q.outerHeight() && f.variable_height ? q.animate({
                height: h.outerHeight()
            }, 250, "linear", j) : j();
        }, p.next = function(a) {
            a.stopImmediatePropagation(), a.preventDefault(), p._goto(r + 1);
        }, p.prev = function(a) {
            a.stopImmediatePropagation(), a.preventDefault(), p._goto(r - 1);
        }, p.link_custom = function(b) {
            b.preventDefault();
            var c = a(this).attr("data-orbit-link");
            if ("string" == typeof c && "" != (c = a.trim(c))) {
                var d = j.find("[data-orbit-slide=" + c + "]");
                -1 != d.index() && p._goto(d.index());
            }
        }, p.link_bullet = function(b) {
            var c = a(this).attr("data-orbit-slide");
            if ("string" == typeof c && "" != (c = a.trim(c))) if (isNaN(parseInt(c))) {
                var d = j.find("[data-orbit-slide=" + c + "]");
                -1 != d.index() && p._goto(d.index() + 1);
            } else p._goto(parseInt(c));
        }, p.timer_callback = function() {
            p._goto(r + 1, !0);
        }, p.compute_dimensions = function() {
            var b = a(p.slides().get(r)), c = b.outerHeight();
            f.variable_height || p.slides().each(function() {
                a(this).outerHeight() > c && (c = a(this).outerHeight());
            }), q.height(c);
        }, p.create_timer = function() {
            var a = new g(j.find("." + f.timer_container_class), f, p.timer_callback);
            return a;
        }, p.stop_timer = function() {
            "object" == typeof o && o.stop();
        }, p.toggle_timer = function() {
            var a = j.find("." + f.timer_container_class);
            a.hasClass(f.timer_paused_class) ? ("undefined" == typeof o && (o = p.create_timer()), 
            o.start()) : "object" == typeof o && o.stop();
        }, p.init = function() {
            p.build_markup(), f.timer && (o = p.create_timer(), Foundation.utils.image_loaded(this.slides().children("img"), o.start)), 
            n = new i(f, q), "slide" === f.animation && (n = new h(f, q)), j.on("click", "." + f.next_class, p.next), 
            j.on("click", "." + f.prev_class, p.prev), f.next_on_click && j.on("click", "." + f.slides_container_class + " [data-orbit-slide]", p.link_bullet), 
            j.on("click", p.toggle_timer), f.swipe && j.on("touchstart.fndtn.orbit", function(a) {
                a.touches || (a = a.originalEvent);
                var b = {
                    start_page_x: a.touches[0].pageX,
                    start_page_y: a.touches[0].pageY,
                    start_time: new Date().getTime(),
                    delta_x: 0,
                    is_scrolling: d
                };
                j.data("swipe-transition", b), a.stopPropagation();
            }).on("touchmove.fndtn.orbit", function(a) {
                if (a.touches || (a = a.originalEvent), !(a.touches.length > 1 || a.scale && 1 !== a.scale)) {
                    var b = j.data("swipe-transition");
                    if ("undefined" == typeof b && (b = {}), b.delta_x = a.touches[0].pageX - b.start_page_x, 
                    "undefined" == typeof b.is_scrolling && (b.is_scrolling = !!(b.is_scrolling || Math.abs(b.delta_x) < Math.abs(a.touches[0].pageY - b.start_page_y))), 
                    !b.is_scrolling && !b.active) {
                        a.preventDefault();
                        var c = b.delta_x < 0 ? r + 1 : r - 1;
                        b.active = !0, p._goto(c);
                    }
                }
            }).on("touchend.fndtn.orbit", function(a) {
                j.data("swipe-transition", {}), a.stopPropagation();
            }), j.on("mouseenter.fndtn.orbit", function(a) {
                f.timer && f.pause_on_hover && p.stop_timer();
            }).on("mouseleave.fndtn.orbit", function(a) {
                f.timer && f.resume_on_mouseout && o.start();
            }), a(c).on("click", "[data-orbit-link]", p.link_custom), a(b).on("load resize", p.compute_dimensions), 
            Foundation.utils.image_loaded(this.slides().children("img"), p.compute_dimensions), 
            Foundation.utils.image_loaded(this.slides().children("img"), function() {
                j.prev("." + f.preloader_class).css("display", "none"), p.update_slide_number(0), 
                p.update_active_link(0), q.trigger("ready.fndtn.orbit");
            });
        }, p.init();
    }, g = function(a, b, c) {
        var d, e, f = this, g = b.timer_speed, h = a.find("." + b.timer_progress_class), i = -1;
        this.update_progress = function(a) {
            var b = h.clone();
            b.attr("style", ""), b.css("width", a + "%"), h.replaceWith(b), h = b;
        }, this.restart = function() {
            clearTimeout(e), a.addClass(b.timer_paused_class), i = -1, f.update_progress(0);
        }, this.start = function() {
            return a.hasClass(b.timer_paused_class) ? (i = -1 === i ? g : i, a.removeClass(b.timer_paused_class), 
            d = new Date().getTime(), h.animate({
                width: "100%"
            }, i, "linear"), e = setTimeout(function() {
                f.restart(), c();
            }, i), void a.trigger("timer-started.fndtn.orbit")) : !0;
        }, this.stop = function() {
            if (a.hasClass(b.timer_paused_class)) return !0;
            clearTimeout(e), a.addClass(b.timer_paused_class);
            var c = new Date().getTime();
            i -= c - d;
            var h = 100 - i / g * 100;
            f.update_progress(h), a.trigger("timer-stopped.fndtn.orbit");
        };
    }, h = function(b, c) {
        var d = b.animation_speed, e = 1 === a("html[dir=rtl]").length, f = e ? "marginRight" : "marginLeft", g = {};
        g[f] = "0%", this.next = function(a, b, c) {
            a.animate({
                marginLeft: "-100%"
            }, d), b.animate(g, d, function() {
                a.css(f, "100%"), c();
            });
        }, this.prev = function(a, b, c) {
            a.animate({
                marginLeft: "100%"
            }, d), b.css(f, "-100%"), b.animate(g, d, function() {
                a.css(f, "100%"), c();
            });
        };
    }, i = function(b, c) {
        {
            var d = b.animation_speed;
            1 === a("html[dir=rtl]").length;
        }
        this.next = function(a, b, c) {
            b.css({
                margin: "0%",
                opacity: "0.01"
            }), b.animate({
                opacity: "1"
            }, d, "linear", function() {
                a.css("margin", "100%"), c();
            });
        }, this.prev = function(a, b, c) {
            b.css({
                margin: "0%",
                opacity: "0.01"
            }), b.animate({
                opacity: "1"
            }, d, "linear", function() {
                a.css("margin", "100%"), c();
            });
        };
    };
    Foundation.libs = Foundation.libs || {}, Foundation.libs.orbit = {
        name: "orbit",
        version: "5.5.2",
        settings: {
            animation: "slide",
            timer_speed: 1e4,
            pause_on_hover: !0,
            resume_on_mouseout: !1,
            next_on_click: !0,
            animation_speed: 500,
            stack_on_small: !1,
            navigation_arrows: !0,
            slide_number: !0,
            slide_number_text: "of",
            container_class: "orbit-container",
            stack_on_small_class: "orbit-stack-on-small",
            next_class: "orbit-next",
            prev_class: "orbit-prev",
            timer_container_class: "orbit-timer",
            timer_paused_class: "paused",
            timer_progress_class: "orbit-progress",
            slides_container_class: "orbit-slides-container",
            preloader_class: "preloader",
            slide_selector: "*",
            bullets_container_class: "orbit-bullets",
            bullets_active_class: "active",
            slide_number_class: "orbit-slide-number",
            caption_class: "orbit-caption",
            active_slide_class: "active",
            orbit_transition_class: "orbit-transitioning",
            bullets: !0,
            circular: !0,
            timer: !0,
            variable_height: !1,
            swipe: !0,
            before_slide_change: e,
            after_slide_change: e
        },
        init: function(a, b, c) {
            this.bindings(b, c);
        },
        events: function(a) {
            var b = new f(this.S(a), this.S(a).data("orbit-init"));
            this.S(a).data(this.name + "-instance", b);
        },
        reflow: function() {
            var a = this;
            if (a.S(a.scope).is("[data-orbit]")) {
                var b = a.S(a.scope), c = b.data(a.name + "-instance");
                c.compute_dimensions();
            } else a.S("[data-orbit]", a.scope).each(function(b, c) {
                var d = a.S(c), e = (a.data_options(d), d.data(a.name + "-instance"));
                e.compute_dimensions();
            });
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    function e(a) {
        var b = /fade/i.test(a), c = /pop/i.test(a);
        return {
            animate: b || c,
            pop: c,
            fade: b
        };
    }
    Foundation.libs.reveal = {
        name: "reveal",
        version: "5.5.2",
        locked: !1,
        settings: {
            animation: "fadeAndPop",
            animation_speed: 250,
            close_on_background_click: !0,
            close_on_esc: !0,
            dismiss_modal_class: "close-reveal-modal",
            multiple_opened: !1,
            bg_class: "reveal-modal-bg",
            root_element: "body",
            open: function() {},
            opened: function() {},
            close: function() {},
            closed: function() {},
            on_ajax_error: a.noop,
            bg: a(".reveal-modal-bg"),
            css: {
                open: {
                    opacity: 0,
                    visibility: "visible",
                    display: "block"
                },
                close: {
                    opacity: 1,
                    visibility: "hidden",
                    display: "none"
                }
            }
        },
        init: function(b, c, d) {
            a.extend(!0, this.settings, c, d), this.bindings(c, d);
        },
        events: function(a) {
            var b = this, d = b.S;
            return d(this.scope).off(".reveal").on("click.fndtn.reveal", "[" + this.add_namespace("data-reveal-id") + "]:not([disabled])", function(a) {
                if (a.preventDefault(), !b.locked) {
                    var c = d(this), e = c.data(b.data_attr("reveal-ajax")), f = c.data(b.data_attr("reveal-replace-content"));
                    if (b.locked = !0, "undefined" == typeof e) b.open.call(b, c); else {
                        var g = e === !0 ? c.attr("href") : e;
                        b.open.call(b, c, {
                            url: g
                        }, {
                            replaceContentSel: f
                        });
                    }
                }
            }), d(c).on("click.fndtn.reveal", this.close_targets(), function(a) {
                if (a.preventDefault(), !b.locked) {
                    var c = d("[" + b.attr_name() + "].open").data(b.attr_name(!0) + "-init") || b.settings, e = d(a.target)[0] === d("." + c.bg_class)[0];
                    if (e) {
                        if (!c.close_on_background_click) return;
                        a.stopPropagation();
                    }
                    b.locked = !0, b.close.call(b, e ? d("[" + b.attr_name() + "].open:not(.toback)") : d(this).closest("[" + b.attr_name() + "]"));
                }
            }), d("[" + b.attr_name() + "]", this.scope).length > 0 ? d(this.scope).on("open.fndtn.reveal", this.settings.open).on("opened.fndtn.reveal", this.settings.opened).on("opened.fndtn.reveal", this.open_video).on("close.fndtn.reveal", this.settings.close).on("closed.fndtn.reveal", this.settings.closed).on("closed.fndtn.reveal", this.close_video) : d(this.scope).on("open.fndtn.reveal", "[" + b.attr_name() + "]", this.settings.open).on("opened.fndtn.reveal", "[" + b.attr_name() + "]", this.settings.opened).on("opened.fndtn.reveal", "[" + b.attr_name() + "]", this.open_video).on("close.fndtn.reveal", "[" + b.attr_name() + "]", this.settings.close).on("closed.fndtn.reveal", "[" + b.attr_name() + "]", this.settings.closed).on("closed.fndtn.reveal", "[" + b.attr_name() + "]", this.close_video), 
            !0;
        },
        key_up_on: function(a) {
            var b = this;
            return b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal", function(a) {
                var c = b.S("[" + b.attr_name() + "].open"), d = c.data(b.attr_name(!0) + "-init") || b.settings;
                d && 27 === a.which && d.close_on_esc && !b.locked && b.close.call(b, c);
            }), !0;
        },
        key_up_off: function(a) {
            return this.S("body").off("keyup.fndtn.reveal"), !0;
        },
        open: function(c, d) {
            var e, f = this;
            c ? "undefined" != typeof c.selector ? e = f.S("#" + c.data(f.data_attr("reveal-id"))).first() : (e = f.S(this.scope), 
            d = c) : e = f.S(this.scope);
            var g = e.data(f.attr_name(!0) + "-init");
            if (g = g || this.settings, e.hasClass("open") && c.attr("data-reveal-id") == e.attr("id")) return f.close(e);
            if (!e.hasClass("open")) {
                var h = f.S("[" + f.attr_name() + "].open");
                if ("undefined" == typeof e.data("css-top") && e.data("css-top", parseInt(e.css("top"), 10)).data("offset", this.cache_offset(e)), 
                e.attr("tabindex", "0").attr("aria-hidden", "false"), this.key_up_on(e), e.on("open.fndtn.reveal", function(a) {
                    "fndtn.reveal" !== a.namespace;
                }), e.on("open.fndtn.reveal").trigger("open.fndtn.reveal"), h.length < 1 && this.toggle_bg(e, !0), 
                "string" == typeof d && (d = {
                    url: d
                }), "undefined" != typeof d && d.url) {
                    var i = "undefined" != typeof d.success ? d.success : null;
                    a.extend(d, {
                        success: function(b, c, d) {
                            if (a.isFunction(i)) {
                                var j = i(b, c, d);
                                "string" == typeof j && (b = j);
                            }
                            "undefined" != typeof options && "undefined" != typeof options.replaceContentSel ? e.find(options.replaceContentSel).html(b) : e.html(b), 
                            f.S(e).foundation("section", "reflow"), f.S(e).children().foundation(), h.length > 0 && (g.multiple_opened ? f.to_back(h) : f.hide(h, g.css.close)), 
                            f.show(e, g.css.open);
                        }
                    }), g.on_ajax_error !== a.noop && a.extend(d, {
                        error: g.on_ajax_error
                    }), a.ajax(d);
                } else h.length > 0 && (g.multiple_opened ? f.to_back(h) : f.hide(h, g.css.close)), 
                this.show(e, g.css.open);
            }
            f.S(b).trigger("resize");
        },
        close: function(b) {
            var b = b && b.length ? b : this.S(this.scope), c = this.S("[" + this.attr_name() + "].open"), d = b.data(this.attr_name(!0) + "-init") || this.settings, e = this;
            c.length > 0 && (b.removeAttr("tabindex", "0").attr("aria-hidden", "true"), this.locked = !0, 
            this.key_up_off(b), b.trigger("close.fndtn.reveal"), (d.multiple_opened && 1 === c.length || !d.multiple_opened || b.length > 1) && (e.toggle_bg(b, !1), 
            e.to_front(b)), d.multiple_opened ? (e.hide(b, d.css.close, d), e.to_front(a(a.makeArray(c).reverse()[1]))) : e.hide(c, d.css.close, d));
        },
        close_targets: function() {
            var a = "." + this.settings.dismiss_modal_class;
            return this.settings.close_on_background_click ? a + ", ." + this.settings.bg_class : a;
        },
        toggle_bg: function(b, c) {
            0 === this.S("." + this.settings.bg_class).length && (this.settings.bg = a("<div />", {
                "class": this.settings.bg_class
            }).appendTo("body").hide());
            var e = this.settings.bg.filter(":visible").length > 0;
            c != e && ((c == d ? e : !c) ? this.hide(this.settings.bg) : this.show(this.settings.bg));
        },
        show: function(c, d) {
            if (d) {
                var f = c.data(this.attr_name(!0) + "-init") || this.settings, g = f.root_element, h = this;
                if (0 === c.parent(g).length) {
                    var i = c.wrap('<div style="display: none;" />').parent();
                    c.on("closed.fndtn.reveal.wrapped", function() {
                        c.detach().appendTo(i), c.unwrap().unbind("closed.fndtn.reveal.wrapped");
                    }), c.detach().appendTo(g);
                }
                var j = e(f.animation);
                if (j.animate || (this.locked = !1), j.pop) {
                    d.top = a(b).scrollTop() - c.data("offset") + "px";
                    var k = {
                        top: a(b).scrollTop() + c.data("css-top") + "px",
                        opacity: 1
                    };
                    return setTimeout(function() {
                        return c.css(d).animate(k, f.animation_speed, "linear", function() {
                            h.locked = !1, c.trigger("opened.fndtn.reveal");
                        }).addClass("open");
                    }, f.animation_speed / 2);
                }
                if (j.fade) {
                    d.top = a(b).scrollTop() + c.data("css-top") + "px";
                    var k = {
                        opacity: 1
                    };
                    return setTimeout(function() {
                        return c.css(d).animate(k, f.animation_speed, "linear", function() {
                            h.locked = !1, c.trigger("opened.fndtn.reveal");
                        }).addClass("open");
                    }, f.animation_speed / 2);
                }
                return c.css(d).show().css({
                    opacity: 1
                }).addClass("open").trigger("opened.fndtn.reveal");
            }
            var f = this.settings;
            return e(f.animation).fade ? c.fadeIn(f.animation_speed / 2) : (this.locked = !1, 
            c.show());
        },
        to_back: function(a) {
            a.addClass("toback");
        },
        to_front: function(a) {
            a.removeClass("toback");
        },
        hide: function(c, d) {
            if (d) {
                var f = c.data(this.attr_name(!0) + "-init"), g = this;
                f = f || this.settings;
                var h = e(f.animation);
                if (h.animate || (this.locked = !1), h.pop) {
                    var i = {
                        top: -a(b).scrollTop() - c.data("offset") + "px",
                        opacity: 0
                    };
                    return setTimeout(function() {
                        return c.animate(i, f.animation_speed, "linear", function() {
                            g.locked = !1, c.css(d).trigger("closed.fndtn.reveal");
                        }).removeClass("open");
                    }, f.animation_speed / 2);
                }
                if (h.fade) {
                    var i = {
                        opacity: 0
                    };
                    return setTimeout(function() {
                        return c.animate(i, f.animation_speed, "linear", function() {
                            g.locked = !1, c.css(d).trigger("closed.fndtn.reveal");
                        }).removeClass("open");
                    }, f.animation_speed / 2);
                }
                return c.hide().css(d).removeClass("open").trigger("closed.fndtn.reveal");
            }
            var f = this.settings;
            return e(f.animation).fade ? c.fadeOut(f.animation_speed / 2) : c.hide();
        },
        close_video: function(b) {
            var c = a(".flex-video", b.target), d = a("iframe", c);
            d.length > 0 && (d.attr("data-src", d[0].src), d.attr("src", d.attr("src")), c.hide());
        },
        open_video: function(b) {
            var c = a(".flex-video", b.target), e = c.find("iframe");
            if (e.length > 0) {
                var f = e.attr("data-src");
                if ("string" == typeof f) e[0].src = e.attr("data-src"); else {
                    var g = e[0].src;
                    e[0].src = d, e[0].src = g;
                }
                c.show();
            }
        },
        data_attr: function(a) {
            return this.namespace.length > 0 ? this.namespace + "-" + a : a;
        },
        cache_offset: function(a) {
            var b = a.show().height() + parseInt(a.css("top"), 10) + a.scrollY;
            return a.hide(), b;
        },
        off: function() {
            a(this.scope).off(".fndtn.reveal");
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.slider = {
        name: "slider",
        version: "5.5.2",
        settings: {
            start: 0,
            end: 100,
            step: 1,
            precision: null,
            initial: null,
            display_selector: "",
            vertical: !1,
            trigger_input_change: !1,
            on_change: function() {}
        },
        cache: {},
        init: function(a, b, c) {
            Foundation.inherit(this, "throttle"), this.bindings(b, c), this.reflow();
        },
        events: function() {
            var c = this;
            a(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider", "[" + c.attr_name() + "]:not(.disabled, [disabled]) .range-slider-handle", function(b) {
                c.cache.active || (b.preventDefault(), c.set_active_slider(a(b.target)));
            }).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider", function(d) {
                if (c.cache.active) if (d.preventDefault(), a.data(c.cache.active[0], "settings").vertical) {
                    var e = 0;
                    d.pageY || (e = b.scrollY), c.calculate_position(c.cache.active, c.get_cursor_position(d, "y") + e);
                } else c.calculate_position(c.cache.active, c.get_cursor_position(d, "x"));
            }).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider", function(a) {
                c.remove_active_slider();
            }).on("change.fndtn.slider", function(a) {
                c.settings.on_change();
            }), c.S(b).on("resize.fndtn.slider", c.throttle(function(a) {
                c.reflow();
            }, 300)), this.S("[" + this.attr_name() + "]").each(function() {
                var b = a(this), d = b.children(".range-slider-handle")[0], e = c.initialize_settings(d);
                "" != e.display_selector && a(e.display_selector).each(function() {
                    this.hasOwnProperty("value") && a(this).change(function() {
                        b.foundation("slider", "set_value", a(this).val());
                    });
                });
            });
        },
        get_cursor_position: function(a, b) {
            var c, d = "page" + b.toUpperCase(), e = "client" + b.toUpperCase();
            return "undefined" != typeof a[d] ? c = a[d] : "undefined" != typeof a.originalEvent[e] ? c = a.originalEvent[e] : a.originalEvent.touches && a.originalEvent.touches[0] && "undefined" != typeof a.originalEvent.touches[0][e] ? c = a.originalEvent.touches[0][e] : a.currentPoint && "undefined" != typeof a.currentPoint[b] && (c = a.currentPoint[b]), 
            c;
        },
        set_active_slider: function(a) {
            this.cache.active = a;
        },
        remove_active_slider: function() {
            this.cache.active = null;
        },
        calculate_position: function(b, c) {
            var d = this, e = a.data(b[0], "settings"), f = (a.data(b[0], "handle_l"), a.data(b[0], "handle_o"), 
            a.data(b[0], "bar_l")), g = a.data(b[0], "bar_o");
            requestAnimationFrame(function() {
                var a;
                a = Foundation.rtl && !e.vertical ? d.limit_to((g + f - c) / f, 0, 1) : d.limit_to((c - g) / f, 0, 1), 
                a = e.vertical ? 1 - a : a;
                var h = d.normalized_value(a, e.start, e.end, e.step, e.precision);
                d.set_ui(b, h);
            });
        },
        set_ui: function(b, c) {
            var d = a.data(b[0], "settings"), e = a.data(b[0], "handle_l"), f = a.data(b[0], "bar_l"), g = this.normalized_percentage(c, d.start, d.end), h = g * (f - e) - 1, i = 100 * g, j = b.parent(), k = b.parent().children("input[type=hidden]");
            Foundation.rtl && !d.vertical && (h = -h), h = d.vertical ? -h + f - e + 1 : h, 
            this.set_translate(b, h, d.vertical), d.vertical ? b.siblings(".range-slider-active-segment").css("height", i + "%") : b.siblings(".range-slider-active-segment").css("width", i + "%"), 
            j.attr(this.attr_name(), c).trigger("change.fndtn.slider"), k.val(c), d.trigger_input_change && k.trigger("change.fndtn.slider"), 
            b[0].hasAttribute("aria-valuemin") || b.attr({
                "aria-valuemin": d.start,
                "aria-valuemax": d.end
            }), b.attr("aria-valuenow", c), "" != d.display_selector && a(d.display_selector).each(function() {
                this.hasAttribute("value") ? a(this).val(c) : a(this).text(c);
            });
        },
        normalized_percentage: function(a, b, c) {
            return Math.min(1, (a - b) / (c - b));
        },
        normalized_value: function(a, b, c, d, e) {
            var f = c - b, g = a * f, h = (g - g % d) / d, i = g % d, j = i >= .5 * d ? d : 0;
            return (h * d + j + b).toFixed(e);
        },
        set_translate: function(b, c, d) {
            d ? a(b).css("-webkit-transform", "translateY(" + c + "px)").css("-moz-transform", "translateY(" + c + "px)").css("-ms-transform", "translateY(" + c + "px)").css("-o-transform", "translateY(" + c + "px)").css("transform", "translateY(" + c + "px)") : a(b).css("-webkit-transform", "translateX(" + c + "px)").css("-moz-transform", "translateX(" + c + "px)").css("-ms-transform", "translateX(" + c + "px)").css("-o-transform", "translateX(" + c + "px)").css("transform", "translateX(" + c + "px)");
        },
        limit_to: function(a, b, c) {
            return Math.min(Math.max(a, b), c);
        },
        initialize_settings: function(b) {
            var c, d = a.extend({}, this.settings, this.data_options(a(b).parent()));
            return null === d.precision && (c = ("" + d.step).match(/\.([\d]*)/), d.precision = c && c[1] ? c[1].length : 0), 
            d.vertical ? (a.data(b, "bar_o", a(b).parent().offset().top), a.data(b, "bar_l", a(b).parent().outerHeight()), 
            a.data(b, "handle_o", a(b).offset().top), a.data(b, "handle_l", a(b).outerHeight())) : (a.data(b, "bar_o", a(b).parent().offset().left), 
            a.data(b, "bar_l", a(b).parent().outerWidth()), a.data(b, "handle_o", a(b).offset().left), 
            a.data(b, "handle_l", a(b).outerWidth())), a.data(b, "bar", a(b).parent()), a.data(b, "settings", d);
        },
        set_initial_position: function(b) {
            var c = a.data(b.children(".range-slider-handle")[0], "settings"), d = "number" != typeof c.initial || isNaN(c.initial) ? Math.floor(.5 * (c.end - c.start) / c.step) * c.step + c.start : c.initial, e = b.children(".range-slider-handle");
            this.set_ui(e, d);
        },
        set_value: function(b) {
            var c = this;
            a("[" + c.attr_name() + "]", this.scope).each(function() {
                a(this).attr(c.attr_name(), b);
            }), a(this.scope).attr(c.attr_name()) && a(this.scope).attr(c.attr_name(), b), c.reflow();
        },
        reflow: function() {
            var b = this;
            b.S("[" + this.attr_name() + "]").each(function() {
                var c = a(this).children(".range-slider-handle")[0], d = a(this).attr(b.attr_name());
                b.initialize_settings(c), d ? b.set_ui(a(c), parseFloat(d)) : b.set_initial_position(a(this));
            });
        }
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.tab = {
        name: "tab",
        version: "5.5.2",
        settings: {
            active_class: "active",
            callback: function() {},
            deep_linking: !1,
            scroll_to_content: !0,
            is_hover: !1
        },
        default_tab_hashes: [],
        init: function(a, c, d) {
            var e = this, f = this.S;
            f("[" + this.attr_name() + "] > .active > a", this.scope).each(function() {
                e.default_tab_hashes.push(this.hash);
            }), e.entry_location = b.location.href, this.bindings(c, d), this.handle_location_hash_change();
        },
        events: function() {
            var a = this, c = this.S, d = function(b, d) {
                var e = c(d).closest("[" + a.attr_name() + "]").data(a.attr_name(!0) + "-init");
                (!e.is_hover || Modernizr.touch) && (b.preventDefault(), b.stopPropagation(), a.toggle_active_tab(c(d).parent()));
            };
            c(this.scope).off(".tab").on("keydown.fndtn.tab", "[" + this.attr_name() + "] > * > a", function(a) {
                var b = this, c = a.keyCode || a.which;
                9 == c && (a.preventDefault(), d(a, b));
            }).on("click.fndtn.tab", "[" + this.attr_name() + "] > * > a", function(a) {
                var b = this;
                d(a, b);
            }).on("mouseenter.fndtn.tab", "[" + this.attr_name() + "] > * > a", function(b) {
                var d = c(this).closest("[" + a.attr_name() + "]").data(a.attr_name(!0) + "-init");
                d.is_hover && a.toggle_active_tab(c(this).parent());
            }), c(b).on("hashchange.fndtn.tab", function(b) {
                b.preventDefault(), a.handle_location_hash_change();
            });
        },
        handle_location_hash_change: function() {
            var b = this, c = this.S;
            c("[" + this.attr_name() + "]", this.scope).each(function() {
                var e = c(this).data(b.attr_name(!0) + "-init");
                if (e.deep_linking) {
                    var f;
                    if (f = e.scroll_to_content ? b.scope.location.hash : b.scope.location.hash.replace("fndtn-", ""), 
                    "" != f) {
                        var g = c(f);
                        if (g.hasClass("content") && g.parent().hasClass("tabs-content")) b.toggle_active_tab(a("[" + b.attr_name() + "] > * > a[href=" + f + "]").parent()); else {
                            var h = g.closest(".content").attr("id");
                            h != d && b.toggle_active_tab(a("[" + b.attr_name() + "] > * > a[href=#" + h + "]").parent(), f);
                        }
                    } else for (var i = 0; i < b.default_tab_hashes.length; i++) b.toggle_active_tab(a("[" + b.attr_name() + "] > * > a[href=" + b.default_tab_hashes[i] + "]").parent());
                }
            });
        },
        toggle_active_tab: function(e, f) {
            var g = this, h = g.S, i = e.closest("[" + this.attr_name() + "]"), j = e.find("a"), k = e.children("a").first(), l = "#" + k.attr("href").split("#")[1], m = h(l), n = e.siblings(), o = i.data(this.attr_name(!0) + "-init"), p = function(b) {
                var d, e = a(this), f = a(this).parents("li").prev().children('[role="tab"]'), g = a(this).parents("li").next().children('[role="tab"]');
                switch (b.keyCode) {
                  case 37:
                    d = f;
                    break;

                  case 39:
                    d = g;
                    break;

                  default:
                    d = !1;
                }
                d.length && (e.attr({
                    tabindex: "-1",
                    "aria-selected": null
                }), d.attr({
                    tabindex: "0",
                    "aria-selected": !0
                }).focus()), a('[role="tabpanel"]').attr("aria-hidden", "true"), a("#" + a(c.activeElement).attr("href").substring(1)).attr("aria-hidden", null);
            }, q = function(a) {
                var c = b.location.href === g.entry_location, d = o.scroll_to_content ? g.default_tab_hashes[0] : c ? b.location.hash : "fndtn-" + g.default_tab_hashes[0].replace("#", "");
                c && a === d || (b.location.hash = a);
            };
            k.data("tab-content") && (l = "#" + k.data("tab-content").split("#")[1], m = h(l)), 
            o.deep_linking && (o.scroll_to_content ? (q(f || l), f == d || f == l ? e.parent()[0].scrollIntoView() : h(l)[0].scrollIntoView()) : q(f != d ? "fndtn-" + f.replace("#", "") : "fndtn-" + l.replace("#", ""))), 
            e.addClass(o.active_class).triggerHandler("opened"), j.attr({
                "aria-selected": "true",
                tabindex: 0
            }), n.removeClass(o.active_class), n.find("a").attr({
                "aria-selected": "false",
                tabindex: -1
            }), m.siblings().removeClass(o.active_class).attr({
                "aria-hidden": "true",
                tabindex: -1
            }), m.addClass(o.active_class).attr("aria-hidden", "false").removeAttr("tabindex"), 
            o.callback(e), m.triggerHandler("toggled", [ m ]), i.triggerHandler("toggled", [ e ]), 
            j.off("keydown").on("keydown", p);
        },
        data_attr: function(a) {
            return this.namespace.length > 0 ? this.namespace + "-" + a : a;
        },
        off: function() {},
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.tooltip = {
        name: "tooltip",
        version: "5.5.2",
        settings: {
            additional_inheritable_classes: [],
            tooltip_class: ".tooltip",
            append_to: "body",
            touch_close_text: "Tap To Close",
            disable_for_touch: !1,
            hover_delay: 200,
            show_on: "all",
            tip_template: function(a, b) {
                return '<span data-selector="' + a + '" id="' + a + '" class="' + Foundation.libs.tooltip.settings.tooltip_class.substring(1) + '" role="tooltip">' + b + '<span class="nub"></span></span>';
            }
        },
        cache: {},
        init: function(a, b, c) {
            Foundation.inherit(this, "random_str"), this.bindings(b, c);
        },
        should_show: function(b, c) {
            var d = a.extend({}, this.settings, this.data_options(b));
            return "all" === d.show_on ? !0 : this.small() && "small" === d.show_on ? !0 : this.medium() && "medium" === d.show_on ? !0 : this.large() && "large" === d.show_on ? !0 : !1;
        },
        medium: function() {
            return matchMedia(Foundation.media_queries.medium).matches;
        },
        large: function() {
            return matchMedia(Foundation.media_queries.large).matches;
        },
        events: function(b) {
            function c(a, b, c) {
                a.timer || (c ? (a.timer = null, e.showTip(b)) : a.timer = setTimeout(function() {
                    a.timer = null, e.showTip(b);
                }.bind(a), e.settings.hover_delay));
            }
            function d(a, b) {
                a.timer && (clearTimeout(a.timer), a.timer = null), e.hide(b);
            }
            var e = this, f = e.S;
            e.create(this.S(b)), a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip", "[" + this.attr_name() + "]", function(b) {
                var g = f(this), h = a.extend({}, e.settings, e.data_options(g)), i = !1;
                if (Modernizr.touch && /touchstart|MSPointerDown/i.test(b.type) && f(b.target).is("a")) return !1;
                if (/mouse/i.test(b.type) && e.ie_touch(b)) return !1;
                if (g.hasClass("open")) Modernizr.touch && /touchstart|MSPointerDown/i.test(b.type) && b.preventDefault(), 
                e.hide(g); else {
                    if (h.disable_for_touch && Modernizr.touch && /touchstart|MSPointerDown/i.test(b.type)) return;
                    if (!h.disable_for_touch && Modernizr.touch && /touchstart|MSPointerDown/i.test(b.type) && (b.preventDefault(), 
                    f(h.tooltip_class + ".open").hide(), i = !0, a(".open[" + e.attr_name() + "]").length > 0)) {
                        var j = f(a(".open[" + e.attr_name() + "]")[0]);
                        e.hide(j);
                    }
                    /enter|over/i.test(b.type) ? c(this, g) : "mouseout" === b.type || "mouseleave" === b.type ? d(this, g) : c(this, g, !0);
                }
            }).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip", "[" + this.attr_name() + "].open", function(b) {
                return /mouse/i.test(b.type) && e.ie_touch(b) ? !1 : void (("touch" != a(this).data("tooltip-open-event-type") || "mouseleave" != b.type) && ("mouse" == a(this).data("tooltip-open-event-type") && /MSPointerDown|touchstart/i.test(b.type) ? e.convert_to_touch(a(this)) : d(this, a(this))));
            }).on("DOMNodeRemoved DOMAttrModified", "[" + this.attr_name() + "]:not(a)", function(a) {
                d(this, f(this));
            });
        },
        ie_touch: function(a) {
            return !1;
        },
        showTip: function(a) {
            var b = this.getTip(a);
            return this.should_show(a, b) ? this.show(a) : void 0;
        },
        getTip: function(b) {
            var c = this.selector(b), d = a.extend({}, this.settings, this.data_options(b)), e = null;
            return c && (e = this.S('span[data-selector="' + c + '"]' + d.tooltip_class)), "object" == typeof e ? e : !1;
        },
        selector: function(a) {
            var b = a.attr(this.attr_name()) || a.attr("data-selector");
            return "string" != typeof b && (b = this.random_str(6), a.attr("data-selector", b).attr("aria-describedby", b)), 
            b;
        },
        create: function(c) {
            var d = this, e = a.extend({}, this.settings, this.data_options(c)), f = this.settings.tip_template;
            "string" == typeof e.tip_template && b.hasOwnProperty(e.tip_template) && (f = b[e.tip_template]);
            var g = a(f(this.selector(c), a("<div></div>").html(c.attr("title")).html())), h = this.inheritable_classes(c);
            g.addClass(h).appendTo(e.append_to), Modernizr.touch && (g.append('<span class="tap-to-close">' + e.touch_close_text + "</span>"), 
            g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip", function(a) {
                d.hide(c);
            })), c.removeAttr("title").attr("title", "");
        },
        reposition: function(b, c, d) {
            var e, f, g, h, i;
            if (c.css("visibility", "hidden").show(), e = b.data("width"), f = c.children(".nub"), 
            g = f.outerHeight(), h = f.outerHeight(), c.css(this.small() ? {
                width: "100%"
            } : {
                width: e ? e : "auto"
            }), i = function(a, b, c, d, e, f) {
                return a.css({
                    top: b ? b : "auto",
                    bottom: d ? d : "auto",
                    left: e ? e : "auto",
                    right: c ? c : "auto"
                }).end();
            }, i(c, b.offset().top + b.outerHeight() + 10, "auto", "auto", b.offset().left), 
            this.small()) i(c, b.offset().top + b.outerHeight() + 10, "auto", "auto", 12.5, a(this.scope).width()), 
            c.addClass("tip-override"), i(f, -g, "auto", "auto", b.offset().left); else {
                var j = b.offset().left;
                Foundation.rtl && (f.addClass("rtl"), j = b.offset().left + b.outerWidth() - c.outerWidth()), 
                i(c, b.offset().top + b.outerHeight() + 10, "auto", "auto", j), f.attr("style") && f.removeAttr("style"), 
                c.removeClass("tip-override"), d && d.indexOf("tip-top") > -1 ? (Foundation.rtl && f.addClass("rtl"), 
                i(c, b.offset().top - c.outerHeight(), "auto", "auto", j).removeClass("tip-override")) : d && d.indexOf("tip-left") > -1 ? (i(c, b.offset().top + b.outerHeight() / 2 - c.outerHeight() / 2, "auto", "auto", b.offset().left - c.outerWidth() - g).removeClass("tip-override"), 
                f.removeClass("rtl")) : d && d.indexOf("tip-right") > -1 && (i(c, b.offset().top + b.outerHeight() / 2 - c.outerHeight() / 2, "auto", "auto", b.offset().left + b.outerWidth() + g).removeClass("tip-override"), 
                f.removeClass("rtl"));
            }
            c.css("visibility", "visible").hide();
        },
        small: function() {
            return matchMedia(Foundation.media_queries.small).matches && !matchMedia(Foundation.media_queries.medium).matches;
        },
        inheritable_classes: function(b) {
            var c = a.extend({}, this.settings, this.data_options(b)), d = [ "tip-top", "tip-left", "tip-bottom", "tip-right", "radius", "round" ].concat(c.additional_inheritable_classes), e = b.attr("class"), f = e ? a.map(e.split(" "), function(b, c) {
                return -1 !== a.inArray(b, d) ? b : void 0;
            }).join(" ") : "";
            return a.trim(f);
        },
        convert_to_touch: function(b) {
            var c = this, d = c.getTip(b), e = a.extend({}, c.settings, c.data_options(b));
            0 === d.find(".tap-to-close").length && (d.append('<span class="tap-to-close">' + e.touch_close_text + "</span>"), 
            d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose", function(a) {
                c.hide(b);
            })), b.data("tooltip-open-event-type", "touch");
        },
        show: function(a) {
            var b = this.getTip(a);
            "touch" == a.data("tooltip-open-event-type") && this.convert_to_touch(a), this.reposition(a, b, a.attr("class")), 
            a.addClass("open"), b.fadeIn(150);
        },
        hide: function(a) {
            var b = this.getTip(a);
            b.fadeOut(150, function() {
                b.find(".tap-to-close").remove(), b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"), 
                a.removeClass("open");
            });
        },
        off: function() {
            var b = this;
            this.S(this.scope).off(".fndtn.tooltip"), this.S(this.settings.tooltip_class).each(function(c) {
                a("[" + b.attr_name() + "]").eq(c).attr("title", a(this).text());
            }).remove();
        },
        reflow: function() {}
    };
}(jQuery, window, window.document), function(a, b, c, d) {
    "use strict";
    Foundation.libs.topbar = {
        name: "topbar",
        version: "5.5.2",
        settings: {
            index: 0,
            start_offset: 0,
            sticky_class: "sticky",
            custom_back_text: !0,
            back_text: "Back",
            mobile_show_parent_link: !0,
            is_hover: !0,
            scrolltop: !0,
            sticky_on: "all",
            dropdown_autoclose: !0
        },
        init: function(b, c, d) {
            Foundation.inherit(this, "add_custom_rule register_media throttle");
            var e = this;
            e.register_media("topbar", "foundation-mq-topbar"), this.bindings(c, d), e.S("[" + this.attr_name() + "]", this.scope).each(function() {
                {
                    var b = a(this), c = b.data(e.attr_name(!0) + "-init");
                    e.S("section, .top-bar-section", this);
                }
                b.data("index", 0);
                var d = b.parent();
                d.hasClass("fixed") || e.is_sticky(b, d, c) ? (e.settings.sticky_class = c.sticky_class, 
                e.settings.sticky_topbar = b, b.data("height", d.outerHeight()), b.data("stickyoffset", d.offset().top)) : b.data("height", b.outerHeight()), 
                c.assembled || e.assemble(b), c.is_hover ? e.S(".has-dropdown", b).addClass("not-click") : e.S(".has-dropdown", b).removeClass("not-click"), 
                e.add_custom_rule(".f-topbar-fixed { padding-top: " + b.data("height") + "px }"), 
                d.hasClass("fixed") && e.S("body").addClass("f-topbar-fixed");
            });
        },
        is_sticky: function(a, b, c) {
            var d = b.hasClass(c.sticky_class), e = matchMedia(Foundation.media_queries.small).matches, f = matchMedia(Foundation.media_queries.medium).matches, g = matchMedia(Foundation.media_queries.large).matches;
            return d && "all" === c.sticky_on ? !0 : d && this.small() && -1 !== c.sticky_on.indexOf("small") && e && !f && !g ? !0 : d && this.medium() && -1 !== c.sticky_on.indexOf("medium") && e && f && !g ? !0 : d && this.large() && -1 !== c.sticky_on.indexOf("large") && e && f && g ? !0 : !1;
        },
        toggle: function(c) {
            var d, e = this;
            d = c ? e.S(c).closest("[" + this.attr_name() + "]") : e.S("[" + this.attr_name() + "]");
            var f = d.data(this.attr_name(!0) + "-init"), g = e.S("section, .top-bar-section", d);
            e.breakpoint() && (e.rtl ? (g.css({
                right: "0%"
            }), a(">.name", g).css({
                right: "100%"
            })) : (g.css({
                left: "0%"
            }), a(">.name", g).css({
                left: "100%"
            })), e.S("li.moved", g).removeClass("moved"), d.data("index", 0), d.toggleClass("expanded").css("height", "")), 
            f.scrolltop ? d.hasClass("expanded") ? d.parent().hasClass("fixed") && (f.scrolltop ? (d.parent().removeClass("fixed"), 
            d.addClass("fixed"), e.S("body").removeClass("f-topbar-fixed"), b.scrollTo(0, 0)) : d.parent().removeClass("expanded")) : d.hasClass("fixed") && (d.parent().addClass("fixed"), 
            d.removeClass("fixed"), e.S("body").addClass("f-topbar-fixed")) : (e.is_sticky(d, d.parent(), f) && d.parent().addClass("fixed"), 
            d.parent().hasClass("fixed") && (d.hasClass("expanded") ? (d.addClass("fixed"), 
            d.parent().addClass("expanded"), e.S("body").addClass("f-topbar-fixed")) : (d.removeClass("fixed"), 
            d.parent().removeClass("expanded"), e.update_sticky_positioning())));
        },
        timer: null,
        events: function(c) {
            var d = this, e = this.S;
            e(this.scope).off(".topbar").on("click.fndtn.topbar", "[" + this.attr_name() + "] .toggle-topbar", function(a) {
                a.preventDefault(), d.toggle(this);
            }).on("click.fndtn.topbar contextmenu.fndtn.topbar", '.top-bar .top-bar-section li a[href^="#"],[' + this.attr_name() + '] .top-bar-section li a[href^="#"]', function(b) {
                var c = a(this).closest("li"), e = c.closest("[" + d.attr_name() + "]"), f = e.data(d.attr_name(!0) + "-init");
                if (f.dropdown_autoclose && f.is_hover) {
                    var g = a(this).closest(".hover");
                    g.removeClass("hover");
                }
                !d.breakpoint() || c.hasClass("back") || c.hasClass("has-dropdown") || d.toggle();
            }).on("click.fndtn.topbar", "[" + this.attr_name() + "] li.has-dropdown", function(b) {
                var c = e(this), f = e(b.target), g = c.closest("[" + d.attr_name() + "]"), h = g.data(d.attr_name(!0) + "-init");
                return f.data("revealId") ? void d.toggle() : void (d.breakpoint() || (!h.is_hover || Modernizr.touch) && (b.stopImmediatePropagation(), 
                c.hasClass("hover") ? (c.removeClass("hover").find("li").removeClass("hover"), c.parents("li.hover").removeClass("hover")) : (c.addClass("hover"), 
                a(c).siblings().removeClass("hover"), "A" === f[0].nodeName && f.parent().hasClass("has-dropdown") && b.preventDefault())));
            }).on("click.fndtn.topbar", "[" + this.attr_name() + "] .has-dropdown>a", function(a) {
                if (d.breakpoint()) {
                    a.preventDefault();
                    var b = e(this), c = b.closest("[" + d.attr_name() + "]"), f = c.find("section, .top-bar-section"), g = (b.next(".dropdown").outerHeight(), 
                    b.closest("li"));
                    c.data("index", c.data("index") + 1), g.addClass("moved"), d.rtl ? (f.css({
                        right: -(100 * c.data("index")) + "%"
                    }), f.find(">.name").css({
                        right: 100 * c.data("index") + "%"
                    })) : (f.css({
                        left: -(100 * c.data("index")) + "%"
                    }), f.find(">.name").css({
                        left: 100 * c.data("index") + "%"
                    })), c.css("height", b.siblings("ul").outerHeight(!0) + c.data("height"));
                }
            }), e(b).off(".topbar").on("resize.fndtn.topbar", d.throttle(function() {
                d.resize.call(d);
            }, 50)).trigger("resize.fndtn.topbar").load(function() {
                e(this).trigger("resize.fndtn.topbar");
            }), e("body").off(".topbar").on("click.fndtn.topbar", function(a) {
                var b = e(a.target).closest("li").closest("li.hover");
                b.length > 0 || e("[" + d.attr_name() + "] li.hover").removeClass("hover");
            }), e(this.scope).on("click.fndtn.topbar", "[" + this.attr_name() + "] .has-dropdown .back", function(a) {
                a.preventDefault();
                var b = e(this), c = b.closest("[" + d.attr_name() + "]"), f = c.find("section, .top-bar-section"), g = (c.data(d.attr_name(!0) + "-init"), 
                b.closest("li.moved")), h = g.parent();
                c.data("index", c.data("index") - 1), d.rtl ? (f.css({
                    right: -(100 * c.data("index")) + "%"
                }), f.find(">.name").css({
                    right: 100 * c.data("index") + "%"
                })) : (f.css({
                    left: -(100 * c.data("index")) + "%"
                }), f.find(">.name").css({
                    left: 100 * c.data("index") + "%"
                })), 0 === c.data("index") ? c.css("height", "") : c.css("height", h.outerHeight(!0) + c.data("height")), 
                setTimeout(function() {
                    g.removeClass("moved");
                }, 300);
            }), e(this.scope).find(".dropdown a").focus(function() {
                a(this).parents(".has-dropdown").addClass("hover");
            }).blur(function() {
                a(this).parents(".has-dropdown").removeClass("hover");
            });
        },
        resize: function() {
            var a = this;
            a.S("[" + this.attr_name() + "]").each(function() {
                var b, d = a.S(this), e = d.data(a.attr_name(!0) + "-init"), f = d.parent("." + a.settings.sticky_class);
                if (!a.breakpoint()) {
                    var g = d.hasClass("expanded");
                    d.css("height", "").removeClass("expanded").find("li").removeClass("hover"), g && a.toggle(d);
                }
                a.is_sticky(d, f, e) && (f.hasClass("fixed") ? (f.removeClass("fixed"), b = f.offset().top, 
                a.S(c.body).hasClass("f-topbar-fixed") && (b -= d.data("height")), d.data("stickyoffset", b), 
                f.addClass("fixed")) : (b = f.offset().top, d.data("stickyoffset", b)));
            });
        },
        breakpoint: function() {
            return !matchMedia(Foundation.media_queries.topbar).matches;
        },
        small: function() {
            return matchMedia(Foundation.media_queries.small).matches;
        },
        medium: function() {
            return matchMedia(Foundation.media_queries.medium).matches;
        },
        large: function() {
            return matchMedia(Foundation.media_queries.large).matches;
        },
        assemble: function(b) {
            var c = this, d = b.data(this.attr_name(!0) + "-init"), e = c.S("section, .top-bar-section", b);
            e.detach(), c.S(".has-dropdown>a", e).each(function() {
                var b, e = c.S(this), f = e.siblings(".dropdown"), g = e.attr("href");
                f.find(".title.back").length || (b = a(1 == d.mobile_show_parent_link && g ? '<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="' + g + '">' + e.html() + "</a></li>" : '<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'), 
                a("h5>a", b).html(1 == d.custom_back_text ? d.back_text : "&laquo; " + e.html()), 
                f.prepend(b));
            }), e.appendTo(b), this.sticky(), this.assembled(b);
        },
        assembled: function(b) {
            b.data(this.attr_name(!0), a.extend({}, b.data(this.attr_name(!0)), {
                assembled: !0
            }));
        },
        height: function(b) {
            var c = 0, d = this;
            return a("> li", b).each(function() {
                c += d.S(this).outerHeight(!0);
            }), c;
        },
        sticky: function() {
            var a = this;
            this.S(b).on("scroll", function() {
                a.update_sticky_positioning();
            });
        },
        update_sticky_positioning: function() {
            var a = "." + this.settings.sticky_class, c = this.S(b), d = this;
            if (d.settings.sticky_topbar && d.is_sticky(this.settings.sticky_topbar, this.settings.sticky_topbar.parent(), this.settings)) {
                var e = this.settings.sticky_topbar.data("stickyoffset") + this.settings.start_offset;
                d.S(a).hasClass("expanded") || (c.scrollTop() > e ? d.S(a).hasClass("fixed") || (d.S(a).addClass("fixed"), 
                d.S("body").addClass("f-topbar-fixed")) : c.scrollTop() <= e && d.S(a).hasClass("fixed") && (d.S(a).removeClass("fixed"), 
                d.S("body").removeClass("f-topbar-fixed")));
            }
        },
        off: function() {
            this.S(this.scope).off(".fndtn.topbar"), this.S(b).off(".fndtn.topbar");
        },
        reflow: function() {}
    };
}(jQuery, window, window.document);

(function(a, b, c, d) {
    "use strict";
    Foundation.libs["magellan-expedition"] = {
        name: "magellan-expedition",
        version: "5.5.2",
        settings: {
            active_class: "active",
            threshold: 0,
            destination_threshold: 20,
            throttle_delay: 30,
            fixed_top: 0,
            offset_by_height: true,
            duration: 700,
            easing: "swing"
        },
        init: function(a, b, c) {
            Foundation.inherit(this, "throttle");
            this.bindings(b, c);
        },
        events: function() {
            var b = this, c = b.S, d = b.settings;
            b.set_expedition_position();
            c(b.scope).off(".magellan").on("click.fndtn.magellan", "[" + b.add_namespace("data-magellan-arrival") + "] a[href*=#]", function(c) {
                var d = this.hostname === location.hostname || !this.hostname, e = b.filterPathname(location.pathname) === b.filterPathname(this.pathname), f = this.hash.replace(/(:|\.|\/)/g, "\\$1"), g = this;
                if (d && e && f) {
                    c.preventDefault();
                    var h = a(this).closest("[" + b.attr_name() + "]"), i = h.data("magellan-expedition-init"), j = this.hash.split("#").join(""), k = a('a[name="' + j + '"]');
                    if (k.length === 0) {
                        k = a("#" + j);
                    }
                    var l = k.offset().top - i.destination_threshold + 1;
                    if (i.offset_by_height) {
                        l = l - h.outerHeight();
                    }
                    a("html, body").stop().animate({
                        scrollTop: l
                    }, i.duration, i.easing, function() {
                        if (history.pushState) {
                            history.pushState(null, null, g.pathname + "#" + j);
                        } else {
                            location.hash = g.pathname + "#" + j;
                        }
                    });
                }
            }).on("scroll.fndtn.magellan", b.throttle(this.check_for_arrivals.bind(this), d.throttle_delay));
        },
        check_for_arrivals: function() {
            var a = this;
            a.update_arrivals();
            a.update_expedition_positions();
        },
        set_expedition_position: function() {
            var b = this;
            a("[" + this.attr_name() + "=fixed]", b.scope).each(function(c, d) {
                var e = a(this), f = e.data("magellan-expedition-init"), g = e.attr("styles"), h, i;
                e.attr("style", "");
                h = e.offset().top + f.threshold;
                i = parseInt(e.data("magellan-fixed-top"));
                if (!isNaN(i)) {
                    b.settings.fixed_top = i;
                }
                e.data(b.data_attr("magellan-top-offset"), h);
                e.attr("style", g);
            });
        },
        update_expedition_positions: function() {
            var c = this, d = a(b).scrollTop();
            a("[" + this.attr_name() + "=fixed]", c.scope).each(function() {
                var b = a(this), e = b.data("magellan-expedition-init"), f = b.attr("style"), g = b.data("magellan-top-offset");
                if (d + c.settings.fixed_top >= g) {
                    var h = b.prev("[" + c.add_namespace("data-magellan-expedition-clone") + "]");
                    if (h.length === 0) {
                        h = b.clone();
                        h.removeAttr(c.attr_name());
                        h.attr(c.add_namespace("data-magellan-expedition-clone"), "");
                        b.before(h);
                    }
                    b.css({
                        position: "fixed",
                        top: e.fixed_top
                    }).addClass("fixed");
                } else {
                    b.prev("[" + c.add_namespace("data-magellan-expedition-clone") + "]").remove();
                    b.attr("style", f).css("position", "").css("top", "").removeClass("fixed");
                }
            });
        },
        update_arrivals: function() {
            var c = this, d = a(b).scrollTop();
            a("[" + this.attr_name() + "]", c.scope).each(function() {
                var b = a(this), e = b.data(c.attr_name(true) + "-init"), f = c.offsets(b, d), g = b.find("[" + c.add_namespace("data-magellan-arrival") + "]"), h = false;
                f.each(function(a, d) {
                    if (d.viewport_offset >= d.top_offset) {
                        var f = b.find("[" + c.add_namespace("data-magellan-arrival") + "]");
                        f.not(d.arrival).removeClass(e.active_class);
                        d.arrival.addClass(e.active_class);
                        h = true;
                        return true;
                    }
                });
                if (!h) {
                    g.removeClass(e.active_class);
                }
            });
        },
        offsets: function(b, c) {
            var d = this, e = b.data(d.attr_name(true) + "-init"), f = c;
            return b.find("[" + d.add_namespace("data-magellan-arrival") + "]").map(function(c, g) {
                var h = a(this).data(d.data_attr("magellan-arrival")), i = a("[" + d.add_namespace("data-magellan-destination") + "=" + h + "]");
                if (i.length > 0) {
                    var j = i.offset().top - e.destination_threshold;
                    if (e.offset_by_height) {
                        j = j - b.outerHeight();
                    }
                    j = Math.floor(j);
                    return {
                        destination: i,
                        arrival: a(this),
                        top_offset: j,
                        viewport_offset: f
                    };
                }
            }).sort(function(a, b) {
                if (a.top_offset < b.top_offset) {
                    return -1;
                }
                if (a.top_offset > b.top_offset) {
                    return 1;
                }
                return 0;
            });
        },
        data_attr: function(a) {
            if (this.namespace.length > 0) {
                return this.namespace + "-" + a;
            }
            return a;
        },
        off: function() {
            this.S(this.scope).off(".magellan");
            this.S(b).off(".magellan");
        },
        filterPathname: function(a) {
            a = a || "";
            return a.replace(/^\//, "").replace(/(?:index|default).[a-zA-Z]{3,4}$/, "").replace(/\/$/, "");
        },
        reflow: function() {
            var b = this;
            a("[" + b.add_namespace("data-magellan-expedition-clone") + "]", b.scope).remove();
        }
    };
})(jQuery, window, window.document);

this.runalyze = this.runalyze || {};

(function() {
    var a = function() {
        this.init();
    }, b = a.prototype;
    b.init = function() {
        this.addEvents();
        this.languageSelector();
        this.loginBoxView();
        this.updateSizes();
    };
    b.addEvents = function() {
        $(window).on("scroll", $.proxy(this._onScroll, this));
        $(window).on("resize", $.proxy(this._onResize, this));
        $(document).on("keyup", $.proxy(this._onKeyUp, this));
    };
    b.languageSelector = function() {
        $("#openLanguageSelector").on("click", function(a) {
            a.preventDefault();
            $("#languageSelector").fadeIn(400);
        });
        $("#closeLanguageSelector").on("click", function(a) {
            a.preventDefault();
            $("#languageSelector").fadeOut(400);
        });
    };
    b.loginBoxView = function() {
        $("#login-panel a").on("click", function(a) {
            a.preventDefault();
            var b = $("#login"), c = $("#registerFormular"), d = $("#forgotPassword");
            console.log(this.id);
            if (this.id == "reg") {
                c.show();
                b.hide();
                d.hide();
            } else if (this.id == "pwf") {
                d.show();
                c.hide();
                b.hide();
            } else if (this.id == "log") {
                b.show();
                d.hide();
                c.hide();
            }
        });
    };
    b.updateSizes = function() {};
    b._onScroll = function(a) {};
    b._onResize = function(a) {
        this.updateSizes();
    };
    b._onKeyUp = function(a) {
        if (a.keyCode == 27) {
            $("#nav").fadeOut(400);
            this.hideSearch();
        }
    };
    runalyze.App = a;
})();

$(document).ready(function() {
    $(document).foundation();
    Runalyze.init();
    app = new runalyze.App();
});